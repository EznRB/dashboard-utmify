<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="Utmify API Tests" tests="123" failures="89" errors="0" time="19.99">
  <testsuite name="GoogleAdsService" errors="0" failures="0" skipped="0" timestamp="2025-09-12T00:53:43" time="7.127" tests="4">
    <testcase classname="GoogleAdsService generateAuthUrl should generate a valid OAuth URL" name="GoogleAdsService generateAuthUrl should generate a valid OAuth URL" time="0.01">
    </testcase>
    <testcase classname="GoogleAdsService exchangeCodeForToken should exchange authorization code for tokens" name="GoogleAdsService exchangeCodeForToken should exchange authorization code for tokens" time="0.007">
    </testcase>
    <testcase classname="GoogleAdsService exchangeCodeForToken should throw error for invalid authorization code" name="GoogleAdsService exchangeCodeForToken should throw error for invalid authorization code" time="0.043">
    </testcase>
    <testcase classname="GoogleAdsService getCustomerAccounts should fetch Google Ads customer accounts" name="GoogleAdsService getCustomerAccounts should fetch Google Ads customer accounts" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="WhatsAppService" errors="0" failures="12" skipped="0" timestamp="2025-09-12T00:53:51" time="2.862" tests="12">
    <testcase classname="WhatsAppService getConfig should return WhatsApp config for user" name="WhatsAppService getConfig should return WhatsApp config for user" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService getConfig should return null if config not found" name="WhatsAppService getConfig should return null if config not found" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService updateConfig should create new config if not exists" name="WhatsAppService updateConfig should create new config if not exists" time="0.013">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService updateConfig should update existing config" name="WhatsAppService updateConfig should update existing config" time="0.005">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService sendMessage should send message successfully" name="WhatsAppService sendMessage should send message successfully" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService sendMessage should throw error if config not found" name="WhatsAppService sendMessage should throw error if config not found" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService sendMessage should throw error if config is inactive" name="WhatsAppService sendMessage should throw error if config is inactive" time="0.003">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService sendMessage should throw error if daily limit exceeded" name="WhatsAppService sendMessage should throw error if daily limit exceeded" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService getMessages should return paginated messages" name="WhatsAppService getMessages should return paginated messages" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService getDashboardStats should return dashboard statistics" name="WhatsAppService getDashboardStats should return dashboard statistics" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService testConnection should test connection successfully" name="WhatsAppService testConnection should test connection successfully" time="0.005">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="WhatsAppService testConnection should handle connection error" name="WhatsAppService testConnection should handle connection error" time="0.004">
      <failure>TypeError: globals_1.jest.mocked(...).mockReturnValue is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\whatsapp.service.test.ts:70:25)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Controller - Simple Tests" errors="0" failures="0" skipped="0" timestamp="2025-09-12T00:53:54" time="0.349" tests="11">
    <testcase classname="WhatsApp Controller - Simple Tests getConfig should return WhatsApp config successfully" name="WhatsApp Controller - Simple Tests getConfig should return WhatsApp config successfully" time="0.007">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests getConfig should return 401 if user not authenticated" name="WhatsApp Controller - Simple Tests getConfig should return 401 if user not authenticated" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests getConfig should return 500 on service error" name="WhatsApp Controller - Simple Tests getConfig should return 500 on service error" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests updateConfig should update WhatsApp config successfully" name="WhatsApp Controller - Simple Tests updateConfig should update WhatsApp config successfully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests sendMessage should send message successfully" name="WhatsApp Controller - Simple Tests sendMessage should send message successfully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests sendMessage should return 400 if to or message is missing" name="WhatsApp Controller - Simple Tests sendMessage should return 400 if to or message is missing" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests sendMessage should return 400 for WhatsApp service errors" name="WhatsApp Controller - Simple Tests sendMessage should return 400 for WhatsApp service errors" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests getMessages should return paginated messages" name="WhatsApp Controller - Simple Tests getMessages should return paginated messages" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests getMessages should use custom page and limit from query" name="WhatsApp Controller - Simple Tests getMessages should use custom page and limit from query" time="0.009">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests should have basic Jest functionality working" name="WhatsApp Controller - Simple Tests should have basic Jest functionality working" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Controller - Simple Tests should have Jest mocks working for controller" name="WhatsApp Controller - Simple Tests should have Jest mocks working for controller" time="0.002">
    </testcase>
  </testsuite>
  <testsuite name="WhatsApp Service - Simple Tests" errors="0" failures="0" skipped="0" timestamp="2025-09-12T00:53:54" time="0.487" tests="8">
    <testcase classname="WhatsApp Service - Simple Tests getConfig should return WhatsApp config for user" name="WhatsApp Service - Simple Tests getConfig should return WhatsApp config for user" time="0.008">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests getConfig should return null if config not found" name="WhatsApp Service - Simple Tests getConfig should return null if config not found" time="0.006">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests sendMessage should send message successfully" name="WhatsApp Service - Simple Tests sendMessage should send message successfully" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests sendMessage should throw error if config not found" name="WhatsApp Service - Simple Tests sendMessage should throw error if config not found" time="0.018">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests sendMessage should throw error if config is inactive" name="WhatsApp Service - Simple Tests sendMessage should throw error if config is inactive" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests sendMessage should throw error if daily limit exceeded" name="WhatsApp Service - Simple Tests sendMessage should throw error if daily limit exceeded" time="0.003">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests should have basic Jest functionality working" name="WhatsApp Service - Simple Tests should have basic Jest functionality working" time="0.004">
    </testcase>
    <testcase classname="WhatsApp Service - Simple Tests should have Jest mocks working" name="WhatsApp Service - Simple Tests should have Jest mocks working" time="0.003">
    </testcase>
  </testsuite>
  <testsuite name="StoredProceduresService" errors="0" failures="32" skipped="3" timestamp="2025-09-12T00:53:58" time="0.847" tests="39">
    <testcase classname="StoredProceduresService calculateKPIMetrics should execute KPI calculation stored procedure successfully" name="StoredProceduresService calculateKPIMetrics should execute KPI calculation stored procedure successfully" time="0.006">
      <failure>Error: Failed to calculate KPI metrics using stored procedure
    at StoredProceduresService.calculateKPIMetrics (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:87:13)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:90:52)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService calculateKPIMetrics should handle empty results gracefully" name="StoredProceduresService calculateKPIMetrics should handle empty results gracefully" time="0.005">
      <failure>Error: Failed to calculate KPI metrics using stored procedure
    at StoredProceduresService.calculateKPIMetrics (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:87:13)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:108:52)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService calculateKPIMetrics should handle database errors" name="StoredProceduresService calculateKPIMetrics should handle database errors" time="0.011">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Database connection failed&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:121:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:126:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService calculateKPIMetrics should validate input parameters" name="StoredProceduresService calculateKPIMetrics should validate input parameters" time="0.008">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Organization ID is required&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:131:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:132:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService calculateKPIMetrics should validate date range" name="StoredProceduresService calculateKPIMetrics should validate date range" time="0.008">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;End date must be after start date&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:147:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:152:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getTopCampaigns should execute top campaigns stored procedure successfully" name="StoredProceduresService getTopCampaigns should execute top campaigns stored procedure successfully" time="0.038">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: Anything, &quot;123e4567-e89b-12d3-a456-426614174000&quot;, 2024-01-01T00:00:00.000Z, 2024-01-31T00:00:00.000Z, &quot;revenue&quot;, 10
Received: [&quot;
        SELECT * FROM get_top_campaigns(
          &quot;, &quot;::uuid,
          &quot;, &quot;::date,
          &quot;, &quot;::date,
          &quot;, &quot;::integer
        )
      &quot;], &quot;123e4567-e89b-12d3-a456-426614174000&quot;, 2024-01-01T00:00:00.000Z, 2024-01-31T00:00:00.000Z, &quot;revenue&quot;

Number of calls: 1
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:168:36)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getTopCampaigns should use default parameters when not provided" name="StoredProceduresService getTopCampaigns should use default parameters when not provided" time="0.008">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

Expected: Anything, &quot;123e4567-e89b-12d3-a456-426614174000&quot;, 2024-01-01T00:00:00.000Z, 2024-01-31T00:00:00.000Z, &quot;revenue&quot;, 5
Received: [&quot;
        SELECT * FROM get_top_campaigns(
          &quot;, &quot;::uuid,
          &quot;, &quot;::date,
          &quot;, &quot;::date,
          &quot;, &quot;::integer
        )
      &quot;], &quot;123e4567-e89b-12d3-a456-426614174000&quot;, 2024-01-01T00:00:00.000Z, 2024-01-31T00:00:00.000Z, 10

Number of calls: 1
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:188:36)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getTopCampaigns should validate metric parameter" name="StoredProceduresService getTopCampaigns should validate metric parameter" time="0.007">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: undefined
    at expect (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:113:15)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:199:19)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getTopCampaigns should validate limit parameter" name="StoredProceduresService getTopCampaigns should validate limit parameter" time="0.005">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: undefined
    at expect (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:113:15)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:210:19)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService calculateFunnelMetrics should execute funnel calculation stored procedure successfully" name="StoredProceduresService calculateFunnelMetrics should execute funnel calculation stored procedure successfully" time="0.005">
    </testcase>
    <testcase classname="StoredProceduresService calculateFunnelMetrics should handle empty funnel results" name="StoredProceduresService calculateFunnelMetrics should handle empty funnel results" time="0.004">
    </testcase>
    <testcase classname="StoredProceduresService calculateFunnelMetrics should calculate funnel conversion rates correctly" name="StoredProceduresService calculateFunnelMetrics should calculate funnel conversion rates correctly" time="0.003">
    </testcase>
    <testcase classname="StoredProceduresService updateRealTimeMetrics should execute real-time metrics update successfully" name="StoredProceduresService updateRealTimeMetrics should execute real-time metrics update successfully" time="0.003">
      <failure>TypeError: storedProceduresService.updateRealTimeMetrics is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:283:37)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService updateRealTimeMetrics should handle different event types" name="StoredProceduresService updateRealTimeMetrics should handle different event types" time="0.002">
      <failure>TypeError: storedProceduresService.updateRealTimeMetrics is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:301:37)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService updateRealTimeMetrics should validate event type" name="StoredProceduresService updateRealTimeMetrics should validate event type" time="0.003">
      <failure>TypeError: storedProceduresService.updateRealTimeMetrics is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:319:33)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService aggregateHourlyToDaily should execute hourly to daily aggregation successfully" name="StoredProceduresService aggregateHourlyToDaily should execute hourly to daily aggregation successfully" time="0.003">
      <failure>Error: Failed to aggregate hourly metrics using stored procedure
    at StoredProceduresService.aggregateHourlyToDaily (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:203:13)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:333:22)</failure>
    </testcase>
    <testcase classname="StoredProceduresService aggregateHourlyToDaily should handle no data to aggregate" name="StoredProceduresService aggregateHourlyToDaily should handle no data to aggregate" time="0.003">
      <failure>Error: Failed to aggregate hourly metrics using stored procedure
    at StoredProceduresService.aggregateHourlyToDaily (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:203:13)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:346:22)</failure>
    </testcase>
    <testcase classname="StoredProceduresService aggregateHourlyToDaily should validate target date" name="StoredProceduresService aggregateHourlyToDaily should validate target date" time="0.005">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Target date is required&quot;
Received message:   &quot;Failed to aggregate hourly metrics using stored procedure&quot;

      201 |     } catch (error) {
      202 |       logger.error(&apos;Error executing aggregate_hourly_to_daily stored procedure:&apos;, error);
    &gt; 203 |       throw new Error(&apos;Failed to aggregate hourly metrics using stored procedure&apos;);
          |             ^
      204 |     }
      205 |   }
      206 | 

      at StoredProceduresService.aggregateHourlyToDaily (src/services/stored-procedures.service.ts:203:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:352:7)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:354:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService cleanupOldData should execute data cleanup successfully" name="StoredProceduresService cleanupOldData should execute data cleanup successfully" time="0.003">
      <failure>TypeError: storedProceduresService.cleanupOldData is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:368:52)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService cleanupOldData should use default retention period" name="StoredProceduresService cleanupOldData should use default retention period" time="0.005">
      <failure>TypeError: storedProceduresService.cleanupOldData is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:380:37)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService cleanupOldData should validate retention period" name="StoredProceduresService cleanupOldData should validate retention period" time="0.003">
      <failure>TypeError: storedProceduresService.cleanupOldData is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:390:33)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService checkStoredProceduresHealth should return healthy status when all procedures exist" name="StoredProceduresService checkStoredProceduresHealth should return healthy status when all procedures exist" time="0.004">
      <failure>Error: expect(received).toHaveProperty(path, value)

Expected path: &quot;status&quot;
Received path: []

Expected value: &quot;healthy&quot;
Received value: {&quot;available&quot;: false, &quot;missing&quot;: [&quot;calculate_kpi_metrics&quot;, &quot;get_top_campaigns&quot;, &quot;calculate_funnel_metrics&quot;, &quot;aggregate_hourly_to_daily&quot;, &quot;cleanup_old_metrics&quot;, &quot;get_realtime_dashboard&quot;], &quot;procedures&quot;: [undefined]}
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:415:22)</failure>
    </testcase>
    <testcase classname="StoredProceduresService checkStoredProceduresHealth should return unhealthy status when procedures are missing" name="StoredProceduresService checkStoredProceduresHealth should return unhealthy status when procedures are missing" time="0.003">
      <failure>Error: expect(received).toHaveProperty(path, value)

Expected path: &quot;status&quot;
Received path: []

Expected value: &quot;unhealthy&quot;
Received value: {&quot;available&quot;: false, &quot;missing&quot;: [&quot;calculate_kpi_metrics&quot;, &quot;get_top_campaigns&quot;, &quot;calculate_funnel_metrics&quot;, &quot;aggregate_hourly_to_daily&quot;, &quot;cleanup_old_metrics&quot;, &quot;get_realtime_dashboard&quot;], &quot;procedures&quot;: [undefined]}
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:437:22)</failure>
    </testcase>
    <testcase classname="StoredProceduresService checkStoredProceduresHealth should handle database errors during health check" name="StoredProceduresService checkStoredProceduresHealth should handle database errors during health check" time="0.004">
      <failure>Error: expect(received).toHaveProperty(path, value)

Expected path: &quot;status&quot;
Received path: []

Expected value: &quot;error&quot;
Received value: {&quot;available&quot;: false, &quot;missing&quot;: [], &quot;procedures&quot;: []}
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:446:22)</failure>
    </testcase>
    <testcase classname="StoredProceduresService installStoredProcedures should install stored procedures successfully" name="StoredProceduresService installStoredProcedures should install stored procedures successfully" time="0.002">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)

Expected number of calls: 6
Received number of calls: 0
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:458:44)</failure>
    </testcase>
    <testcase classname="StoredProceduresService installStoredProcedures should handle installation errors gracefully" name="StoredProceduresService installStoredProcedures should handle installation errors gracefully" time="0.002">
      <failure>Error: expect(received).rejects.toThrow()

Received promise resolved instead of rejected
Resolved to value: undefined
    at expect (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:113:15)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:464:19)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getPerformanceStats should return performance statistics" name="StoredProceduresService getPerformanceStats should return performance statistics" time="0.003">
      <failure>Error: expect(received).toHaveProperty(path, value)

Expected path: &quot;procedureName&quot;
Received path: []

Expected value: &quot;calculate_kpi_metrics&quot;
Received value: {&quot;avg_execution_time&quot;: 250, &quot;last_executed&quot;: 2025-09-12T00:53:59.197Z, &quot;max_execution_time&quot;: 500, &quot;min_execution_time&quot;: 100, &quot;procedure_name&quot;: &quot;calculate_kpi_metrics&quot;, &quot;total_executions&quot;: 1000}
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:488:25)</failure>
    </testcase>
    <testcase classname="StoredProceduresService getPerformanceStats should handle empty performance stats" name="StoredProceduresService getPerformanceStats should handle empty performance stats" time="0.002">
    </testcase>
    <testcase classname="StoredProceduresService Error Handling should handle SQL injection attempts" name="StoredProceduresService Error Handling should handle SQL injection attempts" time="0.007">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Organization ID is required&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:510:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:515:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Error Handling should handle connection timeouts" name="StoredProceduresService Error Handling should handle connection timeouts" time="0.008">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Connection timeout&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:522:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:527:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Error Handling should handle memory errors for large datasets" name="StoredProceduresService Error Handling should handle memory errors for large datasets" time="0.012">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Out of memory&quot;
Received message:   &quot;Failed to get top campaigns using stored procedure&quot;

      118 |     } catch (error) {
      119 |       logger.error(&apos;Error executing get_top_campaigns stored procedure:&apos;, error);
    &gt; 120 |       throw new Error(&apos;Failed to get top campaigns using stored procedure&apos;);
          |             ^
      121 |     }
      122 |   }
      123 | 

      at StoredProceduresService.getTopCampaigns (src/services/stored-procedures.service.ts:120:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:533:7)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:541:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Performance should complete KPI calculation within reasonable time" name="StoredProceduresService Performance should complete KPI calculation within reasonable time" time="0.003">
      <failure>Error: Failed to calculate KPI metrics using stored procedure
    at StoredProceduresService.calculateKPIMetrics (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:87:13)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:550:37)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Performance should handle concurrent procedure calls" name="StoredProceduresService Performance should handle concurrent procedure calls" time="0.01">
      <failure>Error: Failed to calculate KPI metrics using stored procedure
    at StoredProceduresService.calculateKPIMetrics (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\stored-procedures.service.ts:87:13)
    at C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:566:33
    at Function.from (&lt;anonymous&gt;)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:565:30)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Data Validation should validate UUID format for organization ID" name="StoredProceduresService Data Validation should validate UUID format for organization ID" time="0.008">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Invalid organization ID format&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:587:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:592:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Data Validation should validate UUID format for campaign ID" name="StoredProceduresService Data Validation should validate UUID format for campaign ID" time="0.002">
      <failure>TypeError: storedProceduresService.updateRealTimeMetrics is not a function
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:599:33)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Data Validation should validate date objects" name="StoredProceduresService Data Validation should validate date objects" time="0.006">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Invalid start date&quot;
Received message:   &quot;Failed to calculate KPI metrics using stored procedure&quot;

      85 |     } catch (error) {
      86 |       logger.error(&apos;Error executing calculate_kpi_metrics stored procedure:&apos;, error);
    &gt; 87 |       throw new Error(&apos;Failed to calculate KPI metrics using stored procedure&apos;);
         |             ^
      88 |     }
      89 |   }
      90 | 

      at StoredProceduresService.calculateKPIMetrics (src/services/stored-procedures.service.ts:87:13)
      at Object.&lt;anonymous&gt; (src/tests/stored-procedures.test.ts:611:33)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\stored-procedures.test.ts:616:17)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="StoredProceduresService Integration should integrate with real PostgreSQL database" name="StoredProceduresService Integration should integrate with real PostgreSQL database" time="0">
      <skipped/>
    </testcase>
    <testcase classname="StoredProceduresService Integration should handle database migrations correctly" name="StoredProceduresService Integration should handle database migrations correctly" time="0">
      <skipped/>
    </testcase>
    <testcase classname="StoredProceduresService Integration should maintain data consistency under concurrent load" name="StoredProceduresService Integration should maintain data consistency under concurrent load" time="0">
      <skipped/>
    </testcase>
  </testsuite>
  <testsuite name="MetricsService" errors="0" failures="15" skipped="3" timestamp="2025-09-12T00:53:59" time="0.963" tests="19">
    <testcase classname="MetricsService calculateMetrics should calculate KPI metrics correctly" name="MetricsService calculateMetrics should calculate KPI metrics correctly" time="0.004">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as calculateMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:96:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:110:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService calculateMetrics should return empty metrics when no campaigns found" name="MetricsService calculateMetrics should return empty metrics when no campaigns found" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as calculateMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:96:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:141:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService calculateMetrics should handle division by zero safely" name="MetricsService calculateMetrics should handle division by zero safely" time="0.002">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as calculateMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:96:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:184:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService calculateMetrics should use cache when available" name="MetricsService calculateMetrics should use cache when available" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as calculateMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:96:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:206:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService updateRealTimeMetrics should update hourly metrics for CLICK event" name="MetricsService updateRealTimeMetrics should update hourly metrics for CLICK event" time="0.004">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;invalidateCampaign&apos;)
    at MetricsService.invalidateCampaign [as invalidateCampaignCache] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:580:22)
    at MetricsService.invalidateCampaignCache [as updateRealTimeMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:246:18)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:221:7)</failure>
    </testcase>
    <testcase classname="MetricsService updateRealTimeMetrics should update hourly metrics for CONVERSION event with value" name="MetricsService updateRealTimeMetrics should update hourly metrics for CONVERSION event with value" time="0.009">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;invalidateCampaign&apos;)
    at MetricsService.invalidateCampaign [as invalidateCampaignCache] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:580:22)
    at MetricsService.invalidateCampaignCache [as updateRealTimeMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:246:18)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:259:7)</failure>
    </testcase>
    <testcase classname="MetricsService updateRealTimeMetrics should handle errors gracefully" name="MetricsService updateRealTimeMetrics should handle errors gracefully" time="0.004">
    </testcase>
    <testcase classname="MetricsService getDashboardMetrics should generate comprehensive dashboard metrics" name="MetricsService getDashboardMetrics should generate comprehensive dashboard metrics" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as getDashboardMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:144:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:317:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService compareMetrics should compare metrics between two periods" name="MetricsService compareMetrics should compare metrics between two periods" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as compareMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:192:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:367:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService exportMetrics should export metrics in JSON format" name="MetricsService exportMetrics should export metrics in JSON format" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as exportMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:594:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:390:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService exportMetrics should export metrics in CSV format" name="MetricsService exportMetrics should export metrics in CSV format" time="0.005">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as exportMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:594:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:409:43)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Cache Integration should invalidate campaign cache" name="MetricsService Cache Integration should invalidate campaign cache" time="0.002">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;invalidateCampaign&apos;)
    at MetricsService.invalidateCampaign [as invalidateCampaignCache] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:580:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:423:28)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Cache Integration should invalidate organization cache" name="MetricsService Cache Integration should invalidate organization cache" time="0.003">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;invalidateOrganization&apos;)
    at MetricsService.invalidateOrganization [as invalidateOrganizationCache] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:584:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:431:28)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Error Handling should handle database errors gracefully" name="MetricsService Error Handling should handle database errors gracefully" time="0.019">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Database connection failed&quot;
Received message:   &quot;Cannot read properties of undefined (reading &apos;getOrSet&apos;)&quot;

      94 |     const cacheKey = this.generateCacheKey(&apos;calculate&apos;, filters);
      95 |     
    &gt; 96 |     return this.cache.getOrSet(
         |                       ^
      97 |       cacheKey,
      98 |       async () =&gt; {
      99 |         logger.info(&apos;Calculating metrics from database&apos;, { filters });

      at MetricsService.getOrSet [as calculateMetrics] (src/services/metrics.service.ts:96:23)
      at Object.&lt;anonymous&gt; (src/tests/metrics.test.ts:448:35)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:448:70)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Error Handling should handle cache errors gracefully" name="MetricsService Error Handling should handle cache errors gracefully" time="0.01">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Cache connection failed&quot;
Received message:   &quot;Cannot read properties of undefined (reading &apos;getOrSet&apos;)&quot;

      94 |     const cacheKey = this.generateCacheKey(&apos;calculate&apos;, filters);
      95 |     
    &gt; 96 |     return this.cache.getOrSet(
         |                       ^
      97 |       cacheKey,
      98 |       async () =&gt; {
      99 |         logger.info(&apos;Calculating metrics from database&apos;, { filters });

      at MetricsService.getOrSet [as calculateMetrics] (src/services/metrics.service.ts:96:23)
      at Object.&lt;anonymous&gt; (src/tests/metrics.test.ts:462:35)
    at Object.toThrow (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\expect@29.7.0\node_modules\expect\build\index.js:218:22)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:462:70)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Performance should complete metrics calculation within reasonable time" name="MetricsService Performance should complete metrics calculation within reasonable time" time="0.005">
      <failure>TypeError: Cannot read properties of undefined (reading &apos;getOrSet&apos;)
    at MetricsService.getOrSet [as calculateMetrics] (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\services\metrics.service.ts:96:23)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.test.ts:481:28)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="MetricsService Integration should integrate with real database" name="MetricsService Integration should integrate with real database" time="0">
      <skipped/>
    </testcase>
    <testcase classname="MetricsService Integration should integrate with real cache" name="MetricsService Integration should integrate with real cache" time="0">
      <skipped/>
    </testcase>
    <testcase classname="MetricsService Integration should integrate with stored procedures" name="MetricsService Integration should integrate with stored procedures" time="0">
      <skipped/>
    </testcase>
  </testsuite>
  <testsuite name="Metrics Routes" errors="0" failures="30" skipped="0" timestamp="2025-09-12T00:54:00" time="1.787" tests="30">
    <testcase classname="Metrics Routes POST /api/metrics/calculate should calculate metrics successfully" name="Metrics Routes POST /api/metrics/calculate should calculate metrics successfully" time="0.012">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/calculate should handle optional campaign filter" name="Metrics Routes POST /api/metrics/calculate should handle optional campaign filter" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/calculate should validate required fields" name="Metrics Routes POST /api/metrics/calculate should validate required fields" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/calculate should validate date format" name="Metrics Routes POST /api/metrics/calculate should validate date format" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/calculate should validate date range" name="Metrics Routes POST /api/metrics/calculate should validate date range" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/calculate should handle service errors" name="Metrics Routes POST /api/metrics/calculate should handle service errors" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes GET /api/metrics/dashboard should get dashboard metrics successfully" name="Metrics Routes GET /api/metrics/dashboard should get dashboard metrics successfully" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes GET /api/metrics/dashboard should use default date range when not provided" name="Metrics Routes GET /api/metrics/dashboard should use default date range when not provided" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes GET /api/metrics/dashboard should handle optional filters" name="Metrics Routes GET /api/metrics/dashboard should handle optional filters" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes GET /api/metrics/history should get metrics history successfully" name="Metrics Routes GET /api/metrics/history should get metrics history successfully" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes GET /api/metrics/history should validate granularity parameter" name="Metrics Routes GET /api/metrics/history should validate granularity parameter" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/compare should compare metrics between periods successfully" name="Metrics Routes POST /api/metrics/compare should compare metrics between periods successfully" time="0.006">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/compare should validate period objects" name="Metrics Routes POST /api/metrics/compare should validate period objects" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/export should export metrics in JSON format" name="Metrics Routes POST /api/metrics/export should export metrics in JSON format" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/export should export metrics in CSV format" name="Metrics Routes POST /api/metrics/export should export metrics in CSV format" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/export should validate export format" name="Metrics Routes POST /api/metrics/export should validate export format" time="0.002">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/events should process real-time events successfully" name="Metrics Routes POST /api/metrics/events should process real-time events successfully" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/events should validate event type" name="Metrics Routes POST /api/metrics/events should validate event type" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes POST /api/metrics/events should validate campaign ID format" name="Metrics Routes POST /api/metrics/events should validate campaign ID format" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes DELETE /api/metrics/cache/campaign/:campaignId should invalidate campaign cache successfully" name="Metrics Routes DELETE /api/metrics/cache/campaign/:campaignId should invalidate campaign cache successfully" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes DELETE /api/metrics/cache/campaign/:campaignId should validate campaign ID format" name="Metrics Routes DELETE /api/metrics/cache/campaign/:campaignId should validate campaign ID format" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes DELETE /api/metrics/cache/organization should invalidate organization cache successfully" name="Metrics Routes DELETE /api/metrics/cache/organization should invalidate organization cache successfully" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Authentication and Authorization should require authentication for all endpoints" name="Metrics Routes Authentication and Authorization should require authentication for all endpoints" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Authentication and Authorization should validate organization access" name="Metrics Routes Authentication and Authorization should validate organization access" time="0.005">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Rate Limiting should handle rate limiting for expensive operations" name="Metrics Routes Rate Limiting should handle rate limiting for expensive operations" time="0.006">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Error Handling should handle malformed JSON requests" name="Metrics Routes Error Handling should handle malformed JSON requests" time="0.007">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Error Handling should handle large request payloads" name="Metrics Routes Error Handling should handle large request payloads" time="0.007">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Error Handling should handle service unavailable errors" name="Metrics Routes Error Handling should handle service unavailable errors" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Performance should respond within acceptable time limits" name="Metrics Routes Performance should respond within acceptable time limits" time="0.004">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="Metrics Routes Performance should handle concurrent requests efficiently" name="Metrics Routes Performance should handle concurrent requests efficiently" time="0.003">
      <failure>Error: Cannot find module &apos;express&apos; from &apos;src/tests/metrics.routes.test.ts&apos;
    at Resolver._throwModNotFoundError (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:427:11)
    at Resolver.resolveModule (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:358:10)
    at Resolver._getVirtualMockPath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:619:14)
    at Resolver._getAbsolutePath (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:587:14)
    at Resolver.getModuleID (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-resolve@29.7.0\node_modules\jest-resolve\build\resolver.js:530:31)
    at Runtime._shouldMockCjs (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1713:37)
    at Runtime.requireModuleOrMock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runtime@29.7.0\node_modules\jest-runtime\build\index.js:1045:16)
    at createTestApp (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:16:19)
    at Object.&lt;anonymous&gt; (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\apps\api\src\tests\metrics.routes.test.ts:104:11)
    at Promise.then.completed (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusHook (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:281:40)
    at _runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:246:5)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:121:9)
    at run (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-circus@29.7.0\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (C:\Users\Enzo Marcelo\Desktop\Projetos Empresa\Saas Utmify\utmify-clone\node_modules\.pnpm\jest-runner@29.7.0\node_modules\jest-runner\build\runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
</testsuites>