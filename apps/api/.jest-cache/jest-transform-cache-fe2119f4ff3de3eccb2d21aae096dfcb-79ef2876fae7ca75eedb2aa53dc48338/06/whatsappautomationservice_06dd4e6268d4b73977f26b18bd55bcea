fcf74debe40f9dff6086f5d9793dcaa0
/* istanbul ignore next */
function cov_nyukq8s92() {
  var path = "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp-automation.service.ts";
  var hash = "5084a4ddc23536355b8aef9eac64f30a1c59e534";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp-automation.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 8
        },
        end: {
          line: 7,
          column: 29
        }
      },
      "1": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 43
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 47
        }
      },
      "3": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 47
        }
      },
      "4": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 25,
          column: 11
        }
      },
      "5": {
        start: {
          line: 31,
          column: 22
        },
        end: {
          line: 33,
          column: 9
        }
      },
      "6": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 36,
          column: 9
        }
      },
      "7": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 35,
          column: 34
        }
      },
      "8": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 40,
          column: 11
        }
      },
      "9": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 49,
          column: 11
        }
      },
      "10": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 57,
          column: 11
        }
      },
      "11": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "12": {
        start: {
          line: 65,
          column: 27
        },
        end: {
          line: 67,
          column: 14
        }
      },
      "13": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 71,
          column: 13
        }
      },
      "14": {
        start: {
          line: 69,
          column: 16
        },
        end: {
          line: 69,
          column: 95
        }
      },
      "15": {
        start: {
          line: 70,
          column: 16
        },
        end: {
          line: 70,
          column: 23
        }
      },
      "16": {
        start: {
          line: 73,
          column: 32
        },
        end: {
          line: 79,
          column: 14
        }
      },
      "17": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 84,
          column: 13
        }
      },
      "18": {
        start: {
          line: 81,
          column: 16
        },
        end: {
          line: 83,
          column: 17
        }
      },
      "19": {
        start: {
          line: 82,
          column: 20
        },
        end: {
          line: 82,
          column: 75
        }
      },
      "20": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 87,
          column: 69
        }
      },
      "21": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 123,
          column: 9
        }
      },
      "22": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 95,
          column: 71
        }
      },
      "23": {
        start: {
          line: 96,
          column: 28
        },
        end: {
          line: 96,
          column: 46
        }
      },
      "24": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 111,
          column: 13
        }
      },
      "25": {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 110,
          column: 17
        }
      },
      "26": {
        start: {
          line: 100,
          column: 24
        },
        end: {
          line: 100,
          column: 102
        }
      },
      "27": {
        start: {
          line: 101,
          column: 24
        },
        end: {
          line: 101,
          column: 30
        }
      },
      "28": {
        start: {
          line: 103,
          column: 24
        },
        end: {
          line: 103,
          column: 103
        }
      },
      "29": {
        start: {
          line: 104,
          column: 24
        },
        end: {
          line: 104,
          column: 30
        }
      },
      "30": {
        start: {
          line: 106,
          column: 24
        },
        end: {
          line: 106,
          column: 62
        }
      },
      "31": {
        start: {
          line: 107,
          column: 24
        },
        end: {
          line: 107,
          column: 30
        }
      },
      "32": {
        start: {
          line: 109,
          column: 24
        },
        end: {
          line: 109,
          column: 80
        }
      },
      "33": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 119,
          column: 15
        }
      },
      "34": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 122,
          column: 87
        }
      },
      "35": {
        start: {
          line: 129,
          column: 27
        },
        end: {
          line: 129,
          column: 81
        }
      },
      "36": {
        start: {
          line: 130,
          column: 24
        },
        end: {
          line: 130,
          column: 80
        }
      },
      "37": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 139,
          column: 9
        }
      },
      "38": {
        start: {
          line: 132,
          column: 12
        },
        end: {
          line: 138,
          column: 15
        }
      },
      "39": {
        start: {
          line: 145,
          column: 27
        },
        end: {
          line: 145,
          column: 81
        }
      },
      "40": {
        start: {
          line: 146,
          column: 31
        },
        end: {
          line: 146,
          column: 99
        }
      },
      "41": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 152,
          column: 11
        }
      },
      "42": {
        start: {
          line: 158,
          column: 24
        },
        end: {
          line: 158,
          column: 44
        }
      },
      "43": {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 159,
          column: 67
        }
      },
      "44": {
        start: {
          line: 159,
          column: 37
        },
        end: {
          line: 159,
          column: 65
        }
      },
      "45": {
        start: {
          line: 165,
          column: 8
        },
        end: {
          line: 167,
          column: 9
        }
      },
      "46": {
        start: {
          line: 166,
          column: 12
        },
        end: {
          line: 166,
          column: 24
        }
      },
      "47": {
        start: {
          line: 168,
          column: 44
        },
        end: {
          line: 168,
          column: 54
        }
      },
      "48": {
        start: {
          line: 169,
          column: 24
        },
        end: {
          line: 196,
          column: 10
        }
      },
      "49": {
        start: {
          line: 170,
          column: 55
        },
        end: {
          line: 170,
          column: 59
        }
      },
      "50": {
        start: {
          line: 171,
          column: 31
        },
        end: {
          line: 171,
          column: 70
        }
      },
      "51": {
        start: {
          line: 172,
          column: 12
        },
        end: {
          line: 195,
          column: 13
        }
      },
      "52": {
        start: {
          line: 174,
          column: 20
        },
        end: {
          line: 174,
          column: 48
        }
      },
      "53": {
        start: {
          line: 176,
          column: 20
        },
        end: {
          line: 176,
          column: 48
        }
      },
      "54": {
        start: {
          line: 178,
          column: 20
        },
        end: {
          line: 178,
          column: 62
        }
      },
      "55": {
        start: {
          line: 180,
          column: 20
        },
        end: {
          line: 180,
          column: 62
        }
      },
      "56": {
        start: {
          line: 182,
          column: 20
        },
        end: {
          line: 182,
          column: 63
        }
      },
      "57": {
        start: {
          line: 184,
          column: 20
        },
        end: {
          line: 184,
          column: 63
        }
      },
      "58": {
        start: {
          line: 186,
          column: 20
        },
        end: {
          line: 186,
          column: 98
        }
      },
      "59": {
        start: {
          line: 188,
          column: 20
        },
        end: {
          line: 188,
          column: 99
        }
      },
      "60": {
        start: {
          line: 190,
          column: 20
        },
        end: {
          line: 190,
          column: 75
        }
      },
      "61": {
        start: {
          line: 192,
          column: 20
        },
        end: {
          line: 192,
          column: 75
        }
      },
      "62": {
        start: {
          line: 194,
          column: 20
        },
        end: {
          line: 194,
          column: 33
        }
      },
      "63": {
        start: {
          line: 197,
          column: 8
        },
        end: {
          line: 197,
          column: 81
        }
      },
      "64": {
        start: {
          line: 197,
          column: 55
        },
        end: {
          line: 197,
          column: 56
        }
      },
      "65": {
        start: {
          line: 197,
          column: 78
        },
        end: {
          line: 197,
          column: 79
        }
      },
      "66": {
        start: {
          line: 203,
          column: 8
        },
        end: {
          line: 205,
          column: 9
        }
      },
      "67": {
        start: {
          line: 204,
          column: 12
        },
        end: {
          line: 204,
          column: 35
        }
      },
      "68": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 214,
          column: 9
        }
      },
      "69": {
        start: {
          line: 208,
          column: 12
        },
        end: {
          line: 212,
          column: 13
        }
      },
      "70": {
        start: {
          line: 209,
          column: 30
        },
        end: {
          line: 209,
          column: 58
        }
      },
      "71": {
        start: {
          line: 210,
          column: 30
        },
        end: {
          line: 210,
          column: 69
        }
      },
      "72": {
        start: {
          line: 211,
          column: 16
        },
        end: {
          line: 211,
          column: 78
        }
      },
      "73": {
        start: {
          line: 213,
          column: 12
        },
        end: {
          line: 213,
          column: 37
        }
      },
      "74": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 218,
          column: 9
        }
      },
      "75": {
        start: {
          line: 216,
          column: 26
        },
        end: {
          line: 216,
          column: 81
        }
      },
      "76": {
        start: {
          line: 217,
          column: 12
        },
        end: {
          line: 217,
          column: 74
        }
      },
      "77": {
        start: {
          line: 219,
          column: 8
        },
        end: {
          line: 219,
          column: 18
        }
      },
      "78": {
        start: {
          line: 225,
          column: 8
        },
        end: {
          line: 225,
          column: 75
        }
      },
      "79": {
        start: {
          line: 231,
          column: 26
        },
        end: {
          line: 231,
          column: 28
        }
      },
      "80": {
        start: {
          line: 232,
          column: 8
        },
        end: {
          line: 240,
          column: 11
        }
      },
      "81": {
        start: {
          line: 233,
          column: 12
        },
        end: {
          line: 239,
          column: 13
        }
      },
      "82": {
        start: {
          line: 234,
          column: 30
        },
        end: {
          line: 234,
          column: 48
        }
      },
      "83": {
        start: {
          line: 235,
          column: 16
        },
        end: {
          line: 235,
          column: 73
        }
      },
      "84": {
        start: {
          line: 238,
          column: 16
        },
        end: {
          line: 238,
          column: 39
        }
      },
      "85": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 241,
          column: 25
        }
      },
      "86": {
        start: {
          line: 247,
          column: 8
        },
        end: {
          line: 249,
          column: 16
        }
      },
      "87": {
        start: {
          line: 248,
          column: 12
        },
        end: {
          line: 248,
          column: 84
        }
      },
      "88": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 255,
          column: 59
        }
      },
      "89": {
        start: {
          line: 256,
          column: 8
        },
        end: {
          line: 295,
          column: 9
        }
      },
      "90": {
        start: {
          line: 258,
          column: 28
        },
        end: {
          line: 261,
          column: 14
        }
      },
      "91": {
        start: {
          line: 262,
          column: 12
        },
        end: {
          line: 291,
          column: 13
        }
      },
      "92": {
        start: {
          line: 263,
          column: 16
        },
        end: {
          line: 290,
          column: 17
        }
      },
      "93": {
        start: {
          line: 265,
          column: 39
        },
        end: {
          line: 271,
          column: 22
        }
      },
      "94": {
        start: {
          line: 272,
          column: 20
        },
        end: {
          line: 286,
          column: 21
        }
      },
      "95": {
        start: {
          line: 274,
          column: 42
        },
        end: {
          line: 274,
          column: 52
        }
      },
      "96": {
        start: {
          line: 275,
          column: 24
        },
        end: {
          line: 275,
          column: 67
        }
      },
      "97": {
        start: {
          line: 276,
          column: 24
        },
        end: {
          line: 276,
          column: 55
        }
      },
      "98": {
        start: {
          line: 277,
          column: 43
        },
        end: {
          line: 277,
          column: 103
        }
      },
      "99": {
        start: {
          line: 278,
          column: 24
        },
        end: {
          line: 285,
          column: 27
        }
      },
      "100": {
        start: {
          line: 289,
          column: 20
        },
        end: {
          line: 289,
          column: 103
        }
      },
      "101": {
        start: {
          line: 294,
          column: 12
        },
        end: {
          line: 294,
          column: 73
        }
      },
      "102": {
        start: {
          line: 303,
          column: 8
        },
        end: {
          line: 310,
          column: 10
        }
      },
      "103": {
        start: {
          line: 316,
          column: 35
        },
        end: {
          line: 415,
          column: 9
        }
      },
      "104": {
        start: {
          line: 416,
          column: 35
        },
        end: {
          line: 416,
          column: 37
        }
      },
      "105": {
        start: {
          line: 417,
          column: 8
        },
        end: {
          line: 425,
          column: 9
        }
      },
      "106": {
        start: {
          line: 418,
          column: 12
        },
        end: {
          line: 424,
          column: 13
        }
      },
      "107": {
        start: {
          line: 419,
          column: 32
        },
        end: {
          line: 419,
          column: 81
        }
      },
      "108": {
        start: {
          line: 420,
          column: 16
        },
        end: {
          line: 420,
          column: 49
        }
      },
      "109": {
        start: {
          line: 423,
          column: 16
        },
        end: {
          line: 423,
          column: 98
        }
      },
      "110": {
        start: {
          line: 426,
          column: 8
        },
        end: {
          line: 426,
          column: 107
        }
      },
      "111": {
        start: {
          line: 427,
          column: 8
        },
        end: {
          line: 427,
          column: 34
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 6,
            column: 4
          },
          end: {
            line: 6,
            column: 5
          }
        },
        loc: {
          start: {
            line: 6,
            column: 73
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 48
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 15
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 55
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 30
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 45,
            column: 4
          },
          end: {
            line: 45,
            column: 5
          }
        },
        loc: {
          start: {
            line: 45,
            column: 53
          },
          end: {
            line: 50,
            column: 5
          }
        },
        line: 45
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 54,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        loc: {
          start: {
            line: 54,
            column: 41
          },
          end: {
            line: 58,
            column: 5
          }
        },
        line: 54
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 62,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        },
        loc: {
          start: {
            line: 62,
            column: 53
          },
          end: {
            line: 89,
            column: 5
          }
        },
        line: 62
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 93,
            column: 4
          },
          end: {
            line: 93,
            column: 5
          }
        },
        loc: {
          start: {
            line: 93,
            column: 53
          },
          end: {
            line: 124,
            column: 5
          }
        },
        line: 93
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 128,
            column: 4
          },
          end: {
            line: 128,
            column: 5
          }
        },
        loc: {
          start: {
            line: 128,
            column: 66
          },
          end: {
            line: 140,
            column: 5
          }
        },
        line: 128
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 144,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        loc: {
          start: {
            line: 144,
            column: 67
          },
          end: {
            line: 153,
            column: 5
          }
        },
        line: 144
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 157,
            column: 4
          },
          end: {
            line: 157,
            column: 5
          }
        },
        loc: {
          start: {
            line: 157,
            column: 37
          },
          end: {
            line: 160,
            column: 5
          }
        },
        line: 157
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 159,
            column: 26
          },
          end: {
            line: 159,
            column: 27
          }
        },
        loc: {
          start: {
            line: 159,
            column: 37
          },
          end: {
            line: 159,
            column: 65
          }
        },
        line: 159
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 164,
            column: 4
          },
          end: {
            line: 164,
            column: 5
          }
        },
        loc: {
          start: {
            line: 164,
            column: 48
          },
          end: {
            line: 198,
            column: 5
          }
        },
        line: 164
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 169,
            column: 34
          },
          end: {
            line: 169,
            column: 35
          }
        },
        loc: {
          start: {
            line: 169,
            column: 44
          },
          end: {
            line: 196,
            column: 9
          }
        },
        line: 169
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 197,
            column: 50
          },
          end: {
            line: 197,
            column: 51
          }
        },
        loc: {
          start: {
            line: 197,
            column: 55
          },
          end: {
            line: 197,
            column: 56
          }
        },
        line: 197
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 197,
            column: 73
          },
          end: {
            line: 197,
            column: 74
          }
        },
        loc: {
          start: {
            line: 197,
            column: 78
          },
          end: {
            line: 197,
            column: 79
          }
        },
        line: 197
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 202,
            column: 4
          },
          end: {
            line: 202,
            column: 5
          }
        },
        loc: {
          start: {
            line: 202,
            column: 52
          },
          end: {
            line: 220,
            column: 5
          }
        },
        line: 202
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 224,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        },
        loc: {
          start: {
            line: 224,
            column: 50
          },
          end: {
            line: 226,
            column: 5
          }
        },
        line: 224
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 230,
            column: 4
          },
          end: {
            line: 230,
            column: 5
          }
        },
        loc: {
          start: {
            line: 230,
            column: 55
          },
          end: {
            line: 242,
            column: 5
          }
        },
        line: 230
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 232,
            column: 47
          },
          end: {
            line: 232,
            column: 48
          }
        },
        loc: {
          start: {
            line: 232,
            column: 65
          },
          end: {
            line: 240,
            column: 9
          }
        },
        line: 232
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 246,
            column: 4
          },
          end: {
            line: 246,
            column: 5
          }
        },
        loc: {
          start: {
            line: 246,
            column: 30
          },
          end: {
            line: 250,
            column: 5
          }
        },
        line: 246
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 247,
            column: 38
          },
          end: {
            line: 247,
            column: 39
          }
        },
        loc: {
          start: {
            line: 247,
            column: 56
          },
          end: {
            line: 249,
            column: 9
          }
        },
        line: 247
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 254,
            column: 4
          },
          end: {
            line: 254,
            column: 5
          }
        },
        loc: {
          start: {
            line: 254,
            column: 31
          },
          end: {
            line: 296,
            column: 5
          }
        },
        line: 254
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 300,
            column: 4
          },
          end: {
            line: 300,
            column: 5
          }
        },
        loc: {
          start: {
            line: 300,
            column: 48
          },
          end: {
            line: 311,
            column: 5
          }
        },
        line: 300
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 315,
            column: 4
          },
          end: {
            line: 315,
            column: 5
          }
        },
        loc: {
          start: {
            line: 315,
            column: 45
          },
          end: {
            line: 428,
            column: 5
          }
        },
        line: 315
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 23,
            column: 26
          },
          end: {
            line: 23,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 23,
            column: 26
          },
          end: {
            line: 23,
            column: 44
          }
        }, {
          start: {
            line: 23,
            column: 48
          },
          end: {
            line: 23,
            column: 52
          }
        }],
        line: 23
      },
      "1": {
        loc: {
          start: {
            line: 30,
            column: 35
          },
          end: {
            line: 30,
            column: 53
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 30,
            column: 48
          },
          end: {
            line: 30,
            column: 53
          }
        }],
        line: 30
      },
      "2": {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "3": {
        loc: {
          start: {
            line: 68,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 68,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 68
      },
      "4": {
        loc: {
          start: {
            line: 68,
            column: 16
          },
          end: {
            line: 68,
            column: 43
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 68,
            column: 16
          },
          end: {
            line: 68,
            column: 23
          }
        }, {
          start: {
            line: 68,
            column: 27
          },
          end: {
            line: 68,
            column: 43
          }
        }],
        line: 68
      },
      "5": {
        loc: {
          start: {
            line: 81,
            column: 16
          },
          end: {
            line: 83,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 81,
            column: 16
          },
          end: {
            line: 83,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 81
      },
      "6": {
        loc: {
          start: {
            line: 97,
            column: 33
          },
          end: {
            line: 97,
            column: 54
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 97,
            column: 33
          },
          end: {
            line: 97,
            column: 48
          }
        }, {
          start: {
            line: 97,
            column: 52
          },
          end: {
            line: 97,
            column: 54
          }
        }],
        line: 97
      },
      "7": {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 110,
            column: 17
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 99,
            column: 20
          },
          end: {
            line: 101,
            column: 30
          }
        }, {
          start: {
            line: 102,
            column: 20
          },
          end: {
            line: 104,
            column: 30
          }
        }, {
          start: {
            line: 105,
            column: 20
          },
          end: {
            line: 107,
            column: 30
          }
        }, {
          start: {
            line: 108,
            column: 20
          },
          end: {
            line: 109,
            column: 80
          }
        }],
        line: 98
      },
      "8": {
        loc: {
          start: {
            line: 146,
            column: 58
          },
          end: {
            line: 146,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 146,
            column: 58
          },
          end: {
            line: 146,
            column: 79
          }
        }, {
          start: {
            line: 146,
            column: 83
          },
          end: {
            line: 146,
            column: 85
          }
        }],
        line: 146
      },
      "9": {
        loc: {
          start: {
            line: 158,
            column: 24
          },
          end: {
            line: 158,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 158,
            column: 24
          },
          end: {
            line: 158,
            column: 36
          }
        }, {
          start: {
            line: 158,
            column: 40
          },
          end: {
            line: 158,
            column: 44
          }
        }],
        line: 158
      },
      "10": {
        loc: {
          start: {
            line: 165,
            column: 8
          },
          end: {
            line: 167,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 165,
            column: 8
          },
          end: {
            line: 167,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 165
      },
      "11": {
        loc: {
          start: {
            line: 165,
            column: 12
          },
          end: {
            line: 165,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 165,
            column: 12
          },
          end: {
            line: 165,
            column: 23
          }
        }, {
          start: {
            line: 165,
            column: 27
          },
          end: {
            line: 165,
            column: 44
          }
        }],
        line: 165
      },
      "12": {
        loc: {
          start: {
            line: 168,
            column: 23
          },
          end: {
            line: 168,
            column: 39
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 168,
            column: 34
          },
          end: {
            line: 168,
            column: 39
          }
        }],
        line: 168
      },
      "13": {
        loc: {
          start: {
            line: 172,
            column: 12
          },
          end: {
            line: 195,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 174,
            column: 48
          }
        }, {
          start: {
            line: 175,
            column: 16
          },
          end: {
            line: 176,
            column: 48
          }
        }, {
          start: {
            line: 177,
            column: 16
          },
          end: {
            line: 178,
            column: 62
          }
        }, {
          start: {
            line: 179,
            column: 16
          },
          end: {
            line: 180,
            column: 62
          }
        }, {
          start: {
            line: 181,
            column: 16
          },
          end: {
            line: 182,
            column: 63
          }
        }, {
          start: {
            line: 183,
            column: 16
          },
          end: {
            line: 184,
            column: 63
          }
        }, {
          start: {
            line: 185,
            column: 16
          },
          end: {
            line: 186,
            column: 98
          }
        }, {
          start: {
            line: 187,
            column: 16
          },
          end: {
            line: 188,
            column: 99
          }
        }, {
          start: {
            line: 189,
            column: 16
          },
          end: {
            line: 190,
            column: 75
          }
        }, {
          start: {
            line: 191,
            column: 16
          },
          end: {
            line: 192,
            column: 75
          }
        }, {
          start: {
            line: 193,
            column: 16
          },
          end: {
            line: 194,
            column: 33
          }
        }],
        line: 172
      },
      "14": {
        loc: {
          start: {
            line: 190,
            column: 27
          },
          end: {
            line: 190,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 190,
            column: 27
          },
          end: {
            line: 190,
            column: 51
          }
        }, {
          start: {
            line: 190,
            column: 55
          },
          end: {
            line: 190,
            column: 74
          }
        }],
        line: 190
      },
      "15": {
        loc: {
          start: {
            line: 192,
            column: 27
          },
          end: {
            line: 192,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 192,
            column: 27
          },
          end: {
            line: 192,
            column: 51
          }
        }, {
          start: {
            line: 192,
            column: 55
          },
          end: {
            line: 192,
            column: 74
          }
        }],
        line: 192
      },
      "16": {
        loc: {
          start: {
            line: 197,
            column: 15
          },
          end: {
            line: 197,
            column: 80
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 197,
            column: 36
          },
          end: {
            line: 197,
            column: 57
          }
        }, {
          start: {
            line: 197,
            column: 60
          },
          end: {
            line: 197,
            column: 80
          }
        }],
        line: 197
      },
      "17": {
        loc: {
          start: {
            line: 203,
            column: 8
          },
          end: {
            line: 205,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 203,
            column: 8
          },
          end: {
            line: 205,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 203
      },
      "18": {
        loc: {
          start: {
            line: 206,
            column: 8
          },
          end: {
            line: 214,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 206,
            column: 8
          },
          end: {
            line: 214,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 206
      },
      "19": {
        loc: {
          start: {
            line: 208,
            column: 12
          },
          end: {
            line: 212,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 208,
            column: 12
          },
          end: {
            line: 212,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 208
      },
      "20": {
        loc: {
          start: {
            line: 208,
            column: 16
          },
          end: {
            line: 208,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 208,
            column: 16
          },
          end: {
            line: 208,
            column: 48
          }
        }, {
          start: {
            line: 208,
            column: 52
          },
          end: {
            line: 208,
            column: 82
          }
        }],
        line: 208
      },
      "21": {
        loc: {
          start: {
            line: 211,
            column: 23
          },
          end: {
            line: 211,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 211,
            column: 46
          },
          end: {
            line: 211,
            column: 51
          }
        }, {
          start: {
            line: 211,
            column: 54
          },
          end: {
            line: 211,
            column: 77
          }
        }],
        line: 211
      },
      "22": {
        loc: {
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 218,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 218,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "23": {
        loc: {
          start: {
            line: 217,
            column: 19
          },
          end: {
            line: 217,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 217,
            column: 42
          },
          end: {
            line: 217,
            column: 47
          }
        }, {
          start: {
            line: 217,
            column: 50
          },
          end: {
            line: 217,
            column: 73
          }
        }],
        line: 217
      },
      "24": {
        loc: {
          start: {
            line: 233,
            column: 12
          },
          end: {
            line: 239,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 233,
            column: 12
          },
          end: {
            line: 239,
            column: 13
          }
        }, {
          start: {
            line: 237,
            column: 17
          },
          end: {
            line: 239,
            column: 13
          }
        }],
        line: 233
      },
      "25": {
        loc: {
          start: {
            line: 233,
            column: 16
          },
          end: {
            line: 233,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 233,
            column: 16
          },
          end: {
            line: 233,
            column: 41
          }
        }, {
          start: {
            line: 233,
            column: 45
          },
          end: {
            line: 233,
            column: 67
          }
        }, {
          start: {
            line: 233,
            column: 71
          },
          end: {
            line: 233,
            column: 91
          }
        }],
        line: 233
      },
      "26": {
        loc: {
          start: {
            line: 248,
            column: 19
          },
          end: {
            line: 248,
            column: 83
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 248,
            column: 59
          },
          end: {
            line: 248,
            column: 71
          }
        }, {
          start: {
            line: 248,
            column: 74
          },
          end: {
            line: 248,
            column: 83
          }
        }],
        line: 248
      },
      "27": {
        loc: {
          start: {
            line: 248,
            column: 19
          },
          end: {
            line: 248,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 248,
            column: 19
          },
          end: {
            line: 248,
            column: 26
          }
        }, {
          start: {
            line: 248,
            column: 30
          },
          end: {
            line: 248,
            column: 56
          }
        }],
        line: 248
      },
      "28": {
        loc: {
          start: {
            line: 272,
            column: 20
          },
          end: {
            line: 286,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 272,
            column: 20
          },
          end: {
            line: 286,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 272
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0
    },
    b: {
      "0": [0, 0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0, 0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0],
      "13": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp-automation.service.ts",
      mappings: "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",
      names: [],
      sources: ["C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp-automation.service.ts"],
      sourcesContent: ["import { Queue } from 'bull';\nimport { PrismaService } from './prisma.service';\nimport { WhatsAppTemplateService } from './whatsapp-template.service';\nimport { WhatsAppAutomation, Prisma } from '@prisma/client';\nimport { logger } from '../utils/logger';\n\nexport interface AutomationTrigger {\n  type: 'CONVERSION' | 'BUDGET_ALERT' | 'DAILY_REPORT' | 'WELCOME' | 'KEYWORD';\n  data: any;\n}\n\nexport interface CreateAutomationDto {\n  name: string;\n  triggerType: string;\n  conditions: Record<string, any>;\n  actions: Record<string, any>;\n  isActive?: boolean;\n}\n\nexport class WhatsAppAutomationService {\n  constructor(\n    private readonly prisma: PrismaService,\n    private readonly whatsappQueue: Queue | null,\n    private readonly whatsappService: any | null,\n    private readonly templateService: WhatsAppTemplateService,\n  ) {}\n\n  /**\n   * Create new automation\n   */\n  async createAutomation(\n    configId: string,\n    createDto: CreateAutomationDto,\n  ): Promise<WhatsAppAutomation> {\n    return this.prisma.whatsAppAutomation.create({\n      data: {\n        configId,\n        name: createDto.name,\n        triggerType: createDto.triggerType,\n        conditions: createDto.conditions,\n        actions: createDto.actions,\n        isActive: createDto.isActive ?? true,\n      },\n    });\n  }\n\n  /**\n   * Get automations for config\n   */\n  async getAutomations(\n    configId: string,\n    activeOnly: boolean = false,\n  ): Promise<WhatsAppAutomation[]> {\n    const where: Prisma.WhatsAppAutomationWhereInput = {\n      configId,\n    };\n\n    if (activeOnly) {\n      where.isActive = true;\n    }\n\n    return this.prisma.whatsAppAutomation.findMany({\n      where,\n      orderBy: { createdAt: 'desc' },\n    });\n  }\n\n  /**\n   * Update automation\n   */\n  async updateAutomation(\n    automationId: string,\n    updateData: Partial<CreateAutomationDto>,\n  ): Promise<WhatsAppAutomation> {\n    return this.prisma.whatsAppAutomation.update({\n      where: { id: automationId },\n      data: updateData,\n    });\n  }\n\n  /**\n   * Delete automation\n   */\n  async deleteAutomation(automationId: string): Promise<void> {\n    await this.prisma.whatsAppAutomation.delete({\n      where: { id: automationId },\n    });\n  }\n\n  /**\n   * Trigger automation based on event\n   */\n  async triggerAutomation(\n    organizationId: string,\n    trigger: AutomationTrigger,\n  ): Promise<void> {\n    try {\n      // Get WhatsApp config for organization\n      const config = await this.prisma.whatsAppConfig.findUnique({\n        where: { userId: organizationId },\n      });\n\n      if (!config || !config.isActive) {\n        this.logger.warn(`WhatsApp not configured for organization ${organizationId}`);\n        return;\n      }\n\n      // Get matching automations\n      const automations = await this.prisma.whatsAppAutomation.findMany({\n        where: {\n          configId: config.id,\n          triggerType: trigger.type,\n          isActive: true,\n        },\n      });\n\n      for (const automation of automations) {\n        if (this.evaluateConditions(automation.conditions, trigger.data)) {\n          await this.executeAutomation(automation, trigger.data);\n        }\n      }\n    } catch (error) {\n      this.logger.error(`Error triggering automation:`, error);\n    }\n  }\n\n  /**\n   * Execute automation actions\n   */\n  private async executeAutomation(\n    automation: WhatsAppAutomation,\n    triggerData: any,\n  ): Promise<void> {\n    try {\n      this.logger.log(`Executing automation ${automation.name}`);\n\n      const actions = automation.actions as any;\n\n      for (const action of actions.actions || []) {\n        switch (action.type) {\n          case 'send_message':\n            await this.executeSendMessageAction(automation.configId, action, triggerData);\n            break;\n          case 'send_template':\n            await this.executeSendTemplateAction(automation.configId, action, triggerData);\n            break;\n          case 'delay':\n            await this.executeDelayAction(action);\n            break;\n          default:\n            this.logger.warn(`Unknown action type: ${action.type}`);\n        }\n      }\n\n      // Update automation stats\n      await this.prisma.whatsAppAutomation.update({\n        where: { id: automation.id },\n        data: {\n          runCount: { increment: 1 },\n          lastRun: new Date(),\n        },\n      });\n    } catch (error) {\n      this.logger.error(`Error executing automation ${automation.name}:`, error);\n    }\n  }\n\n  /**\n   * Execute send message action\n   */\n  private async executeSendMessageAction(\n    configId: string,\n    action: any,\n    triggerData: any,\n  ): Promise<void> {\n    const recipients = this.resolveRecipients(action.recipients, triggerData);\n    const message = this.processMessageTemplate(action.message, triggerData);\n\n    for (const recipient of recipients) {\n      await this.whatsappQueue.add('send-message', {\n        organizationId: configId,\n        message: {\n          to: recipient,\n          body: message,\n        },\n      });\n    }\n  }\n\n  /**\n   * Execute send template action\n   */\n  private async executeSendTemplateAction(\n    configId: string,\n    action: any,\n    triggerData: any,\n  ): Promise<void> {\n    const recipients = this.resolveRecipients(action.recipients, triggerData);\n    const templateParams = this.processTemplateParams(action.templateParams || {}, triggerData);\n\n    await this.whatsappQueue.add('send-template', {\n      organizationId: configId,\n      recipients,\n      templateName: action.templateName,\n      templateParams,\n    });\n  }\n\n  /**\n   * Execute delay action\n   */\n  private async executeDelayAction(action: any): Promise<void> {\n    const delayMs = action.delay || 1000;\n    await new Promise(resolve => setTimeout(resolve, delayMs));\n  }\n\n  /**\n   * Evaluate automation conditions\n   */\n  private evaluateConditions(conditions: any, triggerData: any): boolean {\n    if (!conditions || !conditions.rules) {\n      return true; // No conditions means always execute\n    }\n\n    const { rules, operator = 'AND' } = conditions;\n\n    const results = rules.map((rule: any) => {\n      const { field, operator: ruleOp, value } = rule;\n      const fieldValue = this.getNestedValue(triggerData, field);\n\n      switch (ruleOp) {\n        case 'equals':\n          return fieldValue === value;\n        case 'not_equals':\n          return fieldValue !== value;\n        case 'greater_than':\n          return Number(fieldValue) > Number(value);\n        case 'less_than':\n          return Number(fieldValue) < Number(value);\n        case 'greater_equal':\n          return Number(fieldValue) >= Number(value);\n        case 'less_equal':\n          return Number(fieldValue) <= Number(value);\n        case 'contains':\n          return String(fieldValue).toLowerCase().includes(String(value).toLowerCase());\n        case 'not_contains':\n          return !String(fieldValue).toLowerCase().includes(String(value).toLowerCase());\n        case 'exists':\n          return fieldValue !== undefined && fieldValue !== null;\n        case 'not_exists':\n          return fieldValue === undefined || fieldValue === null;\n        default:\n          return false;\n      }\n    });\n\n    return operator === 'AND' ? results.every(r => r) : results.some(r => r);\n  }\n\n  /**\n   * Resolve recipients from action configuration\n   */\n  private resolveRecipients(recipientConfig: any, triggerData: any): string[] {\n    if (Array.isArray(recipientConfig)) {\n      return recipientConfig;\n    }\n\n    if (typeof recipientConfig === 'string') {\n      // Check if it's a field reference\n      if (recipientConfig.startsWith('{{') && recipientConfig.endsWith('}}')) {\n        const field = recipientConfig.slice(2, -2);\n        const value = this.getNestedValue(triggerData, field);\n        return Array.isArray(value) ? value : [value].filter(Boolean);\n      }\n      return [recipientConfig];\n    }\n\n    if (recipientConfig.type === 'field') {\n      const value = this.getNestedValue(triggerData, recipientConfig.field);\n      return Array.isArray(value) ? value : [value].filter(Boolean);\n    }\n\n    return [];\n  }\n\n  /**\n   * Process message template with trigger data\n   */\n  private processMessageTemplate(template: string, triggerData: any): string {\n    return this.templateService.processTemplate(template, triggerData);\n  }\n\n  /**\n   * Process template parameters with trigger data\n   */\n  private processTemplateParams(\n    templateParams: Record<string, any>,\n    triggerData: any,\n  ): Record<string, any> {\n    const processed: Record<string, any> = {};\n\n    Object.entries(templateParams).forEach(([key, value]) => {\n      if (typeof value === 'string' && value.startsWith('{{') && value.endsWith('}}')) {\n        const field = value.slice(2, -2);\n        processed[key] = this.getNestedValue(triggerData, field);\n      } else {\n        processed[key] = value;\n      }\n    });\n\n    return processed;\n  }\n\n  /**\n   * Get nested value from object using dot notation\n   */\n  private getNestedValue(obj: any, path: string): any {\n    return path.split('.').reduce((current, key) => {\n      return current && current[key] !== undefined ? current[key] : undefined;\n    }, obj);\n  }\n\n  /**\n   * Daily report automation (runs at 9 AM)\n   */\n  async handleDailyReports(): Promise<void> {\n    this.logger.log('Starting daily WhatsApp reports');\n\n    try {\n      // Get all active WhatsApp configs\n      const configs = await this.prisma.whatsAppConfig.findMany({\n        where: { isActive: true },\n        include: { user: true },\n      });\n\n      for (const config of configs) {\n        try {\n          // Check if user has daily report automation enabled\n          const automation = await this.prisma.whatsAppAutomation.findFirst({\n            where: {\n              configId: config.id,\n              triggerType: 'DAILY_REPORT',\n              isActive: true,\n            },\n          });\n\n          if (automation) {\n            // Get yesterday's metrics\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            yesterday.setHours(0, 0, 0, 0);\n\n            const reportData = await this.generateDailyReportData(config.userId, yesterday);\n\n            await this.whatsappQueue.add('automation-trigger', {\n              organizationId: config.userId,\n              triggerType: 'daily_report',\n              data: {\n                phoneNumbers: [config.phoneNumber].filter(Boolean),\n                reportData,\n              },\n            });\n          }\n        } catch (error) {\n          this.logger.error(`Error processing daily report for config ${config.id}:`, error);\n        }\n      }\n    } catch (error) {\n      this.logger.error('Error in daily reports cron job:', error);\n    }\n  }\n\n  /**\n   * Generate daily report data\n   */\n  private async generateDailyReportData(userId: string, date: Date): Promise<any> {\n    // This would integrate with your existing metrics system\n    // For now, returning mock data structure\n    return {\n      sales: '1,250.00',\n      conversions: 15,\n      spent: '850.00',\n      roi: '147',\n      leads: 42,\n      date: date.toLocaleDateString('pt-BR'),\n    };\n  }\n\n  /**\n   * Create default automations for new config\n   */\n  async createDefaultAutomations(configId: string): Promise<WhatsAppAutomation[]> {\n    const defaultAutomations = [\n      {\n        name: 'Notifica\xE7\xE3o de Convers\xE3o',\n        triggerType: 'CONVERSION',\n        conditions: {\n          rules: [\n            {\n              field: 'value',\n              operator: 'greater_than',\n              value: 0,\n            },\n          ],\n          operator: 'AND',\n        },\n        actions: {\n          actions: [\n            {\n              type: 'send_template',\n              templateName: 'conversion_notification',\n              recipients: '{{phoneNumber}}',\n              templateParams: {\n                value: '{{value}}',\n                campaign_name: '{{campaignName}}',\n                source: '{{source}}',\n                timestamp: '{{timestamp}}',\n              },\n            },\n          ],\n        },\n      },\n      {\n        name: 'Alerta de Or\xE7amento (80%)',\n        triggerType: 'BUDGET_ALERT',\n        conditions: {\n          rules: [\n            {\n              field: 'percentage',\n              operator: 'greater_equal',\n              value: 80,\n            },\n          ],\n          operator: 'AND',\n        },\n        actions: {\n          actions: [\n            {\n              type: 'send_template',\n              templateName: 'budget_alert',\n              recipients: '{{phoneNumber}}',\n              templateParams: {\n                campaign_name: '{{campaignName}}',\n                spent: '{{spent}}',\n                budget: '{{budget}}',\n                percentage: '{{percentage}}',\n                alert_message: '{{alertMessage}}',\n              },\n            },\n          ],\n        },\n      },\n      {\n        name: 'Relat\xF3rio Di\xE1rio',\n        triggerType: 'DAILY_REPORT',\n        conditions: {},\n        actions: {\n          actions: [\n            {\n              type: 'send_template',\n              templateName: 'daily_report',\n              recipients: { type: 'field', field: 'phoneNumbers' },\n              templateParams: {\n                date: '{{date}}',\n                sales: '{{sales}}',\n                conversions: '{{conversions}}',\n                spent: '{{spent}}',\n                roi: '{{roi}}',\n                leads: '{{leads}}',\n              },\n            },\n          ],\n        },\n      },\n      {\n        name: 'Mensagem de Boas-vindas',\n        triggerType: 'WELCOME',\n        conditions: {},\n        actions: {\n          actions: [\n            {\n              type: 'send_template',\n              templateName: 'welcome_message',\n              recipients: '{{phoneNumber}}',\n              templateParams: {\n                name: '{{name}}',\n              },\n            },\n          ],\n        },\n      },\n    ];\n\n    const createdAutomations: WhatsAppAutomation[] = [];\n\n    for (const automation of defaultAutomations) {\n      try {\n        const created = await this.createAutomation(configId, automation);\n        createdAutomations.push(created);\n      } catch (error) {\n        this.logger.error(`Error creating default automation ${automation.name}:`, error);\n      }\n    }\n\n    this.logger.log(`Created ${createdAutomations.length} default automations for config ${configId}`);\n    return createdAutomations;\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "5084a4ddc23536355b8aef9eac64f30a1c59e534"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_nyukq8s92 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_nyukq8s92();
export class WhatsAppAutomationService {
  prisma;
  whatsappQueue;
  whatsappService;
  templateService;
  constructor(prisma, whatsappQueue, whatsappService, templateService) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[0]++;
    cov_nyukq8s92().s[0]++;
    this.prisma = prisma;
    /* istanbul ignore next */
    cov_nyukq8s92().s[1]++;
    this.whatsappQueue = whatsappQueue;
    /* istanbul ignore next */
    cov_nyukq8s92().s[2]++;
    this.whatsappService = whatsappService;
    /* istanbul ignore next */
    cov_nyukq8s92().s[3]++;
    this.templateService = templateService;
  }
  /**
   * Create new automation
   */
  async createAutomation(configId, createDto) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[1]++;
    cov_nyukq8s92().s[4]++;
    return this.prisma.whatsAppAutomation.create({
      data: {
        configId,
        name: createDto.name,
        triggerType: createDto.triggerType,
        conditions: createDto.conditions,
        actions: createDto.actions,
        isActive:
        /* istanbul ignore next */
        (cov_nyukq8s92().b[0][0]++, createDto.isActive) ??
        /* istanbul ignore next */
        (cov_nyukq8s92().b[0][1]++, true)
      }
    });
  }
  /**
   * Get automations for config
   */
  async getAutomations(configId, activeOnly =
  /* istanbul ignore next */
  (cov_nyukq8s92().b[1][0]++, false)) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[2]++;
    const where =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[5]++, {
      configId
    });
    /* istanbul ignore next */
    cov_nyukq8s92().s[6]++;
    if (activeOnly) {
      /* istanbul ignore next */
      cov_nyukq8s92().b[2][0]++;
      cov_nyukq8s92().s[7]++;
      where.isActive = true;
    } else
    /* istanbul ignore next */
    {
      cov_nyukq8s92().b[2][1]++;
    }
    cov_nyukq8s92().s[8]++;
    return this.prisma.whatsAppAutomation.findMany({
      where,
      orderBy: {
        createdAt: 'desc'
      }
    });
  }
  /**
   * Update automation
   */
  async updateAutomation(automationId, updateData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[3]++;
    cov_nyukq8s92().s[9]++;
    return this.prisma.whatsAppAutomation.update({
      where: {
        id: automationId
      },
      data: updateData
    });
  }
  /**
   * Delete automation
   */
  async deleteAutomation(automationId) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[4]++;
    cov_nyukq8s92().s[10]++;
    await this.prisma.whatsAppAutomation.delete({
      where: {
        id: automationId
      }
    });
  }
  /**
   * Trigger automation based on event
   */
  async triggerAutomation(organizationId, trigger) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[5]++;
    cov_nyukq8s92().s[11]++;
    try {
      // Get WhatsApp config for organization
      const config =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[12]++, await this.prisma.whatsAppConfig.findUnique({
        where: {
          userId: organizationId
        }
      }));
      /* istanbul ignore next */
      cov_nyukq8s92().s[13]++;
      if (
      /* istanbul ignore next */
      (cov_nyukq8s92().b[4][0]++, !config) ||
      /* istanbul ignore next */
      (cov_nyukq8s92().b[4][1]++, !config.isActive)) {
        /* istanbul ignore next */
        cov_nyukq8s92().b[3][0]++;
        cov_nyukq8s92().s[14]++;
        this.logger.warn(`WhatsApp not configured for organization ${organizationId}`);
        /* istanbul ignore next */
        cov_nyukq8s92().s[15]++;
        return;
      } else
      /* istanbul ignore next */
      {
        cov_nyukq8s92().b[3][1]++;
      }
      // Get matching automations
      const automations =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[16]++, await this.prisma.whatsAppAutomation.findMany({
        where: {
          configId: config.id,
          triggerType: trigger.type,
          isActive: true
        }
      }));
      /* istanbul ignore next */
      cov_nyukq8s92().s[17]++;
      for (const automation of automations) {
        /* istanbul ignore next */
        cov_nyukq8s92().s[18]++;
        if (this.evaluateConditions(automation.conditions, trigger.data)) {
          /* istanbul ignore next */
          cov_nyukq8s92().b[5][0]++;
          cov_nyukq8s92().s[19]++;
          await this.executeAutomation(automation, trigger.data);
        } else
        /* istanbul ignore next */
        {
          cov_nyukq8s92().b[5][1]++;
        }
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_nyukq8s92().s[20]++;
      this.logger.error(`Error triggering automation:`, error);
    }
  }
  /**
   * Execute automation actions
   */
  async executeAutomation(automation, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[6]++;
    cov_nyukq8s92().s[21]++;
    try {
      /* istanbul ignore next */
      cov_nyukq8s92().s[22]++;
      this.logger.log(`Executing automation ${automation.name}`);
      const actions =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[23]++, automation.actions);
      /* istanbul ignore next */
      cov_nyukq8s92().s[24]++;
      for (const action of
      /* istanbul ignore next */
      (cov_nyukq8s92().b[6][0]++, actions.actions) ||
      /* istanbul ignore next */
      (cov_nyukq8s92().b[6][1]++, [])) {
        /* istanbul ignore next */
        cov_nyukq8s92().s[25]++;
        switch (action.type) {
          case 'send_message':
            /* istanbul ignore next */
            cov_nyukq8s92().b[7][0]++;
            cov_nyukq8s92().s[26]++;
            await this.executeSendMessageAction(automation.configId, action, triggerData);
            /* istanbul ignore next */
            cov_nyukq8s92().s[27]++;
            break;
          case 'send_template':
            /* istanbul ignore next */
            cov_nyukq8s92().b[7][1]++;
            cov_nyukq8s92().s[28]++;
            await this.executeSendTemplateAction(automation.configId, action, triggerData);
            /* istanbul ignore next */
            cov_nyukq8s92().s[29]++;
            break;
          case 'delay':
            /* istanbul ignore next */
            cov_nyukq8s92().b[7][2]++;
            cov_nyukq8s92().s[30]++;
            await this.executeDelayAction(action);
            /* istanbul ignore next */
            cov_nyukq8s92().s[31]++;
            break;
          default:
            /* istanbul ignore next */
            cov_nyukq8s92().b[7][3]++;
            cov_nyukq8s92().s[32]++;
            this.logger.warn(`Unknown action type: ${action.type}`);
        }
      }
      // Update automation stats
      /* istanbul ignore next */
      cov_nyukq8s92().s[33]++;
      await this.prisma.whatsAppAutomation.update({
        where: {
          id: automation.id
        },
        data: {
          runCount: {
            increment: 1
          },
          lastRun: new Date()
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_nyukq8s92().s[34]++;
      this.logger.error(`Error executing automation ${automation.name}:`, error);
    }
  }
  /**
   * Execute send message action
   */
  async executeSendMessageAction(configId, action, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[7]++;
    const recipients =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[35]++, this.resolveRecipients(action.recipients, triggerData));
    const message =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[36]++, this.processMessageTemplate(action.message, triggerData));
    /* istanbul ignore next */
    cov_nyukq8s92().s[37]++;
    for (const recipient of recipients) {
      /* istanbul ignore next */
      cov_nyukq8s92().s[38]++;
      await this.whatsappQueue.add('send-message', {
        organizationId: configId,
        message: {
          to: recipient,
          body: message
        }
      });
    }
  }
  /**
   * Execute send template action
   */
  async executeSendTemplateAction(configId, action, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[8]++;
    const recipients =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[39]++, this.resolveRecipients(action.recipients, triggerData));
    const templateParams =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[40]++, this.processTemplateParams(
    /* istanbul ignore next */
    (cov_nyukq8s92().b[8][0]++, action.templateParams) ||
    /* istanbul ignore next */
    (cov_nyukq8s92().b[8][1]++, {}), triggerData));
    /* istanbul ignore next */
    cov_nyukq8s92().s[41]++;
    await this.whatsappQueue.add('send-template', {
      organizationId: configId,
      recipients,
      templateName: action.templateName,
      templateParams
    });
  }
  /**
   * Execute delay action
   */
  async executeDelayAction(action) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[9]++;
    const delayMs =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[42]++,
    /* istanbul ignore next */
    (cov_nyukq8s92().b[9][0]++, action.delay) ||
    /* istanbul ignore next */
    (cov_nyukq8s92().b[9][1]++, 1000));
    /* istanbul ignore next */
    cov_nyukq8s92().s[43]++;
    await new Promise(resolve => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[10]++;
      cov_nyukq8s92().s[44]++;
      return setTimeout(resolve, delayMs);
    });
  }
  /**
   * Evaluate automation conditions
   */
  evaluateConditions(conditions, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[11]++;
    cov_nyukq8s92().s[45]++;
    if (
    /* istanbul ignore next */
    (cov_nyukq8s92().b[11][0]++, !conditions) ||
    /* istanbul ignore next */
    (cov_nyukq8s92().b[11][1]++, !conditions.rules)) {
      /* istanbul ignore next */
      cov_nyukq8s92().b[10][0]++;
      cov_nyukq8s92().s[46]++;
      return true; // No conditions means always execute
    } else
    /* istanbul ignore next */
    {
      cov_nyukq8s92().b[10][1]++;
    }
    const {
      rules,
      operator =
      /* istanbul ignore next */
      (cov_nyukq8s92().b[12][0]++, 'AND')
    } =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[47]++, conditions);
    const results =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[48]++, rules.map(rule => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[12]++;
      const {
        field,
        operator: ruleOp,
        value
      } =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[49]++, rule);
      const fieldValue =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[50]++, this.getNestedValue(triggerData, field));
      /* istanbul ignore next */
      cov_nyukq8s92().s[51]++;
      switch (ruleOp) {
        case 'equals':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][0]++;
          cov_nyukq8s92().s[52]++;
          return fieldValue === value;
        case 'not_equals':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][1]++;
          cov_nyukq8s92().s[53]++;
          return fieldValue !== value;
        case 'greater_than':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][2]++;
          cov_nyukq8s92().s[54]++;
          return Number(fieldValue) > Number(value);
        case 'less_than':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][3]++;
          cov_nyukq8s92().s[55]++;
          return Number(fieldValue) < Number(value);
        case 'greater_equal':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][4]++;
          cov_nyukq8s92().s[56]++;
          return Number(fieldValue) >= Number(value);
        case 'less_equal':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][5]++;
          cov_nyukq8s92().s[57]++;
          return Number(fieldValue) <= Number(value);
        case 'contains':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][6]++;
          cov_nyukq8s92().s[58]++;
          return String(fieldValue).toLowerCase().includes(String(value).toLowerCase());
        case 'not_contains':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][7]++;
          cov_nyukq8s92().s[59]++;
          return !String(fieldValue).toLowerCase().includes(String(value).toLowerCase());
        case 'exists':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][8]++;
          cov_nyukq8s92().s[60]++;
          return /* istanbul ignore next */(cov_nyukq8s92().b[14][0]++, fieldValue !== undefined) &&
          /* istanbul ignore next */
          (cov_nyukq8s92().b[14][1]++, fieldValue !== null);
        case 'not_exists':
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][9]++;
          cov_nyukq8s92().s[61]++;
          return /* istanbul ignore next */(cov_nyukq8s92().b[15][0]++, fieldValue === undefined) ||
          /* istanbul ignore next */
          (cov_nyukq8s92().b[15][1]++, fieldValue === null);
        default:
          /* istanbul ignore next */
          cov_nyukq8s92().b[13][10]++;
          cov_nyukq8s92().s[62]++;
          return false;
      }
    }));
    /* istanbul ignore next */
    cov_nyukq8s92().s[63]++;
    return operator === 'AND' ?
    /* istanbul ignore next */
    (cov_nyukq8s92().b[16][0]++, results.every(r => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[13]++;
      cov_nyukq8s92().s[64]++;
      return r;
    })) :
    /* istanbul ignore next */
    (cov_nyukq8s92().b[16][1]++, results.some(r => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[14]++;
      cov_nyukq8s92().s[65]++;
      return r;
    }));
  }
  /**
   * Resolve recipients from action configuration
   */
  resolveRecipients(recipientConfig, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[15]++;
    cov_nyukq8s92().s[66]++;
    if (Array.isArray(recipientConfig)) {
      /* istanbul ignore next */
      cov_nyukq8s92().b[17][0]++;
      cov_nyukq8s92().s[67]++;
      return recipientConfig;
    } else
    /* istanbul ignore next */
    {
      cov_nyukq8s92().b[17][1]++;
    }
    cov_nyukq8s92().s[68]++;
    if (typeof recipientConfig === 'string') {
      /* istanbul ignore next */
      cov_nyukq8s92().b[18][0]++;
      cov_nyukq8s92().s[69]++;
      // Check if it's a field reference
      if (
      /* istanbul ignore next */
      (cov_nyukq8s92().b[20][0]++, recipientConfig.startsWith('{{')) &&
      /* istanbul ignore next */
      (cov_nyukq8s92().b[20][1]++, recipientConfig.endsWith('}}'))) {
        /* istanbul ignore next */
        cov_nyukq8s92().b[19][0]++;
        const field =
        /* istanbul ignore next */
        (cov_nyukq8s92().s[70]++, recipientConfig.slice(2, -2));
        const value =
        /* istanbul ignore next */
        (cov_nyukq8s92().s[71]++, this.getNestedValue(triggerData, field));
        /* istanbul ignore next */
        cov_nyukq8s92().s[72]++;
        return Array.isArray(value) ?
        /* istanbul ignore next */
        (cov_nyukq8s92().b[21][0]++, value) :
        /* istanbul ignore next */
        (cov_nyukq8s92().b[21][1]++, [value].filter(Boolean));
      } else
      /* istanbul ignore next */
      {
        cov_nyukq8s92().b[19][1]++;
      }
      cov_nyukq8s92().s[73]++;
      return [recipientConfig];
    } else
    /* istanbul ignore next */
    {
      cov_nyukq8s92().b[18][1]++;
    }
    cov_nyukq8s92().s[74]++;
    if (recipientConfig.type === 'field') {
      /* istanbul ignore next */
      cov_nyukq8s92().b[22][0]++;
      const value =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[75]++, this.getNestedValue(triggerData, recipientConfig.field));
      /* istanbul ignore next */
      cov_nyukq8s92().s[76]++;
      return Array.isArray(value) ?
      /* istanbul ignore next */
      (cov_nyukq8s92().b[23][0]++, value) :
      /* istanbul ignore next */
      (cov_nyukq8s92().b[23][1]++, [value].filter(Boolean));
    } else
    /* istanbul ignore next */
    {
      cov_nyukq8s92().b[22][1]++;
    }
    cov_nyukq8s92().s[77]++;
    return [];
  }
  /**
   * Process message template with trigger data
   */
  processMessageTemplate(template, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[16]++;
    cov_nyukq8s92().s[78]++;
    return this.templateService.processTemplate(template, triggerData);
  }
  /**
   * Process template parameters with trigger data
   */
  processTemplateParams(templateParams, triggerData) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[17]++;
    const processed =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[79]++, {});
    /* istanbul ignore next */
    cov_nyukq8s92().s[80]++;
    Object.entries(templateParams).forEach(([key, value]) => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[18]++;
      cov_nyukq8s92().s[81]++;
      if (
      /* istanbul ignore next */
      (cov_nyukq8s92().b[25][0]++, typeof value === 'string') &&
      /* istanbul ignore next */
      (cov_nyukq8s92().b[25][1]++, value.startsWith('{{')) &&
      /* istanbul ignore next */
      (cov_nyukq8s92().b[25][2]++, value.endsWith('}}'))) {
        /* istanbul ignore next */
        cov_nyukq8s92().b[24][0]++;
        const field =
        /* istanbul ignore next */
        (cov_nyukq8s92().s[82]++, value.slice(2, -2));
        /* istanbul ignore next */
        cov_nyukq8s92().s[83]++;
        processed[key] = this.getNestedValue(triggerData, field);
      } else {
        /* istanbul ignore next */
        cov_nyukq8s92().b[24][1]++;
        cov_nyukq8s92().s[84]++;
        processed[key] = value;
      }
    });
    /* istanbul ignore next */
    cov_nyukq8s92().s[85]++;
    return processed;
  }
  /**
   * Get nested value from object using dot notation
   */
  getNestedValue(obj, path) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[19]++;
    cov_nyukq8s92().s[86]++;
    return path.split('.').reduce((current, key) => {
      /* istanbul ignore next */
      cov_nyukq8s92().f[20]++;
      cov_nyukq8s92().s[87]++;
      return /* istanbul ignore next */(cov_nyukq8s92().b[27][0]++, current) &&
      /* istanbul ignore next */
      (cov_nyukq8s92().b[27][1]++, current[key] !== undefined) ?
      /* istanbul ignore next */
      (cov_nyukq8s92().b[26][0]++, current[key]) :
      /* istanbul ignore next */
      (cov_nyukq8s92().b[26][1]++, undefined);
    }, obj);
  }
  /**
   * Daily report automation (runs at 9 AM)
   */
  async handleDailyReports() {
    /* istanbul ignore next */
    cov_nyukq8s92().f[21]++;
    cov_nyukq8s92().s[88]++;
    this.logger.log('Starting daily WhatsApp reports');
    /* istanbul ignore next */
    cov_nyukq8s92().s[89]++;
    try {
      // Get all active WhatsApp configs
      const configs =
      /* istanbul ignore next */
      (cov_nyukq8s92().s[90]++, await this.prisma.whatsAppConfig.findMany({
        where: {
          isActive: true
        },
        include: {
          user: true
        }
      }));
      /* istanbul ignore next */
      cov_nyukq8s92().s[91]++;
      for (const config of configs) {
        /* istanbul ignore next */
        cov_nyukq8s92().s[92]++;
        try {
          // Check if user has daily report automation enabled
          const automation =
          /* istanbul ignore next */
          (cov_nyukq8s92().s[93]++, await this.prisma.whatsAppAutomation.findFirst({
            where: {
              configId: config.id,
              triggerType: 'DAILY_REPORT',
              isActive: true
            }
          }));
          /* istanbul ignore next */
          cov_nyukq8s92().s[94]++;
          if (automation) {
            /* istanbul ignore next */
            cov_nyukq8s92().b[28][0]++;
            // Get yesterday's metrics
            const yesterday =
            /* istanbul ignore next */
            (cov_nyukq8s92().s[95]++, new Date());
            /* istanbul ignore next */
            cov_nyukq8s92().s[96]++;
            yesterday.setDate(yesterday.getDate() - 1);
            /* istanbul ignore next */
            cov_nyukq8s92().s[97]++;
            yesterday.setHours(0, 0, 0, 0);
            const reportData =
            /* istanbul ignore next */
            (cov_nyukq8s92().s[98]++, await this.generateDailyReportData(config.userId, yesterday));
            /* istanbul ignore next */
            cov_nyukq8s92().s[99]++;
            await this.whatsappQueue.add('automation-trigger', {
              organizationId: config.userId,
              triggerType: 'daily_report',
              data: {
                phoneNumbers: [config.phoneNumber].filter(Boolean),
                reportData
              }
            });
          } else
          /* istanbul ignore next */
          {
            cov_nyukq8s92().b[28][1]++;
          }
        } catch (error) {
          /* istanbul ignore next */
          cov_nyukq8s92().s[100]++;
          this.logger.error(`Error processing daily report for config ${config.id}:`, error);
        }
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_nyukq8s92().s[101]++;
      this.logger.error('Error in daily reports cron job:', error);
    }
  }
  /**
   * Generate daily report data
   */
  async generateDailyReportData(userId, date) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[22]++;
    cov_nyukq8s92().s[102]++;
    // This would integrate with your existing metrics system
    // For now, returning mock data structure
    return {
      sales: '1,250.00',
      conversions: 15,
      spent: '850.00',
      roi: '147',
      leads: 42,
      date: date.toLocaleDateString('pt-BR')
    };
  }
  /**
   * Create default automations for new config
   */
  async createDefaultAutomations(configId) {
    /* istanbul ignore next */
    cov_nyukq8s92().f[23]++;
    const defaultAutomations =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[103]++, [{
      name: 'Notificação de Conversão',
      triggerType: 'CONVERSION',
      conditions: {
        rules: [{
          field: 'value',
          operator: 'greater_than',
          value: 0
        }],
        operator: 'AND'
      },
      actions: {
        actions: [{
          type: 'send_template',
          templateName: 'conversion_notification',
          recipients: '{{phoneNumber}}',
          templateParams: {
            value: '{{value}}',
            campaign_name: '{{campaignName}}',
            source: '{{source}}',
            timestamp: '{{timestamp}}'
          }
        }]
      }
    }, {
      name: 'Alerta de Orçamento (80%)',
      triggerType: 'BUDGET_ALERT',
      conditions: {
        rules: [{
          field: 'percentage',
          operator: 'greater_equal',
          value: 80
        }],
        operator: 'AND'
      },
      actions: {
        actions: [{
          type: 'send_template',
          templateName: 'budget_alert',
          recipients: '{{phoneNumber}}',
          templateParams: {
            campaign_name: '{{campaignName}}',
            spent: '{{spent}}',
            budget: '{{budget}}',
            percentage: '{{percentage}}',
            alert_message: '{{alertMessage}}'
          }
        }]
      }
    }, {
      name: 'Relatório Diário',
      triggerType: 'DAILY_REPORT',
      conditions: {},
      actions: {
        actions: [{
          type: 'send_template',
          templateName: 'daily_report',
          recipients: {
            type: 'field',
            field: 'phoneNumbers'
          },
          templateParams: {
            date: '{{date}}',
            sales: '{{sales}}',
            conversions: '{{conversions}}',
            spent: '{{spent}}',
            roi: '{{roi}}',
            leads: '{{leads}}'
          }
        }]
      }
    }, {
      name: 'Mensagem de Boas-vindas',
      triggerType: 'WELCOME',
      conditions: {},
      actions: {
        actions: [{
          type: 'send_template',
          templateName: 'welcome_message',
          recipients: '{{phoneNumber}}',
          templateParams: {
            name: '{{name}}'
          }
        }]
      }
    }]);
    const createdAutomations =
    /* istanbul ignore next */
    (cov_nyukq8s92().s[104]++, []);
    /* istanbul ignore next */
    cov_nyukq8s92().s[105]++;
    for (const automation of defaultAutomations) {
      /* istanbul ignore next */
      cov_nyukq8s92().s[106]++;
      try {
        const created =
        /* istanbul ignore next */
        (cov_nyukq8s92().s[107]++, await this.createAutomation(configId, automation));
        /* istanbul ignore next */
        cov_nyukq8s92().s[108]++;
        createdAutomations.push(created);
      } catch (error) {
        /* istanbul ignore next */
        cov_nyukq8s92().s[109]++;
        this.logger.error(`Error creating default automation ${automation.name}:`, error);
      }
    }
    /* istanbul ignore next */
    cov_nyukq8s92().s[110]++;
    this.logger.log(`Created ${createdAutomations.length} default automations for config ${configId}`);
    /* istanbul ignore next */
    cov_nyukq8s92().s[111]++;
    return createdAutomations;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfbnl1a3E4czkyIiwiYWN0dWFsQ292ZXJhZ2UiLCJXaGF0c0FwcEF1dG9tYXRpb25TZXJ2aWNlIiwicHJpc21hIiwid2hhdHNhcHBRdWV1ZSIsIndoYXRzYXBwU2VydmljZSIsInRlbXBsYXRlU2VydmljZSIsImNvbnN0cnVjdG9yIiwiZiIsInMiLCJjcmVhdGVBdXRvbWF0aW9uIiwiY29uZmlnSWQiLCJjcmVhdGVEdG8iLCJ3aGF0c0FwcEF1dG9tYXRpb24iLCJjcmVhdGUiLCJkYXRhIiwibmFtZSIsInRyaWdnZXJUeXBlIiwiY29uZGl0aW9ucyIsImFjdGlvbnMiLCJpc0FjdGl2ZSIsImIiLCJnZXRBdXRvbWF0aW9ucyIsImFjdGl2ZU9ubHkiLCJ3aGVyZSIsImZpbmRNYW55Iiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInVwZGF0ZUF1dG9tYXRpb24iLCJhdXRvbWF0aW9uSWQiLCJ1cGRhdGVEYXRhIiwidXBkYXRlIiwiaWQiLCJkZWxldGVBdXRvbWF0aW9uIiwiZGVsZXRlIiwidHJpZ2dlckF1dG9tYXRpb24iLCJvcmdhbml6YXRpb25JZCIsInRyaWdnZXIiLCJjb25maWciLCJ3aGF0c0FwcENvbmZpZyIsImZpbmRVbmlxdWUiLCJ1c2VySWQiLCJsb2dnZXIiLCJ3YXJuIiwiYXV0b21hdGlvbnMiLCJ0eXBlIiwiYXV0b21hdGlvbiIsImV2YWx1YXRlQ29uZGl0aW9ucyIsImV4ZWN1dGVBdXRvbWF0aW9uIiwiZXJyb3IiLCJ0cmlnZ2VyRGF0YSIsImxvZyIsImFjdGlvbiIsImV4ZWN1dGVTZW5kTWVzc2FnZUFjdGlvbiIsImV4ZWN1dGVTZW5kVGVtcGxhdGVBY3Rpb24iLCJleGVjdXRlRGVsYXlBY3Rpb24iLCJydW5Db3VudCIsImluY3JlbWVudCIsImxhc3RSdW4iLCJEYXRlIiwicmVjaXBpZW50cyIsInJlc29sdmVSZWNpcGllbnRzIiwibWVzc2FnZSIsInByb2Nlc3NNZXNzYWdlVGVtcGxhdGUiLCJyZWNpcGllbnQiLCJhZGQiLCJ0byIsImJvZHkiLCJ0ZW1wbGF0ZVBhcmFtcyIsInByb2Nlc3NUZW1wbGF0ZVBhcmFtcyIsInRlbXBsYXRlTmFtZSIsImRlbGF5TXMiLCJkZWxheSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInJ1bGVzIiwib3BlcmF0b3IiLCJyZXN1bHRzIiwibWFwIiwicnVsZSIsImZpZWxkIiwicnVsZU9wIiwidmFsdWUiLCJmaWVsZFZhbHVlIiwiZ2V0TmVzdGVkVmFsdWUiLCJOdW1iZXIiLCJTdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwiZXZlcnkiLCJyIiwic29tZSIsInJlY2lwaWVudENvbmZpZyIsIkFycmF5IiwiaXNBcnJheSIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInNsaWNlIiwiZmlsdGVyIiwiQm9vbGVhbiIsInRlbXBsYXRlIiwicHJvY2Vzc1RlbXBsYXRlIiwicHJvY2Vzc2VkIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJvYmoiLCJwYXRoIiwic3BsaXQiLCJyZWR1Y2UiLCJjdXJyZW50IiwiaGFuZGxlRGFpbHlSZXBvcnRzIiwiY29uZmlncyIsImluY2x1ZGUiLCJ1c2VyIiwiZmluZEZpcnN0IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJzZXRIb3VycyIsInJlcG9ydERhdGEiLCJnZW5lcmF0ZURhaWx5UmVwb3J0RGF0YSIsInBob25lTnVtYmVycyIsInBob25lTnVtYmVyIiwiZGF0ZSIsInNhbGVzIiwiY29udmVyc2lvbnMiLCJzcGVudCIsInJvaSIsImxlYWRzIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiY3JlYXRlRGVmYXVsdEF1dG9tYXRpb25zIiwiZGVmYXVsdEF1dG9tYXRpb25zIiwiY2FtcGFpZ25fbmFtZSIsInNvdXJjZSIsInRpbWVzdGFtcCIsImJ1ZGdldCIsInBlcmNlbnRhZ2UiLCJhbGVydF9tZXNzYWdlIiwiY3JlYXRlZEF1dG9tYXRpb25zIiwiY3JlYXRlZCIsInB1c2giLCJsZW5ndGgiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXEVuem8gTWFyY2Vsb1xcRGVza3RvcFxcUHJvamV0b3MgRW1wcmVzYVxcU2FhcyBVdG1pZnlcXHV0bWlmeS1jbG9uZVxcYXBwc1xcYXBpXFxzcmNcXHNlcnZpY2VzXFx3aGF0c2FwcC1hdXRvbWF0aW9uLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVldWUgfSBmcm9tICdidWxsJztcbmltcG9ydCB7IFByaXNtYVNlcnZpY2UgfSBmcm9tICcuL3ByaXNtYS5zZXJ2aWNlJztcbmltcG9ydCB7IFdoYXRzQXBwVGVtcGxhdGVTZXJ2aWNlIH0gZnJvbSAnLi93aGF0c2FwcC10ZW1wbGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB7IFdoYXRzQXBwQXV0b21hdGlvbiwgUHJpc21hIH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuZXhwb3J0IGludGVyZmFjZSBBdXRvbWF0aW9uVHJpZ2dlciB7XG4gIHR5cGU6ICdDT05WRVJTSU9OJyB8ICdCVURHRVRfQUxFUlQnIHwgJ0RBSUxZX1JFUE9SVCcgfCAnV0VMQ09NRScgfCAnS0VZV09SRCc7XG4gIGRhdGE6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVBdXRvbWF0aW9uRHRvIHtcbiAgbmFtZTogc3RyaW5nO1xuICB0cmlnZ2VyVHlwZTogc3RyaW5nO1xuICBjb25kaXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBhY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBpc0FjdGl2ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBXaGF0c0FwcEF1dG9tYXRpb25TZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcmlzbWE6IFByaXNtYVNlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSB3aGF0c2FwcFF1ZXVlOiBRdWV1ZSB8IG51bGwsXG4gICAgcHJpdmF0ZSByZWFkb25seSB3aGF0c2FwcFNlcnZpY2U6IGFueSB8IG51bGwsXG4gICAgcHJpdmF0ZSByZWFkb25seSB0ZW1wbGF0ZVNlcnZpY2U6IFdoYXRzQXBwVGVtcGxhdGVTZXJ2aWNlLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgYXV0b21hdGlvblxuICAgKi9cbiAgYXN5bmMgY3JlYXRlQXV0b21hdGlvbihcbiAgICBjb25maWdJZDogc3RyaW5nLFxuICAgIGNyZWF0ZUR0bzogQ3JlYXRlQXV0b21hdGlvbkR0byxcbiAgKTogUHJvbWlzZTxXaGF0c0FwcEF1dG9tYXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5wcmlzbWEud2hhdHNBcHBBdXRvbWF0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGNvbmZpZ0lkLFxuICAgICAgICBuYW1lOiBjcmVhdGVEdG8ubmFtZSxcbiAgICAgICAgdHJpZ2dlclR5cGU6IGNyZWF0ZUR0by50cmlnZ2VyVHlwZSxcbiAgICAgICAgY29uZGl0aW9uczogY3JlYXRlRHRvLmNvbmRpdGlvbnMsXG4gICAgICAgIGFjdGlvbnM6IGNyZWF0ZUR0by5hY3Rpb25zLFxuICAgICAgICBpc0FjdGl2ZTogY3JlYXRlRHRvLmlzQWN0aXZlID8/IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhdXRvbWF0aW9ucyBmb3IgY29uZmlnXG4gICAqL1xuICBhc3luYyBnZXRBdXRvbWF0aW9ucyhcbiAgICBjb25maWdJZDogc3RyaW5nLFxuICAgIGFjdGl2ZU9ubHk6IGJvb2xlYW4gPSBmYWxzZSxcbiAgKTogUHJvbWlzZTxXaGF0c0FwcEF1dG9tYXRpb25bXT4ge1xuICAgIGNvbnN0IHdoZXJlOiBQcmlzbWEuV2hhdHNBcHBBdXRvbWF0aW9uV2hlcmVJbnB1dCA9IHtcbiAgICAgIGNvbmZpZ0lkLFxuICAgIH07XG5cbiAgICBpZiAoYWN0aXZlT25seSkge1xuICAgICAgd2hlcmUuaXNBY3RpdmUgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnByaXNtYS53aGF0c0FwcEF1dG9tYXRpb24uZmluZE1hbnkoe1xuICAgICAgd2hlcmUsXG4gICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGF1dG9tYXRpb25cbiAgICovXG4gIGFzeW5jIHVwZGF0ZUF1dG9tYXRpb24oXG4gICAgYXV0b21hdGlvbklkOiBzdHJpbmcsXG4gICAgdXBkYXRlRGF0YTogUGFydGlhbDxDcmVhdGVBdXRvbWF0aW9uRHRvPixcbiAgKTogUHJvbWlzZTxXaGF0c0FwcEF1dG9tYXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5wcmlzbWEud2hhdHNBcHBBdXRvbWF0aW9uLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogYXV0b21hdGlvbklkIH0sXG4gICAgICBkYXRhOiB1cGRhdGVEYXRhLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhdXRvbWF0aW9uXG4gICAqL1xuICBhc3luYyBkZWxldGVBdXRvbWF0aW9uKGF1dG9tYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5wcmlzbWEud2hhdHNBcHBBdXRvbWF0aW9uLmRlbGV0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogYXV0b21hdGlvbklkIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVHJpZ2dlciBhdXRvbWF0aW9uIGJhc2VkIG9uIGV2ZW50XG4gICAqL1xuICBhc3luYyB0cmlnZ2VyQXV0b21hdGlvbihcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIHRyaWdnZXI6IEF1dG9tYXRpb25UcmlnZ2VyLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IFdoYXRzQXBwIGNvbmZpZyBmb3Igb3JnYW5pemF0aW9uXG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCB0aGlzLnByaXNtYS53aGF0c0FwcENvbmZpZy5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiBvcmdhbml6YXRpb25JZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghY29uZmlnIHx8ICFjb25maWcuaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgV2hhdHNBcHAgbm90IGNvbmZpZ3VyZWQgZm9yIG9yZ2FuaXphdGlvbiAke29yZ2FuaXphdGlvbklkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCBtYXRjaGluZyBhdXRvbWF0aW9uc1xuICAgICAgY29uc3QgYXV0b21hdGlvbnMgPSBhd2FpdCB0aGlzLnByaXNtYS53aGF0c0FwcEF1dG9tYXRpb24uZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGNvbmZpZ0lkOiBjb25maWcuaWQsXG4gICAgICAgICAgdHJpZ2dlclR5cGU6IHRyaWdnZXIudHlwZSxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKGNvbnN0IGF1dG9tYXRpb24gb2YgYXV0b21hdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZhbHVhdGVDb25kaXRpb25zKGF1dG9tYXRpb24uY29uZGl0aW9ucywgdHJpZ2dlci5kYXRhKSkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZUF1dG9tYXRpb24oYXV0b21hdGlvbiwgdHJpZ2dlci5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3IgdHJpZ2dlcmluZyBhdXRvbWF0aW9uOmAsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZSBhdXRvbWF0aW9uIGFjdGlvbnNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUF1dG9tYXRpb24oXG4gICAgYXV0b21hdGlvbjogV2hhdHNBcHBBdXRvbWF0aW9uLFxuICAgIHRyaWdnZXJEYXRhOiBhbnksXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coYEV4ZWN1dGluZyBhdXRvbWF0aW9uICR7YXV0b21hdGlvbi5uYW1lfWApO1xuXG4gICAgICBjb25zdCBhY3Rpb25zID0gYXV0b21hdGlvbi5hY3Rpb25zIGFzIGFueTtcblxuICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucy5hY3Rpb25zIHx8IFtdKSB7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdzZW5kX21lc3NhZ2UnOlxuICAgICAgICAgICAgYXdhaXQgdGhpcy5leGVjdXRlU2VuZE1lc3NhZ2VBY3Rpb24oYXV0b21hdGlvbi5jb25maWdJZCwgYWN0aW9uLCB0cmlnZ2VyRGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzZW5kX3RlbXBsYXRlJzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZVNlbmRUZW1wbGF0ZUFjdGlvbihhdXRvbWF0aW9uLmNvbmZpZ0lkLCBhY3Rpb24sIHRyaWdnZXJEYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2RlbGF5JzpcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXhlY3V0ZURlbGF5QWN0aW9uKGFjdGlvbik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihgVW5rbm93biBhY3Rpb24gdHlwZTogJHthY3Rpb24udHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgYXV0b21hdGlvbiBzdGF0c1xuICAgICAgYXdhaXQgdGhpcy5wcmlzbWEud2hhdHNBcHBBdXRvbWF0aW9uLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBhdXRvbWF0aW9uLmlkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBydW5Db3VudDogeyBpbmNyZW1lbnQ6IDEgfSxcbiAgICAgICAgICBsYXN0UnVuOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBFcnJvciBleGVjdXRpbmcgYXV0b21hdGlvbiAke2F1dG9tYXRpb24ubmFtZX06YCwgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHNlbmQgbWVzc2FnZSBhY3Rpb25cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVNlbmRNZXNzYWdlQWN0aW9uKFxuICAgIGNvbmZpZ0lkOiBzdHJpbmcsXG4gICAgYWN0aW9uOiBhbnksXG4gICAgdHJpZ2dlckRhdGE6IGFueSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVjaXBpZW50cyA9IHRoaXMucmVzb2x2ZVJlY2lwaWVudHMoYWN0aW9uLnJlY2lwaWVudHMsIHRyaWdnZXJEYXRhKTtcbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5wcm9jZXNzTWVzc2FnZVRlbXBsYXRlKGFjdGlvbi5tZXNzYWdlLCB0cmlnZ2VyRGF0YSk7XG5cbiAgICBmb3IgKGNvbnN0IHJlY2lwaWVudCBvZiByZWNpcGllbnRzKSB7XG4gICAgICBhd2FpdCB0aGlzLndoYXRzYXBwUXVldWUuYWRkKCdzZW5kLW1lc3NhZ2UnLCB7XG4gICAgICAgIG9yZ2FuaXphdGlvbklkOiBjb25maWdJZCxcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgIHRvOiByZWNpcGllbnQsXG4gICAgICAgICAgYm9keTogbWVzc2FnZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlIHNlbmQgdGVtcGxhdGUgYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVTZW5kVGVtcGxhdGVBY3Rpb24oXG4gICAgY29uZmlnSWQ6IHN0cmluZyxcbiAgICBhY3Rpb246IGFueSxcbiAgICB0cmlnZ2VyRGF0YTogYW55LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCByZWNpcGllbnRzID0gdGhpcy5yZXNvbHZlUmVjaXBpZW50cyhhY3Rpb24ucmVjaXBpZW50cywgdHJpZ2dlckRhdGEpO1xuICAgIGNvbnN0IHRlbXBsYXRlUGFyYW1zID0gdGhpcy5wcm9jZXNzVGVtcGxhdGVQYXJhbXMoYWN0aW9uLnRlbXBsYXRlUGFyYW1zIHx8IHt9LCB0cmlnZ2VyRGF0YSk7XG5cbiAgICBhd2FpdCB0aGlzLndoYXRzYXBwUXVldWUuYWRkKCdzZW5kLXRlbXBsYXRlJywge1xuICAgICAgb3JnYW5pemF0aW9uSWQ6IGNvbmZpZ0lkLFxuICAgICAgcmVjaXBpZW50cyxcbiAgICAgIHRlbXBsYXRlTmFtZTogYWN0aW9uLnRlbXBsYXRlTmFtZSxcbiAgICAgIHRlbXBsYXRlUGFyYW1zLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4ZWN1dGUgZGVsYXkgYWN0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVEZWxheUFjdGlvbihhY3Rpb246IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlbGF5TXMgPSBhY3Rpb24uZGVsYXkgfHwgMTAwMDtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXlNcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlIGF1dG9tYXRpb24gY29uZGl0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBldmFsdWF0ZUNvbmRpdGlvbnMoY29uZGl0aW9uczogYW55LCB0cmlnZ2VyRGF0YTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCFjb25kaXRpb25zIHx8ICFjb25kaXRpb25zLnJ1bGVzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gTm8gY29uZGl0aW9ucyBtZWFucyBhbHdheXMgZXhlY3V0ZVxuICAgIH1cblxuICAgIGNvbnN0IHsgcnVsZXMsIG9wZXJhdG9yID0gJ0FORCcgfSA9IGNvbmRpdGlvbnM7XG5cbiAgICBjb25zdCByZXN1bHRzID0gcnVsZXMubWFwKChydWxlOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgZmllbGQsIG9wZXJhdG9yOiBydWxlT3AsIHZhbHVlIH0gPSBydWxlO1xuICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IHRoaXMuZ2V0TmVzdGVkVmFsdWUodHJpZ2dlckRhdGEsIGZpZWxkKTtcblxuICAgICAgc3dpdGNoIChydWxlT3ApIHtcbiAgICAgICAgY2FzZSAnZXF1YWxzJzpcbiAgICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA9PT0gdmFsdWU7XG4gICAgICAgIGNhc2UgJ25vdF9lcXVhbHMnOlxuICAgICAgICAgIHJldHVybiBmaWVsZFZhbHVlICE9PSB2YWx1ZTtcbiAgICAgICAgY2FzZSAnZ3JlYXRlcl90aGFuJzpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyKGZpZWxkVmFsdWUpID4gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgY2FzZSAnbGVzc190aGFuJzpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyKGZpZWxkVmFsdWUpIDwgTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgY2FzZSAnZ3JlYXRlcl9lcXVhbCc6XG4gICAgICAgICAgcmV0dXJuIE51bWJlcihmaWVsZFZhbHVlKSA+PSBOdW1iZXIodmFsdWUpO1xuICAgICAgICBjYXNlICdsZXNzX2VxdWFsJzpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyKGZpZWxkVmFsdWUpIDw9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGNhc2UgJ2NvbnRhaW5zJzpcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKGZpZWxkVmFsdWUpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgY2FzZSAnbm90X2NvbnRhaW5zJzpcbiAgICAgICAgICByZXR1cm4gIVN0cmluZyhmaWVsZFZhbHVlKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGNhc2UgJ2V4aXN0cyc6XG4gICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBmaWVsZFZhbHVlICE9PSBudWxsO1xuICAgICAgICBjYXNlICdub3RfZXhpc3RzJzpcbiAgICAgICAgICByZXR1cm4gZmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IGZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9wZXJhdG9yID09PSAnQU5EJyA/IHJlc3VsdHMuZXZlcnkociA9PiByKSA6IHJlc3VsdHMuc29tZShyID0+IHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc29sdmUgcmVjaXBpZW50cyBmcm9tIGFjdGlvbiBjb25maWd1cmF0aW9uXG4gICAqL1xuICBwcml2YXRlIHJlc29sdmVSZWNpcGllbnRzKHJlY2lwaWVudENvbmZpZzogYW55LCB0cmlnZ2VyRGF0YTogYW55KTogc3RyaW5nW10ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlY2lwaWVudENvbmZpZykpIHtcbiAgICAgIHJldHVybiByZWNpcGllbnRDb25maWc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWNpcGllbnRDb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBDaGVjayBpZiBpdCdzIGEgZmllbGQgcmVmZXJlbmNlXG4gICAgICBpZiAocmVjaXBpZW50Q29uZmlnLnN0YXJ0c1dpdGgoJ3t7JykgJiYgcmVjaXBpZW50Q29uZmlnLmVuZHNXaXRoKCd9fScpKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkID0gcmVjaXBpZW50Q29uZmlnLnNsaWNlKDIsIC0yKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldE5lc3RlZFZhbHVlKHRyaWdnZXJEYXRhLCBmaWVsZCk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gW3JlY2lwaWVudENvbmZpZ107XG4gICAgfVxuXG4gICAgaWYgKHJlY2lwaWVudENvbmZpZy50eXBlID09PSAnZmllbGQnKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0TmVzdGVkVmFsdWUodHJpZ2dlckRhdGEsIHJlY2lwaWVudENvbmZpZy5maWVsZCk7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIH1cblxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIG1lc3NhZ2UgdGVtcGxhdGUgd2l0aCB0cmlnZ2VyIGRhdGFcbiAgICovXG4gIHByaXZhdGUgcHJvY2Vzc01lc3NhZ2VUZW1wbGF0ZSh0ZW1wbGF0ZTogc3RyaW5nLCB0cmlnZ2VyRGF0YTogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZVNlcnZpY2UucHJvY2Vzc1RlbXBsYXRlKHRlbXBsYXRlLCB0cmlnZ2VyRGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB0ZW1wbGF0ZSBwYXJhbWV0ZXJzIHdpdGggdHJpZ2dlciBkYXRhXG4gICAqL1xuICBwcml2YXRlIHByb2Nlc3NUZW1wbGF0ZVBhcmFtcyhcbiAgICB0ZW1wbGF0ZVBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICB0cmlnZ2VyRGF0YTogYW55LFxuICApOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBjb25zdCBwcm9jZXNzZWQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICAgIE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlUGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3t7JykgJiYgdmFsdWUuZW5kc1dpdGgoJ319JykpIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSB2YWx1ZS5zbGljZSgyLCAtMik7XG4gICAgICAgIHByb2Nlc3NlZFtrZXldID0gdGhpcy5nZXROZXN0ZWRWYWx1ZSh0cmlnZ2VyRGF0YSwgZmllbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc2VkW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwcm9jZXNzZWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG5lc3RlZCB2YWx1ZSBmcm9tIG9iamVjdCB1c2luZyBkb3Qgbm90YXRpb25cbiAgICovXG4gIHByaXZhdGUgZ2V0TmVzdGVkVmFsdWUob2JqOiBhbnksIHBhdGg6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHBhdGguc3BsaXQoJy4nKS5yZWR1Y2UoKGN1cnJlbnQsIGtleSkgPT4ge1xuICAgICAgcmV0dXJuIGN1cnJlbnQgJiYgY3VycmVudFtrZXldICE9PSB1bmRlZmluZWQgPyBjdXJyZW50W2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfSwgb2JqKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEYWlseSByZXBvcnQgYXV0b21hdGlvbiAocnVucyBhdCA5IEFNKVxuICAgKi9cbiAgYXN5bmMgaGFuZGxlRGFpbHlSZXBvcnRzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nZ2VyLmxvZygnU3RhcnRpbmcgZGFpbHkgV2hhdHNBcHAgcmVwb3J0cycpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgYWN0aXZlIFdoYXRzQXBwIGNvbmZpZ3NcbiAgICAgIGNvbnN0IGNvbmZpZ3MgPSBhd2FpdCB0aGlzLnByaXNtYS53aGF0c0FwcENvbmZpZy5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGlzQWN0aXZlOiB0cnVlIH0sXG4gICAgICAgIGluY2x1ZGU6IHsgdXNlcjogdHJ1ZSB9LFxuICAgICAgfSk7XG5cbiAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGhhcyBkYWlseSByZXBvcnQgYXV0b21hdGlvbiBlbmFibGVkXG4gICAgICAgICAgY29uc3QgYXV0b21hdGlvbiA9IGF3YWl0IHRoaXMucHJpc21hLndoYXRzQXBwQXV0b21hdGlvbi5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgY29uZmlnSWQ6IGNvbmZpZy5pZCxcbiAgICAgICAgICAgICAgdHJpZ2dlclR5cGU6ICdEQUlMWV9SRVBPUlQnLFxuICAgICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoYXV0b21hdGlvbikge1xuICAgICAgICAgICAgLy8gR2V0IHllc3RlcmRheSdzIG1ldHJpY3NcbiAgICAgICAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSk7XG4gICAgICAgICAgICB5ZXN0ZXJkYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcG9ydERhdGEgPSBhd2FpdCB0aGlzLmdlbmVyYXRlRGFpbHlSZXBvcnREYXRhKGNvbmZpZy51c2VySWQsIHllc3RlcmRheSk7XG5cbiAgICAgICAgICAgIGF3YWl0IHRoaXMud2hhdHNhcHBRdWV1ZS5hZGQoJ2F1dG9tYXRpb24tdHJpZ2dlcicsIHtcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQ6IGNvbmZpZy51c2VySWQsXG4gICAgICAgICAgICAgIHRyaWdnZXJUeXBlOiAnZGFpbHlfcmVwb3J0JyxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHBob25lTnVtYmVyczogW2NvbmZpZy5waG9uZU51bWJlcl0uZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgICAgIHJlcG9ydERhdGEsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgZGFpbHkgcmVwb3J0IGZvciBjb25maWcgJHtjb25maWcuaWR9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgaW4gZGFpbHkgcmVwb3J0cyBjcm9uIGpvYjonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGRhaWx5IHJlcG9ydCBkYXRhXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGdlbmVyYXRlRGFpbHlSZXBvcnREYXRhKHVzZXJJZDogc3RyaW5nLCBkYXRlOiBEYXRlKTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBUaGlzIHdvdWxkIGludGVncmF0ZSB3aXRoIHlvdXIgZXhpc3RpbmcgbWV0cmljcyBzeXN0ZW1cbiAgICAvLyBGb3Igbm93LCByZXR1cm5pbmcgbW9jayBkYXRhIHN0cnVjdHVyZVxuICAgIHJldHVybiB7XG4gICAgICBzYWxlczogJzEsMjUwLjAwJyxcbiAgICAgIGNvbnZlcnNpb25zOiAxNSxcbiAgICAgIHNwZW50OiAnODUwLjAwJyxcbiAgICAgIHJvaTogJzE0NycsXG4gICAgICBsZWFkczogNDIsXG4gICAgICBkYXRlOiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBkZWZhdWx0IGF1dG9tYXRpb25zIGZvciBuZXcgY29uZmlnXG4gICAqL1xuICBhc3luYyBjcmVhdGVEZWZhdWx0QXV0b21hdGlvbnMoY29uZmlnSWQ6IHN0cmluZyk6IFByb21pc2U8V2hhdHNBcHBBdXRvbWF0aW9uW10+IHtcbiAgICBjb25zdCBkZWZhdWx0QXV0b21hdGlvbnMgPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdOb3RpZmljYcOnw6NvIGRlIENvbnZlcnPDo28nLFxuICAgICAgICB0cmlnZ2VyVHlwZTogJ0NPTlZFUlNJT04nLFxuICAgICAgICBjb25kaXRpb25zOiB7XG4gICAgICAgICAgcnVsZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZmllbGQ6ICd2YWx1ZScsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZ3JlYXRlcl90aGFuJyxcbiAgICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgb3BlcmF0b3I6ICdBTkQnLFxuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnc2VuZF90ZW1wbGF0ZScsXG4gICAgICAgICAgICAgIHRlbXBsYXRlTmFtZTogJ2NvbnZlcnNpb25fbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgICAgcmVjaXBpZW50czogJ3t7cGhvbmVOdW1iZXJ9fScsXG4gICAgICAgICAgICAgIHRlbXBsYXRlUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6ICd7e3ZhbHVlfX0nLFxuICAgICAgICAgICAgICAgIGNhbXBhaWduX25hbWU6ICd7e2NhbXBhaWduTmFtZX19JyxcbiAgICAgICAgICAgICAgICBzb3VyY2U6ICd7e3NvdXJjZX19JyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6ICd7e3RpbWVzdGFtcH19JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdBbGVydGEgZGUgT3LDp2FtZW50byAoODAlKScsXG4gICAgICAgIHRyaWdnZXJUeXBlOiAnQlVER0VUX0FMRVJUJyxcbiAgICAgICAgY29uZGl0aW9uczoge1xuICAgICAgICAgIHJ1bGVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpZWxkOiAncGVyY2VudGFnZScsXG4gICAgICAgICAgICAgIG9wZXJhdG9yOiAnZ3JlYXRlcl9lcXVhbCcsXG4gICAgICAgICAgICAgIHZhbHVlOiA4MCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBvcGVyYXRvcjogJ0FORCcsXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6ICdzZW5kX3RlbXBsYXRlJyxcbiAgICAgICAgICAgICAgdGVtcGxhdGVOYW1lOiAnYnVkZ2V0X2FsZXJ0JyxcbiAgICAgICAgICAgICAgcmVjaXBpZW50czogJ3t7cGhvbmVOdW1iZXJ9fScsXG4gICAgICAgICAgICAgIHRlbXBsYXRlUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgY2FtcGFpZ25fbmFtZTogJ3t7Y2FtcGFpZ25OYW1lfX0nLFxuICAgICAgICAgICAgICAgIHNwZW50OiAne3tzcGVudH19JyxcbiAgICAgICAgICAgICAgICBidWRnZXQ6ICd7e2J1ZGdldH19JyxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlOiAne3twZXJjZW50YWdlfX0nLFxuICAgICAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2U6ICd7e2FsZXJ0TWVzc2FnZX19JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdSZWxhdMOzcmlvIERpw6FyaW8nLFxuICAgICAgICB0cmlnZ2VyVHlwZTogJ0RBSUxZX1JFUE9SVCcsXG4gICAgICAgIGNvbmRpdGlvbnM6IHt9LFxuICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAnc2VuZF90ZW1wbGF0ZScsXG4gICAgICAgICAgICAgIHRlbXBsYXRlTmFtZTogJ2RhaWx5X3JlcG9ydCcsXG4gICAgICAgICAgICAgIHJlY2lwaWVudHM6IHsgdHlwZTogJ2ZpZWxkJywgZmllbGQ6ICdwaG9uZU51bWJlcnMnIH0sXG4gICAgICAgICAgICAgIHRlbXBsYXRlUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgZGF0ZTogJ3t7ZGF0ZX19JyxcbiAgICAgICAgICAgICAgICBzYWxlczogJ3t7c2FsZXN9fScsXG4gICAgICAgICAgICAgICAgY29udmVyc2lvbnM6ICd7e2NvbnZlcnNpb25zfX0nLFxuICAgICAgICAgICAgICAgIHNwZW50OiAne3tzcGVudH19JyxcbiAgICAgICAgICAgICAgICByb2k6ICd7e3JvaX19JyxcbiAgICAgICAgICAgICAgICBsZWFkczogJ3t7bGVhZHN9fScsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTWVuc2FnZW0gZGUgQm9hcy12aW5kYXMnLFxuICAgICAgICB0cmlnZ2VyVHlwZTogJ1dFTENPTUUnLFxuICAgICAgICBjb25kaXRpb25zOiB7fSxcbiAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3NlbmRfdGVtcGxhdGUnLFxuICAgICAgICAgICAgICB0ZW1wbGF0ZU5hbWU6ICd3ZWxjb21lX21lc3NhZ2UnLFxuICAgICAgICAgICAgICByZWNpcGllbnRzOiAne3twaG9uZU51bWJlcn19JyxcbiAgICAgICAgICAgICAgdGVtcGxhdGVQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAne3tuYW1lfX0nLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdO1xuXG4gICAgY29uc3QgY3JlYXRlZEF1dG9tYXRpb25zOiBXaGF0c0FwcEF1dG9tYXRpb25bXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBhdXRvbWF0aW9uIG9mIGRlZmF1bHRBdXRvbWF0aW9ucykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IGF3YWl0IHRoaXMuY3JlYXRlQXV0b21hdGlvbihjb25maWdJZCwgYXV0b21hdGlvbik7XG4gICAgICAgIGNyZWF0ZWRBdXRvbWF0aW9ucy5wdXNoKGNyZWF0ZWQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEVycm9yIGNyZWF0aW5nIGRlZmF1bHQgYXV0b21hdGlvbiAke2F1dG9tYXRpb24ubmFtZX06YCwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmxvZyhgQ3JlYXRlZCAke2NyZWF0ZWRBdXRvbWF0aW9ucy5sZW5ndGh9IGRlZmF1bHQgYXV0b21hdGlvbnMgZm9yIGNvbmZpZyAke2NvbmZpZ0lkfWApO1xuICAgIHJldHVybiBjcmVhdGVkQXV0b21hdGlvbnM7XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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