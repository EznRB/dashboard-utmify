{"version":3,"names":["cov_23xrdzgt1i","actualCoverage","BillingController","billingRoutes","fastify","f","billingController","s","post","config","rawBody","handler","handleWebhook","bind","get","getPlans","register","addHook","request","reply","jwtVerify","err","send","schema","description","tags","body","type","required","properties","planId","successUrl","format","cancelUrl","couponCode","response","success","data","sessionId","url","createCheckout","id","status","currentPeriodStart","currentPeriodEnd","cancelAtPeriodEnd","plan","name","price","usage","integrations","users","apiCalls","getSubscription","default","canceledAt","cancelSubscription","upgradeSubscription","items","number","total","currency","paidAt","hostedInvoiceUrl","invoicePdf","getInvoices","paymentMethodId","updatePaymentMethod","exceeded","limits","getUsage","metricName","enum","quantity","minimum","message","recordUsage","returnUrl","createPortalSession","organizationId","restoreSubscription","deletedAt","organization","getDeletedSubscriptions","delete","permanentlyDeleteSubscription"],"sources":["C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\routes\\billing.routes.ts"],"sourcesContent":["import { FastifyInstance } from 'fastify';\nimport { BillingController } from '../controllers/billing.controller';\n\nexport async function billingRoutes(fastify: FastifyInstance) {\n  const billingController = new BillingController();\n\n  // Public routes (no authentication required)\n  fastify.post('/webhook', {\n    config: {\n      rawBody: true, // Need raw body for Stripe webhook verification\n    },\n    handler: billingController.handleWebhook.bind(billingController),\n  });\n\n  fastify.get('/plans', {\n    handler: billingController.getPlans.bind(billingController),\n  });\n\n  // Protected routes (authentication required)\n  fastify.register(async function (fastify) {\n    // Add authentication hook\n    fastify.addHook('preHandler', async (request, reply) => {\n      try {\n        await request.jwtVerify();\n      } catch (err) {\n        reply.send(err);\n      }\n    });\n\n    // Billing management routes\n    fastify.post('/create-checkout', {\n      schema: {\n        description: 'Create Stripe checkout session',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          required: ['planId', 'successUrl', 'cancelUrl'],\n          properties: {\n            planId: { type: 'string' },\n            successUrl: { type: 'string', format: 'uri' },\n            cancelUrl: { type: 'string', format: 'uri' },\n            couponCode: { type: 'string' },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  sessionId: { type: 'string' },\n                  url: { type: 'string' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.createCheckout.bind(billingController),\n    });\n\n    fastify.get('/subscription', {\n      schema: {\n        description: 'Get current subscription details',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  id: { type: 'string' },\n                  status: { type: 'string' },\n                  currentPeriodStart: { type: 'string', format: 'date-time' },\n                  currentPeriodEnd: { type: 'string', format: 'date-time' },\n                  cancelAtPeriodEnd: { type: 'boolean' },\n                  plan: {\n                    type: 'object',\n                    properties: {\n                      name: { type: 'string' },\n                      type: { type: 'string' },\n                      price: { type: 'number' },\n                    },\n                  },\n                  usage: {\n                    type: 'object',\n                    properties: {\n                      integrations: { type: 'number' },\n                      users: { type: 'number' },\n                      apiCalls: { type: 'number' },\n                    },\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.getSubscription.bind(billingController),\n    });\n\n    fastify.post('/cancel', {\n      schema: {\n        description: 'Cancel subscription',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          properties: {\n            cancelAtPeriodEnd: { type: 'boolean', default: true },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  id: { type: 'string' },\n                  status: { type: 'string' },\n                  cancelAtPeriodEnd: { type: 'boolean' },\n                  canceledAt: { type: 'string', format: 'date-time' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.cancelSubscription.bind(billingController),\n    });\n\n    fastify.post('/upgrade', {\n      schema: {\n        description: 'Upgrade/downgrade subscription',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          required: ['planId'],\n          properties: {\n            planId: { type: 'string' },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  id: { type: 'string' },\n                  planId: { type: 'string' },\n                  status: { type: 'string' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.upgradeSubscription.bind(billingController),\n    });\n\n    fastify.get('/invoices', {\n      schema: {\n        description: 'Get billing invoices',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'array',\n                items: {\n                  type: 'object',\n                  properties: {\n                    id: { type: 'string' },\n                    number: { type: 'string' },\n                    status: { type: 'string' },\n                    total: { type: 'number' },\n                    currency: { type: 'string' },\n                    paidAt: { type: 'string', format: 'date-time' },\n                    hostedInvoiceUrl: { type: 'string' },\n                    invoicePdf: { type: 'string' },\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.getInvoices.bind(billingController),\n    });\n\n    fastify.post('/payment-method', {\n      schema: {\n        description: 'Update payment method',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          required: ['paymentMethodId'],\n          properties: {\n            paymentMethodId: { type: 'string' },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.updatePaymentMethod.bind(billingController),\n    });\n\n    fastify.get('/usage', {\n      schema: {\n        description: 'Get usage statistics and limits',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  exceeded: { type: 'boolean' },\n                  limits: {\n                    type: 'object',\n                    properties: {\n                      integrations: { type: 'number' },\n                      users: { type: 'number' },\n                      apiCalls: { type: 'number' },\n                    },\n                  },\n                  usage: {\n                    type: 'object',\n                    properties: {\n                      integrations: { type: 'number' },\n                      users: { type: 'number' },\n                      apiCalls: { type: 'number' },\n                    },\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.getUsage.bind(billingController),\n    });\n\n    fastify.post('/usage', {\n      schema: {\n        description: 'Record usage for metered billing',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          required: ['metricName', 'quantity'],\n          properties: {\n            metricName: {\n              type: 'string',\n              enum: ['integrations', 'users', 'api_calls'],\n            },\n            quantity: { type: 'number', minimum: 1 },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n            },\n          },\n        },\n      },\n      handler: billingController.recordUsage.bind(billingController),\n    });\n\n    fastify.post('/portal', {\n      schema: {\n        description: 'Create Stripe customer portal session',\n        tags: ['billing'],\n        body: {\n          type: 'object',\n          required: ['returnUrl'],\n          properties: {\n            returnUrl: { type: 'string', format: 'uri' },\n          },\n        },\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  url: { type: 'string' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.createPortalSession.bind(billingController),\n    });\n\n    // Soft delete management routes\n    fastify.post('/subscription/restore', {\n      schema: {\n        description: 'Restore a soft-deleted subscription',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'object',\n                properties: {\n                  id: { type: 'string' },\n                  status: { type: 'string' },\n                  organizationId: { type: 'string' },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.restoreSubscription.bind(billingController),\n    });\n\n    fastify.get('/subscriptions/deleted', {\n      schema: {\n        description: 'Get soft-deleted subscriptions',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              data: {\n                type: 'array',\n                items: {\n                  type: 'object',\n                  properties: {\n                    id: { type: 'string' },\n                    status: { type: 'string' },\n                    organizationId: { type: 'string' },\n                    deletedAt: { type: 'string', format: 'date-time' },\n                    plan: { type: 'object' },\n                    organization: { type: 'object' },\n                  },\n                },\n              },\n            },\n          },\n        },\n      },\n      handler: billingController.getDeletedSubscriptions.bind(billingController),\n    });\n\n    fastify.delete('/subscription/permanent', {\n      schema: {\n        description: 'Permanently delete a soft-deleted subscription (Owner only)',\n        tags: ['billing'],\n        response: {\n          200: {\n            type: 'object',\n            properties: {\n              success: { type: 'boolean' },\n              message: { type: 'string' },\n            },\n          },\n        },\n      },\n      handler: billingController.permanentlyDeleteSubscription.bind(billingController),\n    });\n  });\n}"],"mappings":"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","ignoreList":[]}