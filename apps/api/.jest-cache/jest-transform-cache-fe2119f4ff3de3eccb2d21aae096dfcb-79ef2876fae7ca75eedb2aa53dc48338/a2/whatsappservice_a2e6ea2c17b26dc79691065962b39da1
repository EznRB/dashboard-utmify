719bd416cf4c46f3812c8511c88feab0
/* istanbul ignore next */
function cov_2h48fpenaj() {
  var path = "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp.service.ts";
  var hash = "7e1d61f9b51b27df2ebb36ea6e033c9a10174cc7";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 1,
          column: 17
        },
        end: {
          line: 6,
          column: 1
        }
      },
      "1": {
        start: {
          line: 2,
          column: 12
        },
        end: {
          line: 2,
          column: 28
        }
      },
      "2": {
        start: {
          line: 2,
          column: 34
        },
        end: {
          line: 2,
          column: 125
        }
      },
      "3": {
        start: {
          line: 3,
          column: 4
        },
        end: {
          line: 4,
          column: 150
        }
      },
      "4": {
        start: {
          line: 3,
          column: 79
        },
        end: {
          line: 3,
          column: 131
        }
      },
      "5": {
        start: {
          line: 4,
          column: 9
        },
        end: {
          line: 4,
          column: 150
        }
      },
      "6": {
        start: {
          line: 4,
          column: 22
        },
        end: {
          line: 4,
          column: 43
        }
      },
      "7": {
        start: {
          line: 4,
          column: 58
        },
        end: {
          line: 4,
          column: 150
        }
      },
      "8": {
        start: {
          line: 4,
          column: 81
        },
        end: {
          line: 4,
          column: 150
        }
      },
      "9": {
        start: {
          line: 5,
          column: 4
        },
        end: {
          line: 5,
          column: 66
        }
      },
      "10": {
        start: {
          line: 7,
          column: 17
        },
        end: {
          line: 9,
          column: 1
        }
      },
      "11": {
        start: {
          line: 8,
          column: 4
        },
        end: {
          line: 8,
          column: 109
        }
      },
      "12": {
        start: {
          line: 8,
          column: 79
        },
        end: {
          line: 8,
          column: 109
        }
      },
      "13": {
        start: {
          line: 10,
          column: 14
        },
        end: {
          line: 12,
          column: 1
        }
      },
      "14": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 73
        }
      },
      "15": {
        start: {
          line: 11,
          column: 36
        },
        end: {
          line: 11,
          column: 71
        }
      },
      "16": {
        start: {
          line: 22,
          column: 22
        },
        end: {
          line: 506,
          column: 1
        }
      },
      "17": {
        start: {
          line: 27,
          column: 13
        },
        end: {
          line: 27,
          column: 47
        }
      },
      "18": {
        start: {
          line: 29,
          column: 17
        },
        end: {
          line: 29,
          column: 21
        }
      },
      "19": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 43
        }
      },
      "20": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 32,
          column: 29
        }
      },
      "21": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 43
        }
      },
      "22": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 34,
          column: 43
        }
      },
      "23": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 35,
          column: 32
        }
      },
      "24": {
        start: {
          line: 38,
          column: 27
        },
        end: {
          line: 38,
          column: 71
        }
      },
      "25": {
        start: {
          line: 39,
          column: 26
        },
        end: {
          line: 39,
          column: 69
        }
      },
      "26": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "27": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 66
        }
      },
      "28": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 19
        }
      },
      "29": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 62
        }
      },
      "30": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 62
        }
      },
      "31": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 74,
          column: 9
        }
      },
      "32": {
        start: {
          line: 53,
          column: 28
        },
        end: {
          line: 53,
          column: 70
        }
      },
      "33": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 56,
          column: 13
        }
      },
      "34": {
        start: {
          line: 55,
          column: 16
        },
        end: {
          line: 55,
          column: 94
        }
      },
      "35": {
        start: {
          line: 58,
          column: 24
        },
        end: {
          line: 67,
          column: 14
        }
      },
      "36": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 68,
          column: 69
        }
      },
      "37": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 69,
          column: 67
        }
      },
      "38": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 72,
          column: 72
        }
      },
      "39": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 73,
          column: 60
        }
      },
      "40": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 135,
          column: 9
        }
      },
      "41": {
        start: {
          line: 81,
          column: 12
        },
        end: {
          line: 83,
          column: 13
        }
      },
      "42": {
        start: {
          line: 82,
          column: 16
        },
        end: {
          line: 82,
          column: 65
        }
      },
      "43": {
        start: {
          line: 84,
          column: 31
        },
        end: {
          line: 84,
          column: 79
        }
      },
      "44": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 87,
          column: 13
        }
      },
      "45": {
        start: {
          line: 86,
          column: 16
        },
        end: {
          line: 86,
          column: 73
        }
      },
      "46": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 111,
          column: 13
        }
      },
      "47": {
        start: {
          line: 91,
          column: 16
        },
        end: {
          line: 96,
          column: 19
        }
      },
      "48": {
        start: {
          line: 100,
          column: 36
        },
        end: {
          line: 103,
          column: 17
        }
      },
      "49": {
        start: {
          line: 104,
          column: 16
        },
        end: {
          line: 106,
          column: 17
        }
      },
      "50": {
        start: {
          line: 105,
          column: 20
        },
        end: {
          line: 105,
          column: 52
        }
      },
      "51": {
        start: {
          line: 107,
          column: 16
        },
        end: {
          line: 109,
          column: 17
        }
      },
      "52": {
        start: {
          line: 108,
          column: 20
        },
        end: {
          line: 108,
          column: 62
        }
      },
      "53": {
        start: {
          line: 110,
          column: 16
        },
        end: {
          line: 110,
          column: 85
        }
      },
      "54": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 120,
          column: 15
        }
      },
      "55": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 88
        }
      },
      "56": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 124,
          column: 75
        }
      },
      "57": {
        start: {
          line: 126,
          column: 12
        },
        end: {
          line: 133,
          column: 15
        }
      },
      "58": {
        start: {
          line: 134,
          column: 12
        },
        end: {
          line: 134,
          column: 24
        }
      },
      "59": {
        start: {
          line: 141,
          column: 23
        },
        end: {
          line: 141,
          column: 25
        }
      },
      "60": {
        start: {
          line: 142,
          column: 21
        },
        end: {
          line: 142,
          column: 22
        }
      },
      "61": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 159,
          column: 9
        }
      },
      "62": {
        start: {
          line: 144,
          column: 12
        },
        end: {
          line: 158,
          column: 13
        }
      },
      "63": {
        start: {
          line: 145,
          column: 31
        },
        end: {
          line: 148,
          column: 18
        }
      },
      "64": {
        start: {
          line: 149,
          column: 16
        },
        end: {
          line: 154,
          column: 17
        }
      },
      "65": {
        start: {
          line: 150,
          column: 20
        },
        end: {
          line: 150,
          column: 29
        }
      },
      "66": {
        start: {
          line: 153,
          column: 20
        },
        end: {
          line: 153,
          column: 65
        }
      },
      "67": {
        start: {
          line: 157,
          column: 16
        },
        end: {
          line: 157,
          column: 62
        }
      },
      "68": {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 164,
          column: 10
        }
      },
      "69": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 186,
          column: 9
        }
      },
      "70": {
        start: {
          line: 172,
          column: 30
        },
        end: {
          line: 175,
          column: 14
        }
      },
      "71": {
        start: {
          line: 176,
          column: 12
        },
        end: {
          line: 181,
          column: 16
        }
      },
      "72": {
        start: {
          line: 176,
          column: 46
        },
        end: {
          line: 181,
          column: 13
        }
      },
      "73": {
        start: {
          line: 184,
          column: 12
        },
        end: {
          line: 184,
          column: 75
        }
      },
      "74": {
        start: {
          line: 185,
          column: 12
        },
        end: {
          line: 185,
          column: 22
        }
      },
      "75": {
        start: {
          line: 192,
          column: 8
        },
        end: {
          line: 208,
          column: 9
        }
      },
      "76": {
        start: {
          line: 193,
          column: 12
        },
        end: {
          line: 201,
          column: 15
        }
      },
      "77": {
        start: {
          line: 202,
          column: 12
        },
        end: {
          line: 202,
          column: 75
        }
      },
      "78": {
        start: {
          line: 203,
          column: 12
        },
        end: {
          line: 203,
          column: 37
        }
      },
      "79": {
        start: {
          line: 206,
          column: 12
        },
        end: {
          line: 206,
          column: 74
        }
      },
      "80": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 207,
          column: 60
        }
      },
      "81": {
        start: {
          line: 214,
          column: 8
        },
        end: {
          line: 246,
          column: 9
        }
      },
      "82": {
        start: {
          line: 215,
          column: 34
        },
        end: {
          line: 223,
          column: 14
        }
      },
      "83": {
        start: {
          line: 225,
          column: 46
        },
        end: {
          line: 240,
          column: 15
        }
      },
      "84": {
        start: {
          line: 226,
          column: 38
        },
        end: {
          line: 232,
          column: 18
        }
      },
      "85": {
        start: {
          line: 233,
          column: 16
        },
        end: {
          line: 239,
          column: 18
        }
      },
      "86": {
        start: {
          line: 241,
          column: 12
        },
        end: {
          line: 241,
          column: 45
        }
      },
      "87": {
        start: {
          line: 244,
          column: 12
        },
        end: {
          line: 244,
          column: 70
        }
      },
      "88": {
        start: {
          line: 245,
          column: 12
        },
        end: {
          line: 245,
          column: 22
        }
      },
      "89": {
        start: {
          line: 252,
          column: 8
        },
        end: {
          line: 267,
          column: 9
        }
      },
      "90": {
        start: {
          line: 253,
          column: 29
        },
        end: {
          line: 261,
          column: 14
        }
      },
      "91": {
        start: {
          line: 262,
          column: 12
        },
        end: {
          line: 262,
          column: 28
        }
      },
      "92": {
        start: {
          line: 265,
          column: 12
        },
        end: {
          line: 265,
          column: 78
        }
      },
      "93": {
        start: {
          line: 266,
          column: 12
        },
        end: {
          line: 266,
          column: 22
        }
      },
      "94": {
        start: {
          line: 273,
          column: 8
        },
        end: {
          line: 302,
          column: 9
        }
      },
      "95": {
        start: {
          line: 274,
          column: 62
        },
        end: {
          line: 274,
          column: 73
        }
      },
      "96": {
        start: {
          line: 275,
          column: 12
        },
        end: {
          line: 278,
          column: 13
        }
      },
      "97": {
        start: {
          line: 276,
          column: 16
        },
        end: {
          line: 276,
          column: 66
        }
      },
      "98": {
        start: {
          line: 277,
          column: 16
        },
        end: {
          line: 277,
          column: 23
        }
      },
      "99": {
        start: {
          line: 280,
          column: 32
        },
        end: {
          line: 280,
          column: 61
        }
      },
      "100": {
        start: {
          line: 281,
          column: 29
        },
        end: {
          line: 281,
          column: 57
        }
      },
      "101": {
        start: {
          line: 283,
          column: 33
        },
        end: {
          line: 283,
          column: 86
        }
      },
      "102": {
        start: {
          line: 284,
          column: 12
        },
        end: {
          line: 287,
          column: 13
        }
      },
      "103": {
        start: {
          line: 285,
          column: 16
        },
        end: {
          line: 285,
          column: 91
        }
      },
      "104": {
        start: {
          line: 286,
          column: 16
        },
        end: {
          line: 286,
          column: 23
        }
      },
      "105": {
        start: {
          line: 289,
          column: 12
        },
        end: {
          line: 295,
          column: 15
        }
      },
      "106": {
        start: {
          line: 297,
          column: 12
        },
        end: {
          line: 297,
          column: 84
        }
      },
      "107": {
        start: {
          line: 298,
          column: 12
        },
        end: {
          line: 298,
          column: 76
        }
      },
      "108": {
        start: {
          line: 301,
          column: 12
        },
        end: {
          line: 301,
          column: 75
        }
      },
      "109": {
        start: {
          line: 308,
          column: 8
        },
        end: {
          line: 369,
          column: 9
        }
      },
      "110": {
        start: {
          line: 309,
          column: 26
        },
        end: {
          line: 309,
          column: 36
        }
      },
      "111": {
        start: {
          line: 310,
          column: 12
        },
        end: {
          line: 310,
          column: 39
        }
      },
      "112": {
        start: {
          line: 311,
          column: 29
        },
        end: {
          line: 311,
          column: 44
        }
      },
      "113": {
        start: {
          line: 312,
          column: 12
        },
        end: {
          line: 312,
          column: 53
        }
      },
      "114": {
        start: {
          line: 313,
          column: 75
        },
        end: {
          line: 349,
          column: 14
        }
      },
      "115": {
        start: {
          line: 350,
          column: 12
        },
        end: {
          line: 357,
          column: 14
        }
      },
      "116": {
        start: {
          line: 360,
          column: 12
        },
        end: {
          line: 360,
          column: 73
        }
      },
      "117": {
        start: {
          line: 361,
          column: 12
        },
        end: {
          line: 368,
          column: 14
        }
      },
      "118": {
        start: {
          line: 375,
          column: 22
        },
        end: {
          line: 375,
          column: 32
        }
      },
      "119": {
        start: {
          line: 376,
          column: 8
        },
        end: {
          line: 376,
          column: 35
        }
      },
      "120": {
        start: {
          line: 377,
          column: 25
        },
        end: {
          line: 377,
          column: 40
        }
      },
      "121": {
        start: {
          line: 378,
          column: 8
        },
        end: {
          line: 378,
          column: 49
        }
      },
      "122": {
        start: {
          line: 379,
          column: 26
        },
        end: {
          line: 389,
          column: 10
        }
      },
      "123": {
        start: {
          line: 390,
          column: 8
        },
        end: {
          line: 390,
          column: 43
        }
      },
      "124": {
        start: {
          line: 396,
          column: 8
        },
        end: {
          line: 412,
          column: 9
        }
      },
      "125": {
        start: {
          line: 397,
          column: 12
        },
        end: {
          line: 408,
          column: 15
        }
      },
      "126": {
        start: {
          line: 411,
          column: 12
        },
        end: {
          line: 411,
          column: 72
        }
      },
      "127": {
        start: {
          line: 418,
          column: 8
        },
        end: {
          line: 438,
          column: 9
        }
      },
      "128": {
        start: {
          line: 419,
          column: 32
        },
        end: {
          line: 432,
          column: 14
        }
      },
      "129": {
        start: {
          line: 433,
          column: 12
        },
        end: {
          line: 433,
          column: 53
        }
      },
      "130": {
        start: {
          line: 436,
          column: 12
        },
        end: {
          line: 436,
          column: 87
        }
      },
      "131": {
        start: {
          line: 437,
          column: 12
        },
        end: {
          line: 437,
          column: 24
        }
      },
      "132": {
        start: {
          line: 444,
          column: 8
        },
        end: {
          line: 455,
          column: 9
        }
      },
      "133": {
        start: {
          line: 445,
          column: 25
        },
        end: {
          line: 445,
          column: 58
        }
      },
      "134": {
        start: {
          line: 446,
          column: 12
        },
        end: {
          line: 451,
          column: 13
        }
      },
      "135": {
        start: {
          line: 447,
          column: 16
        },
        end: {
          line: 447,
          column: 72
        }
      },
      "136": {
        start: {
          line: 449,
          column: 17
        },
        end: {
          line: 451,
          column: 13
        }
      },
      "137": {
        start: {
          line: 450,
          column: 16
        },
        end: {
          line: 450,
          column: 72
        }
      },
      "138": {
        start: {
          line: 454,
          column: 12
        },
        end: {
          line: 454,
          column: 77
        }
      },
      "139": {
        start: {
          line: 461,
          column: 8
        },
        end: {
          line: 483,
          column: 9
        }
      },
      "140": {
        start: {
          line: 463,
          column: 30
        },
        end: {
          line: 463,
          column: 40
        }
      },
      "141": {
        start: {
          line: 464,
          column: 12
        },
        end: {
          line: 464,
          column: 55
        }
      },
      "142": {
        start: {
          line: 465,
          column: 12
        },
        end: {
          line: 465,
          column: 43
        }
      },
      "143": {
        start: {
          line: 466,
          column: 26
        },
        end: {
          line: 466,
          column: 45
        }
      },
      "144": {
        start: {
          line: 467,
          column: 12
        },
        end: {
          line: 467,
          column: 47
        }
      },
      "145": {
        start: {
          line: 469,
          column: 34
        },
        end: {
          line: 475,
          column: 49
        }
      },
      "146": {
        start: {
          line: 476,
          column: 12
        },
        end: {
          line: 479,
          column: 15
        }
      },
      "147": {
        start: {
          line: 482,
          column: 12
        },
        end: {
          line: 482,
          column: 68
        }
      },
      "148": {
        start: {
          line: 489,
          column: 8
        },
        end: {
          line: 504,
          column: 9
        }
      },
      "149": {
        start: {
          line: 490,
          column: 32
        },
        end: {
          line: 496,
          column: 45
        }
      },
      "150": {
        start: {
          line: 497,
          column: 12
        },
        end: {
          line: 500,
          column: 15
        }
      },
      "151": {
        start: {
          line: 503,
          column: 12
        },
        end: {
          line: 503,
          column: 68
        }
      },
      "152": {
        start: {
          line: 507,
          column: 0
        },
        end: {
          line: 511,
          column: 20
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 1,
            column: 46
          },
          end: {
            line: 1,
            column: 47
          }
        },
        loc: {
          start: {
            line: 1,
            column: 87
          },
          end: {
            line: 6,
            column: 1
          }
        },
        line: 1
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 7,
            column: 46
          },
          end: {
            line: 7,
            column: 47
          }
        },
        loc: {
          start: {
            line: 7,
            column: 62
          },
          end: {
            line: 9,
            column: 1
          }
        },
        line: 7
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 10,
            column: 40
          },
          end: {
            line: 10,
            column: 41
          }
        },
        loc: {
          start: {
            line: 10,
            column: 73
          },
          end: {
            line: 12,
            column: 1
          }
        },
        line: 10
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 11,
            column: 11
          },
          end: {
            line: 11,
            column: 12
          }
        },
        loc: {
          start: {
            line: 11,
            column: 34
          },
          end: {
            line: 11,
            column: 73
          }
        },
        line: 11
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 69
          },
          end: {
            line: 36,
            column: 5
          }
        },
        line: 30
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 37,
            column: 5
          }
        },
        loc: {
          start: {
            line: 37,
            column: 23
          },
          end: {
            line: 46,
            column: 5
          }
        },
        line: 37
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 50,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        loc: {
          start: {
            line: 50,
            column: 47
          },
          end: {
            line: 75,
            column: 5
          }
        },
        line: 50
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 79,
            column: 4
          },
          end: {
            line: 79,
            column: 5
          }
        },
        loc: {
          start: {
            line: 79,
            column: 50
          },
          end: {
            line: 136,
            column: 5
          }
        },
        line: 79
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 140,
            column: 4
          },
          end: {
            line: 140,
            column: 5
          }
        },
        loc: {
          start: {
            line: 140,
            column: 61
          },
          end: {
            line: 165,
            column: 5
          }
        },
        line: 140
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 169,
            column: 4
          },
          end: {
            line: 169,
            column: 5
          }
        },
        loc: {
          start: {
            line: 169,
            column: 39
          },
          end: {
            line: 187,
            column: 5
          }
        },
        line: 169
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 176,
            column: 33
          },
          end: {
            line: 176,
            column: 34
          }
        },
        loc: {
          start: {
            line: 176,
            column: 46
          },
          end: {
            line: 181,
            column: 13
          }
        },
        line: 176
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 191,
            column: 4
          },
          end: {
            line: 191,
            column: 5
          }
        },
        loc: {
          start: {
            line: 191,
            column: 51
          },
          end: {
            line: 209,
            column: 5
          }
        },
        line: 191
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 213,
            column: 4
          },
          end: {
            line: 213,
            column: 5
          }
        },
        loc: {
          start: {
            line: 213,
            column: 67
          },
          end: {
            line: 247,
            column: 5
          }
        },
        line: 213
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 225,
            column: 82
          },
          end: {
            line: 225,
            column: 83
          }
        },
        loc: {
          start: {
            line: 225,
            column: 98
          },
          end: {
            line: 240,
            column: 13
          }
        },
        line: 225
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 251,
            column: 4
          },
          end: {
            line: 251,
            column: 5
          }
        },
        loc: {
          start: {
            line: 251,
            column: 87
          },
          end: {
            line: 268,
            column: 5
          }
        },
        line: 251
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 272,
            column: 4
          },
          end: {
            line: 272,
            column: 5
          }
        },
        loc: {
          start: {
            line: 272,
            column: 37
          },
          end: {
            line: 303,
            column: 5
          }
        },
        line: 272
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 307,
            column: 4
          },
          end: {
            line: 307,
            column: 5
          }
        },
        loc: {
          start: {
            line: 307,
            column: 37
          },
          end: {
            line: 370,
            column: 5
          }
        },
        line: 307
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 374,
            column: 4
          },
          end: {
            line: 374,
            column: 5
          }
        },
        loc: {
          start: {
            line: 374,
            column: 42
          },
          end: {
            line: 391,
            column: 5
          }
        },
        line: 374
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 395,
            column: 4
          },
          end: {
            line: 395,
            column: 5
          }
        },
        loc: {
          start: {
            line: 395,
            column: 50
          },
          end: {
            line: 413,
            column: 5
          }
        },
        line: 395
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 417,
            column: 4
          },
          end: {
            line: 417,
            column: 5
          }
        },
        loc: {
          start: {
            line: 417,
            column: 56
          },
          end: {
            line: 439,
            column: 5
          }
        },
        line: 417
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 443,
            column: 4
          },
          end: {
            line: 443,
            column: 5
          }
        },
        loc: {
          start: {
            line: 443,
            column: 77
          },
          end: {
            line: 456,
            column: 5
          }
        },
        line: 443
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 460,
            column: 4
          },
          end: {
            line: 460,
            column: 5
          }
        },
        loc: {
          start: {
            line: 460,
            column: 55
          },
          end: {
            line: 484,
            column: 5
          }
        },
        line: 460
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 488,
            column: 4
          },
          end: {
            line: 488,
            column: 5
          }
        },
        loc: {
          start: {
            line: 488,
            column: 55
          },
          end: {
            line: 505,
            column: 5
          }
        },
        line: 488
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 1,
            column: 17
          },
          end: {
            line: 6,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 1,
            column: 18
          },
          end: {
            line: 1,
            column: 22
          }
        }, {
          start: {
            line: 1,
            column: 26
          },
          end: {
            line: 1,
            column: 41
          }
        }, {
          start: {
            line: 1,
            column: 46
          },
          end: {
            line: 6,
            column: 1
          }
        }],
        line: 1
      },
      "1": {
        loc: {
          start: {
            line: 2,
            column: 34
          },
          end: {
            line: 2,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 2,
            column: 42
          },
          end: {
            line: 2,
            column: 48
          }
        }, {
          start: {
            line: 2,
            column: 51
          },
          end: {
            line: 2,
            column: 125
          }
        }],
        line: 2
      },
      "2": {
        loc: {
          start: {
            line: 2,
            column: 51
          },
          end: {
            line: 2,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 2,
            column: 67
          },
          end: {
            line: 2,
            column: 118
          }
        }, {
          start: {
            line: 2,
            column: 121
          },
          end: {
            line: 2,
            column: 125
          }
        }],
        line: 2
      },
      "3": {
        loc: {
          start: {
            line: 3,
            column: 4
          },
          end: {
            line: 4,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 3,
            column: 4
          },
          end: {
            line: 4,
            column: 150
          }
        }, {
          start: {
            line: 4,
            column: 9
          },
          end: {
            line: 4,
            column: 150
          }
        }],
        line: 3
      },
      "4": {
        loc: {
          start: {
            line: 3,
            column: 8
          },
          end: {
            line: 3,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 3,
            column: 8
          },
          end: {
            line: 3,
            column: 35
          }
        }, {
          start: {
            line: 3,
            column: 39
          },
          end: {
            line: 3,
            column: 77
          }
        }],
        line: 3
      },
      "5": {
        loc: {
          start: {
            line: 4,
            column: 58
          },
          end: {
            line: 4,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 4,
            column: 58
          },
          end: {
            line: 4,
            column: 150
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 4
      },
      "6": {
        loc: {
          start: {
            line: 4,
            column: 85
          },
          end: {
            line: 4,
            column: 149
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 4,
            column: 86
          },
          end: {
            line: 4,
            column: 143
          }
        }, {
          start: {
            line: 4,
            column: 148
          },
          end: {
            line: 4,
            column: 149
          }
        }],
        line: 4
      },
      "7": {
        loc: {
          start: {
            line: 4,
            column: 86
          },
          end: {
            line: 4,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 4,
            column: 94
          },
          end: {
            line: 4,
            column: 98
          }
        }, {
          start: {
            line: 4,
            column: 101
          },
          end: {
            line: 4,
            column: 143
          }
        }],
        line: 4
      },
      "8": {
        loc: {
          start: {
            line: 4,
            column: 101
          },
          end: {
            line: 4,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 4,
            column: 109
          },
          end: {
            line: 4,
            column: 126
          }
        }, {
          start: {
            line: 4,
            column: 129
          },
          end: {
            line: 4,
            column: 143
          }
        }],
        line: 4
      },
      "9": {
        loc: {
          start: {
            line: 5,
            column: 11
          },
          end: {
            line: 5,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 11
          },
          end: {
            line: 5,
            column: 16
          }
        }, {
          start: {
            line: 5,
            column: 20
          },
          end: {
            line: 5,
            column: 21
          }
        }, {
          start: {
            line: 5,
            column: 25
          },
          end: {
            line: 5,
            column: 62
          }
        }],
        line: 5
      },
      "10": {
        loc: {
          start: {
            line: 7,
            column: 17
          },
          end: {
            line: 9,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 7,
            column: 18
          },
          end: {
            line: 7,
            column: 22
          }
        }, {
          start: {
            line: 7,
            column: 26
          },
          end: {
            line: 7,
            column: 41
          }
        }, {
          start: {
            line: 7,
            column: 46
          },
          end: {
            line: 9,
            column: 1
          }
        }],
        line: 7
      },
      "11": {
        loc: {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 8,
            column: 109
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 8,
            column: 109
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 8
      },
      "12": {
        loc: {
          start: {
            line: 8,
            column: 8
          },
          end: {
            line: 8,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 8,
            column: 8
          },
          end: {
            line: 8,
            column: 35
          }
        }, {
          start: {
            line: 8,
            column: 39
          },
          end: {
            line: 8,
            column: 77
          }
        }],
        line: 8
      },
      "13": {
        loc: {
          start: {
            line: 10,
            column: 14
          },
          end: {
            line: 12,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 10,
            column: 15
          },
          end: {
            line: 10,
            column: 19
          }
        }, {
          start: {
            line: 10,
            column: 23
          },
          end: {
            line: 10,
            column: 35
          }
        }, {
          start: {
            line: 10,
            column: 40
          },
          end: {
            line: 12,
            column: 1
          }
        }],
        line: 10
      },
      "14": {
        loc: {
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 40
      },
      "15": {
        loc: {
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 40,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 40,
            column: 12
          },
          end: {
            line: 40,
            column: 23
          }
        }, {
          start: {
            line: 40,
            column: 27
          },
          end: {
            line: 40,
            column: 37
          }
        }],
        line: 40
      },
      "16": {
        loc: {
          start: {
            line: 54,
            column: 12
          },
          end: {
            line: 56,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 12
          },
          end: {
            line: 56,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "17": {
        loc: {
          start: {
            line: 81,
            column: 12
          },
          end: {
            line: 83,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 81,
            column: 12
          },
          end: {
            line: 83,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 81
      },
      "18": {
        loc: {
          start: {
            line: 85,
            column: 12
          },
          end: {
            line: 87,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 12
          },
          end: {
            line: 87,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "19": {
        loc: {
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 111,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 12
          },
          end: {
            line: 111,
            column: 13
          }
        }, {
          start: {
            line: 98,
            column: 17
          },
          end: {
            line: 111,
            column: 13
          }
        }],
        line: 89
      },
      "20": {
        loc: {
          start: {
            line: 95,
            column: 53
          },
          end: {
            line: 95,
            column: 81
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 95,
            column: 53
          },
          end: {
            line: 95,
            column: 75
          }
        }, {
          start: {
            line: 95,
            column: 79
          },
          end: {
            line: 95,
            column: 81
          }
        }],
        line: 95
      },
      "21": {
        loc: {
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 106,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 104,
            column: 16
          },
          end: {
            line: 106,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 104
      },
      "22": {
        loc: {
          start: {
            line: 107,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 16
          },
          end: {
            line: 109,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "23": {
        loc: {
          start: {
            line: 149,
            column: 16
          },
          end: {
            line: 154,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 149,
            column: 16
          },
          end: {
            line: 154,
            column: 17
          }
        }, {
          start: {
            line: 152,
            column: 21
          },
          end: {
            line: 154,
            column: 17
          }
        }],
        line: 149
      },
      "24": {
        loc: {
          start: {
            line: 213,
            column: 43
          },
          end: {
            line: 213,
            column: 53
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 213,
            column: 51
          },
          end: {
            line: 213,
            column: 53
          }
        }],
        line: 213
      },
      "25": {
        loc: {
          start: {
            line: 213,
            column: 55
          },
          end: {
            line: 213,
            column: 65
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 213,
            column: 64
          },
          end: {
            line: 213,
            column: 65
          }
        }],
        line: 213
      },
      "26": {
        loc: {
          start: {
            line: 237,
            column: 33
          },
          end: {
            line: 237,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 237,
            column: 33
          },
          end: {
            line: 237,
            column: 52
          }
        }, {
          start: {
            line: 237,
            column: 56
          },
          end: {
            line: 237,
            column: 83
          }
        }],
        line: 237
      },
      "27": {
        loc: {
          start: {
            line: 251,
            column: 63
          },
          end: {
            line: 251,
            column: 73
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 251,
            column: 71
          },
          end: {
            line: 251,
            column: 73
          }
        }],
        line: 251
      },
      "28": {
        loc: {
          start: {
            line: 251,
            column: 75
          },
          end: {
            line: 251,
            column: 85
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 251,
            column: 84
          },
          end: {
            line: 251,
            column: 85
          }
        }],
        line: 251
      },
      "29": {
        loc: {
          start: {
            line: 275,
            column: 12
          },
          end: {
            line: 278,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 275,
            column: 12
          },
          end: {
            line: 278,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 275
      },
      "30": {
        loc: {
          start: {
            line: 275,
            column: 16
          },
          end: {
            line: 275,
            column: 36
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 275,
            column: 16
          },
          end: {
            line: 275,
            column: 21
          }
        }, {
          start: {
            line: 275,
            column: 25
          },
          end: {
            line: 275,
            column: 36
          }
        }],
        line: 275
      },
      "31": {
        loc: {
          start: {
            line: 284,
            column: 12
          },
          end: {
            line: 287,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 284,
            column: 12
          },
          end: {
            line: 287,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 284
      },
      "32": {
        loc: {
          start: {
            line: 293,
            column: 24
          },
          end: {
            line: 293,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 293,
            column: 24
          },
          end: {
            line: 293,
            column: 33
          }
        }, {
          start: {
            line: 293,
            column: 37
          },
          end: {
            line: 293,
            column: 47
          }
        }],
        line: 293
      },
      "33": {
        loc: {
          start: {
            line: 401,
            column: 33
          },
          end: {
            line: 401,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 401,
            column: 33
          },
          end: {
            line: 401,
            column: 56
          }
        }, {
          start: {
            line: 401,
            column: 60
          },
          end: {
            line: 401,
            column: 74
          }
        }],
        line: 401
      },
      "34": {
        loc: {
          start: {
            line: 433,
            column: 19
          },
          end: {
            line: 433,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 433,
            column: 19
          },
          end: {
            line: 433,
            column: 44
          }
        }, {
          start: {
            line: 433,
            column: 48
          },
          end: {
            line: 433,
            column: 52
          }
        }],
        line: 433
      },
      "35": {
        loc: {
          start: {
            line: 446,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 446,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        }, {
          start: {
            line: 449,
            column: 17
          },
          end: {
            line: 451,
            column: 13
          }
        }],
        line: 446
      },
      "36": {
        loc: {
          start: {
            line: 446,
            column: 16
          },
          end: {
            line: 446,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 446,
            column: 16
          },
          end: {
            line: 446,
            column: 37
          }
        }, {
          start: {
            line: 446,
            column: 41
          },
          end: {
            line: 446,
            column: 59
          }
        }],
        line: 446
      },
      "37": {
        loc: {
          start: {
            line: 449,
            column: 17
          },
          end: {
            line: 451,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 449,
            column: 17
          },
          end: {
            line: 451,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 449
      },
      "38": {
        loc: {
          start: {
            line: 449,
            column: 21
          },
          end: {
            line: 449,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 449,
            column: 21
          },
          end: {
            line: 449,
            column: 38
          }
        }, {
          start: {
            line: 449,
            column: 42
          },
          end: {
            line: 449,
            column: 58
          }
        }],
        line: 449
      },
      "39": {
        loc: {
          start: {
            line: 510,
            column: 37
          },
          end: {
            line: 510,
            column: 133
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 510,
            column: 122
          },
          end: {
            line: 510,
            column: 124
          }
        }, {
          start: {
            line: 510,
            column: 127
          },
          end: {
            line: 510,
            column: 133
          }
        }],
        line: 510
      },
      "40": {
        loc: {
          start: {
            line: 510,
            column: 50
          },
          end: {
            line: 510,
            column: 103
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 510,
            column: 50
          },
          end: {
            line: 510,
            column: 86
          }
        }, {
          start: {
            line: 510,
            column: 90
          },
          end: {
            line: 510,
            column: 103
          }
        }],
        line: 510
      },
      "41": {
        loc: {
          start: {
            line: 510,
            column: 135
          },
          end: {
            line: 510,
            column: 231
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 510,
            column: 220
          },
          end: {
            line: 510,
            column: 222
          }
        }, {
          start: {
            line: 510,
            column: 225
          },
          end: {
            line: 510,
            column: 231
          }
        }],
        line: 510
      },
      "42": {
        loc: {
          start: {
            line: 510,
            column: 148
          },
          end: {
            line: 510,
            column: 201
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 510,
            column: 148
          },
          end: {
            line: 510,
            column: 184
          }
        }, {
          start: {
            line: 510,
            column: 188
          },
          end: {
            line: 510,
            column: 201
          }
        }],
        line: 510
      },
      "43": {
        loc: {
          start: {
            line: 510,
            column: 233
          },
          end: {
            line: 510,
            column: 329
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 510,
            column: 318
          },
          end: {
            line: 510,
            column: 320
          }
        }, {
          start: {
            line: 510,
            column: 323
          },
          end: {
            line: 510,
            column: 329
          }
        }],
        line: 510
      },
      "44": {
        loc: {
          start: {
            line: 510,
            column: 246
          },
          end: {
            line: 510,
            column: 299
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 510,
            column: 246
          },
          end: {
            line: 510,
            column: 282
          }
        }, {
          start: {
            line: 510,
            column: 286
          },
          end: {
            line: 510,
            column: 299
          }
        }],
        line: 510
      },
      "45": {
        loc: {
          start: {
            line: 510,
            column: 331
          },
          end: {
            line: 510,
            column: 411
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 510,
            column: 400
          },
          end: {
            line: 510,
            column: 402
          }
        }, {
          start: {
            line: 510,
            column: 405
          },
          end: {
            line: 510,
            column: 411
          }
        }],
        line: 510
      },
      "46": {
        loc: {
          start: {
            line: 510,
            column: 344
          },
          end: {
            line: 510,
            column: 381
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 510,
            column: 344
          },
          end: {
            line: 510,
            column: 372
          }
        }, {
          start: {
            line: 510,
            column: 376
          },
          end: {
            line: 510,
            column: 381
          }
        }],
        line: 510
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    b: {
      "0": [0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0, 0],
      "10": [0, 0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0],
      "25": [0],
      "26": [0, 0],
      "27": [0],
      "28": [0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp.service.ts",
      mappings: ";;;;;;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,EAAE,mBAAmB,EAAE,MAAM,gBAAgB,CAAC;AACzE,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAC/C,OAAO,EAAE,aAAa,EAAE,MAAM,4BAA4B,CAAC;AAC3D,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,KAAK,EAAE,MAAM,MAAM,CAAC;AAC7B,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AA+BpC,IAAM,eAAe,uBAArB,MAAM,eAAe;IAMP;IACA;IACA;IACgB;IARlB,MAAM,GAAG,IAAI,MAAM,CAAC,iBAAe,CAAC,IAAI,CAAC,CAAC;IACnD,YAAY,CAAS;IACZ,UAAU,GAAG,IAAI,CAAC;IAEnC,YACmB,aAA4B,EAC5B,MAAqB,EACrB,aAA4B,EACZ,aAAoB;QAHpC,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAe;QACrB,kBAAa,GAAb,aAAa,CAAe;QACZ,kBAAa,GAAb,aAAa,CAAO;QAErD,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAEO,gBAAgB;QACtB,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAS,oBAAoB,CAAC,CAAC;QACxE,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAS,mBAAmB,CAAC,CAAC;QAEtE,IAAI,CAAC,UAAU,IAAI,CAAC,SAAS,EAAE,CAAC;YAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;YACtD,OAAO;QACT,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,MAAM,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;IACxD,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,WAAW,CACf,cAAsB,EACtB,OAAwB;QAExB,IAAI,CAAC;YACH,oBAAoB;YACpB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,EAAE,CAAC;gBACb,MAAM,IAAI,mBAAmB,CAAC,8CAA8C,CAAC,CAAC;YAChF,CAAC;YAED,iCAAiC;YACjC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,EAAE;gBACvD,cAAc;gBACd,OAAO;aACR,EAAE;gBACD,QAAQ,EAAE,CAAC;gBACX,OAAO,EAAE;oBACP,IAAI,EAAE,aAAa;oBACnB,KAAK,EAAE,IAAI;iBACZ;aACF,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,+BAA+B,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;YACzD,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;QACzD,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;YAC5D,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;QAClD,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,cAAc,CAClB,cAAsB,EACtB,OAAwB;QAExB,IAAI,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;gBACvB,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;YACnD,CAAC;YAED,MAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAS,wBAAwB,CAAC,CAAC;YAC5E,IAAI,CAAC,UAAU,EAAE,CAAC;gBAChB,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;YAC3D,CAAC;YAED,IAAI,aAAa,CAAC;YAElB,IAAI,OAAO,CAAC,YAAY,EAAE,CAAC;gBACzB,wBAAwB;gBACxB,aAAa,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACtD,IAAI,EAAE,YAAY,UAAU,EAAE;oBAC9B,EAAE,EAAE,YAAY,OAAO,CAAC,EAAE,EAAE;oBAC5B,UAAU,EAAE,OAAO,CAAC,YAAY;oBAChC,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,IAAI,EAAE,CAAC;iBAC/D,CAAC,CAAC;YACL,CAAC;iBAAM,CAAC;gBACN,uBAAuB;gBACvB,MAAM,WAAW,GAAQ;oBACvB,IAAI,EAAE,YAAY,UAAU,EAAE;oBAC9B,EAAE,EAAE,YAAY,OAAO,CAAC,EAAE,EAAE;iBAC7B,CAAC;gBAEF,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;oBACjB,WAAW,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBAClC,CAAC;gBAED,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC;oBACrB,WAAW,CAAC,QAAQ,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC5C,CAAC;gBAED,aAAa,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YACvE,CAAC;YAED,0BAA0B;YAC1B,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE;gBACpC,SAAS,EAAE,aAAa,CAAC,GAAG;gBAC5B,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,YAAY,EAAE,OAAO,CAAC,YAAY;gBAClC,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,UAAU;aACtB,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,uCAAuC,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC;QAC9E,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;YAE/D,qBAAqB;YACrB,MAAM,IAAI,CAAC,UAAU,CAAC,cAAc,EAAE;gBACpC,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,YAAY,EAAE,OAAO,CAAC,YAAY;gBAClC,MAAM,EAAE,QAAQ;gBAChB,SAAS,EAAE,UAAU;gBACrB,KAAK,EAAE,KAAK,CAAC,OAAO;aACrB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,aAAa,CACjB,cAAsB,EACtB,UAAoB,EACpB,OAAoC;QAEpC,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,IAAI,MAAM,GAAG,CAAC,CAAC;QAEf,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE,CAAC;YACnC,IAAI,CAAC;gBACH,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;oBACpD,GAAG,OAAO;oBACV,EAAE,EAAE,SAAS;iBACd,CAAC,CAAC;gBAEH,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;oBACnB,MAAM,EAAE,CAAC;gBACX,CAAC;qBAAM,CAAC;oBACN,MAAM,CAAC,IAAI,CAAC,GAAG,SAAS,KAAK,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC/C,CAAC;YACH,CAAC;YAAC,OAAO,KAAK,EAAE,CAAC;gBACf,MAAM,CAAC,IAAI,CAAC,GAAG,SAAS,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;YAChD,CAAC;QACH,CAAC;QAED,OAAO;YACL,OAAO,EAAE,MAAM,CAAC,MAAM,KAAK,CAAC;YAC5B,MAAM;YACN,MAAM;SACP,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,YAAY,CAAC,cAAsB;QACvC,IAAI,CAAC;YACH,8BAA8B;YAC9B,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC;gBAC5D,KAAK,EAAE,EAAE,cAAc,EAAE;gBACzB,OAAO,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE;aAC/B,CAAC,CAAC;YAEH,OAAO,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;gBAChC,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,QAAQ,EAAE,QAAQ,CAAC,QAAe;gBAClC,QAAQ,EAAE,QAAQ,CAAC,QAAQ;gBAC3B,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC;aAC5C,CAAC,CAAC,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;YAC/D,OAAO,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,cAAc,CAClB,cAAsB,EACtB,QAA0B;QAE1B,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC;gBACxC,IAAI,EAAE;oBACJ,cAAc;oBACd,IAAI,EAAE,QAAQ,CAAC,IAAI;oBACnB,QAAQ,EAAE,QAAQ,CAAC,QAAQ;oBAC3B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;oBAC3B,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC;iBAChD;aACF,CAAC,CAAC;YAEH,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,8BAA8B,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;YAC/D,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;QAC3B,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC,CAAC;YAC9D,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;QAClD,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,gBAAgB,CACpB,cAAsB,EACtB,KAAK,GAAG,EAAE,EACV,MAAM,GAAG,CAAC;QAEV,IAAI,CAAC;YACH,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC;gBAC9D,EAAE,EAAE,CAAC,aAAa,CAAC;gBACnB,KAAK,EAAE,EAAE,cAAc,EAAE;gBACzB,MAAM,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE;gBACpB,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE;gBACzB,OAAO,EAAE,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE;gBACxC,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,MAAM;aACb,CAAC,CAAC;YAEH,2CAA2C;YAC3C,MAAM,yBAAyB,GAAG,MAAM,OAAO,CAAC,GAAG,CACjD,aAAa,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;gBAC/B,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,SAAS,CAAC;oBAChE,KAAK,EAAE;wBACL,cAAc;wBACd,WAAW,EAAE,IAAI,CAAC,WAAW;qBAC9B;oBACD,OAAO,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE;iBAC/B,CAAC,CAAC;gBAEH,OAAO;oBACL,WAAW,EAAE,IAAI,CAAC,WAAW;oBAC7B,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE;oBAC5B,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS;oBAClC,WAAW,EAAE,aAAa,EAAE,IAAI,IAAI,aAAa,EAAE,YAAY;oBAC/D,oBAAoB,EAAE,aAAa,EAAE,SAAS;iBAC/C,CAAC;YACJ,CAAC,CAAC,CACH,CAAC;YAEF,OAAO,yBAAyB,CAAC;QACnC,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,+BAA+B,EAAE,KAAK,CAAC,CAAC;YAC1D,OAAO,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,uBAAuB,CAC3B,cAAsB,EACtB,WAAmB,EACnB,KAAK,GAAG,EAAE,EACV,MAAM,GAAG,CAAC;QAEV,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ,CAAC;gBAC1D,KAAK,EAAE;oBACL,cAAc;oBACd,WAAW;iBACZ;gBACD,OAAO,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE;gBAC9B,IAAI,EAAE,KAAK;gBACX,IAAI,EAAE,MAAM;aACb,CAAC,CAAC;YAEH,OAAO,QAAQ,CAAC;QAClB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,uCAAuC,EAAE,KAAK,CAAC,CAAC;YAClE,OAAO,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,aAAa,CAAC,WAAgB;QAClC,IAAI,CAAC;YACH,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,WAAW,CAAC;YAE9D,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;gBACzB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;gBAClD,OAAO;YACT,CAAC;YAED,iDAAiD;YACjD,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAClD,MAAM,QAAQ,GAAG,EAAE,EAAE,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAE9C,uCAAuC;YACvC,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,gCAAgC,CAAC,QAAQ,CAAC,CAAC;YAC3E,IAAI,CAAC,YAAY,EAAE,CAAC;gBAClB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,8CAA8C,QAAQ,EAAE,CAAC,CAAC;gBAC3E,OAAO;YACT,CAAC;YAED,uBAAuB;YACvB,MAAM,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,EAAE;gBACrC,SAAS,EAAE,UAAU;gBACrB,WAAW;gBACX,IAAI,EAAE,IAAI;gBACV,MAAM,EAAE,SAAS,IAAI,UAAU;gBAC/B,SAAS,EAAE,SAAS;aACrB,CAAC,CAAC;YAEH,8BAA8B;YAC9B,MAAM,IAAI,CAAC,wBAAwB,CAAC,YAAY,CAAC,EAAE,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;YAExE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kCAAkC,UAAU,EAAE,CAAC,CAAC;QAClE,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,oCAAoC,EAAE,KAAK,CAAC,CAAC;QACjE,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,UAAU,CAAC,cAAsB;QACrC,IAAI,CAAC;YACH,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;YACzB,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3B,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;YACjC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAEzC,MAAM,CAAC,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE,WAAW,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;gBAC/E,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC;oBAChC,KAAK,EAAE,EAAE,cAAc,EAAE;iBAC1B,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC;oBAChC,KAAK,EAAE;wBACL,cAAc;wBACd,SAAS,EAAE,UAAU;wBACrB,MAAM,EAAE,MAAM;wBACd,SAAS,EAAE;4BACT,GAAG,EAAE,KAAK;4BACV,EAAE,EAAE,QAAQ;yBACb;qBACF;iBACF,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC;oBAChC,KAAK,EAAE;wBACL,cAAc;wBACd,SAAS,EAAE,SAAS;wBACpB,SAAS,EAAE;4BACT,GAAG,EAAE,KAAK;4BACV,EAAE,EAAE,QAAQ;yBACb;qBACF;iBACF,CAAC;gBACF,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC;oBAChC,KAAK,EAAE;wBACL,cAAc;wBACd,SAAS,EAAE,UAAU;wBACrB,MAAM,EAAE,QAAQ;wBAChB,SAAS,EAAE;4BACT,GAAG,EAAE,KAAK;4BACV,EAAE,EAAE,QAAQ;yBACb;qBACF;iBACF,CAAC;aACH,CAAC,CAAC;YAEH,OAAO;gBACL,aAAa;gBACb,YAAY,EAAE,SAAS;gBACvB,gBAAgB,EAAE,aAAa;gBAC/B,cAAc,EAAE,WAAW;gBAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,cAAc,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;aACzD,CAAC;QACJ,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC,CAAC;YAC7D,OAAO;gBACL,aAAa,EAAE,CAAC;gBAChB,YAAY,EAAE,CAAC;gBACf,gBAAgB,EAAE,CAAC;gBACnB,cAAc,EAAE,CAAC;gBACjB,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,cAAc,EAAE,IAAI,CAAC,UAAU;aAChC,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,eAAe,CAAC,cAAsB;QAClD,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3B,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC;QACjC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QAEzC,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC;YACxD,KAAK,EAAE;gBACL,cAAc;gBACd,SAAS,EAAE,UAAU;gBACrB,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE;oBACT,GAAG,EAAE,KAAK;oBACV,EAAE,EAAE,QAAQ;iBACb;aACF;SACF,CAAC,CAAC;QAEH,OAAO,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC;IACrC,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,UAAU,CACtB,cAAsB,EACtB,WASC;QAED,IAAI,CAAC;YACH,MAAM,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC;gBACvC,IAAI,EAAE;oBACJ,cAAc;oBACd,SAAS,EAAE,WAAW,CAAC,SAAS;oBAChC,WAAW,EAAE,WAAW,CAAC,WAAW,IAAI,WAAW,CAAC,EAAE;oBACtD,IAAI,EAAE,WAAW,CAAC,IAAI;oBACtB,YAAY,EAAE,WAAW,CAAC,YAAY;oBACtC,MAAM,EAAE,WAAW,CAAC,MAAM;oBAC1B,SAAS,EAAE,WAAW,CAAC,SAAS;oBAChC,KAAK,EAAE,WAAW,CAAC,KAAK;iBACzB;aACF,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,gCAAgC,CAAC,WAAmB;QAChE,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC;gBAC1D,KAAK,EAAE;oBACL,QAAQ,EAAE,UAAU;oBACpB,QAAQ,EAAE,IAAI;oBACd,8CAA8C;oBAC9C,QAAQ,EAAE;wBACR,IAAI,EAAE,CAAC,aAAa,CAAC;wBACrB,MAAM,EAAE,WAAW;qBACpB;iBACF;gBACD,OAAO,EAAE;oBACP,YAAY,EAAE,IAAI;iBACnB;aACF,CAAC,CAAC;YAEH,OAAO,WAAW,EAAE,YAAY,IAAI,IAAI,CAAC;QAC3C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gDAAgD,EAAE,KAAK,CAAC,CAAC;YAC3E,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,wBAAwB,CACpC,cAAsB,EACtB,WAAmB,EACnB,WAAmB;QAEnB,IAAI,CAAC;YACH,MAAM,IAAI,GAAG,WAAW,EAAE,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;YAE/C,IAAI,IAAI,KAAK,YAAY,IAAI,IAAI,KAAK,SAAS,EAAE,CAAC;gBAChD,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YAC1D,CAAC;iBAAM,IAAI,IAAI,KAAK,QAAQ,IAAI,IAAI,KAAK,OAAO,EAAE,CAAC;gBACjD,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;YAC1D,CAAC;QACH,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,sCAAsC,EAAE,KAAK,CAAC,CAAC;QACnE,CAAC;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,eAAe,CAC3B,cAAsB,EACtB,WAAmB;QAEnB,IAAI,CAAC;YACH,0BAA0B;YAC1B,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;YAC7B,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAC3C,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/B,MAAM,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;YAClC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAEnC,0DAA0D;YAC1D,MAAM,aAAa,GAAG,2BAA2B;gBAC/C,YAAY,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI;gBACrD,sBAAsB;gBACtB,oBAAoB;gBACpB,sBAAsB;gBACtB,gBAAgB;gBAChB,iCAAiC,CAAC;YAEpC,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;gBACrC,EAAE,EAAE,WAAW;gBACf,IAAI,EAAE,aAAa;aACpB,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC;IACH,CAAC;IAED;;OAEG;IACK,KAAK,CAAC,eAAe,CAC3B,cAAsB,EACtB,WAAmB;QAEnB,IAAI,CAAC;YACH,MAAM,WAAW,GAAG,+BAA+B;gBACjD,6CAA6C;gBAC7C,+BAA+B;gBAC/B,yBAAyB;gBACzB,6BAA6B;gBAC7B,2BAA2B;gBAC3B,6BAA6B,CAAC;YAEhC,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE;gBACrC,EAAE,EAAE,WAAW;gBACf,IAAI,EAAE,WAAW;aAClB,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,6BAA6B,EAAE,KAAK,CAAC,CAAC;QAC1D,CAAC;IACH,CAAC;CACF,CAAA;AArjBY,eAAe;IAD3B,UAAU,EAAE;IAUR,WAAA,WAAW,CAAC,UAAU,CAAC,CAAA;yDAHQ,aAAa,oBAAb,aAAa,oDACpB,aAAa,oBAAb,aAAa,oDACN,aAAa,oBAAb,aAAa,oDACG,KAAK,oBAAL,KAAK;GAT5C,eAAe,CAqjB3B",
      names: [],
      sources: ["C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\whatsapp.service.ts"],
      sourcesContent: ["import { Injectable, Logger, BadRequestException } from '@nestjs/common';\nimport { ConfigService } from '@nestjs/config';\nimport { PrismaService } from '../database/prisma.service';\nimport { CryptoService } from './crypto.service';\nimport { Twilio } from 'twilio';\nimport { Queue } from 'bull';\nimport { InjectQueue } from '@nestjs/bull';\n\nexport interface WhatsAppMessage {\n  to: string;\n  body?: string;\n  mediaUrl?: string;\n  templateName?: string;\n  templateParams?: Record<string, string>;\n}\n\nexport interface WhatsAppTemplate {\n  name: string;\n  category: 'MARKETING' | 'UTILITY' | 'AUTHENTICATION';\n  language: string;\n  components: {\n    type: 'HEADER' | 'BODY' | 'FOOTER' | 'BUTTONS';\n    text?: string;\n    parameters?: Array<{ type: string; text: string }>;\n  }[];\n}\n\nexport interface ConversationMetrics {\n  totalMessages: number;\n  sentMessages: number;\n  receivedMessages: number;\n  failedMessages: number;\n  dailyLimit: number;\n  remainingQuota: number;\n}\n\n@Injectable()\nexport class WhatsAppService {\n  private readonly logger = new Logger(WhatsAppService.name);\n  private twilioClient: Twilio;\n  private readonly dailyLimit = 1000;\n\n  constructor(\n    private readonly configService: ConfigService,\n    private readonly prisma: PrismaService,\n    private readonly cryptoService: CryptoService,\n    @InjectQueue('whatsapp') private whatsappQueue: Queue,\n  ) {\n    this.initializeTwilio();\n  }\n\n  private initializeTwilio() {\n    const accountSid = this.configService.get<string>('TWILIO_ACCOUNT_SID');\n    const authToken = this.configService.get<string>('TWILIO_AUTH_TOKEN');\n\n    if (!accountSid || !authToken) {\n      this.logger.warn('Twilio credentials not configured');\n      return;\n    }\n\n    this.twilioClient = new Twilio(accountSid, authToken);\n    this.logger.log('Twilio WhatsApp client initialized');\n  }\n\n  /**\n   * Send WhatsApp message\n   */\n  async sendMessage(\n    organizationId: string,\n    message: WhatsAppMessage,\n  ): Promise<{ success: boolean; messageId?: string; error?: string }> {\n    try {\n      // Check daily limit\n      const canSend = await this.checkDailyLimit(organizationId);\n      if (!canSend) {\n        throw new BadRequestException('Daily message limit exceeded (1000 messages)');\n      }\n\n      // Add to queue for rate limiting\n      const job = await this.whatsappQueue.add('send-message', {\n        organizationId,\n        message,\n      }, {\n        attempts: 3,\n        backoff: {\n          type: 'exponential',\n          delay: 2000,\n        },\n      });\n\n      this.logger.log(`Message queued for sending: ${job.id}`);\n      return { success: true, messageId: job.id.toString() };\n    } catch (error) {\n      this.logger.error('Error sending WhatsApp message:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Process message from queue\n   */\n  async processMessage(\n    organizationId: string,\n    message: WhatsAppMessage,\n  ): Promise<void> {\n    try {\n      if (!this.twilioClient) {\n        throw new Error('Twilio client not initialized');\n      }\n\n      const fromNumber = this.configService.get<string>('TWILIO_WHATSAPP_NUMBER');\n      if (!fromNumber) {\n        throw new Error('Twilio WhatsApp number not configured');\n      }\n\n      let twilioMessage;\n\n      if (message.templateName) {\n        // Send template message\n        twilioMessage = await this.twilioClient.messages.create({\n          from: `whatsapp:${fromNumber}`,\n          to: `whatsapp:${message.to}`,\n          contentSid: message.templateName,\n          contentVariables: JSON.stringify(message.templateParams || {}),\n        });\n      } else {\n        // Send regular message\n        const messageData: any = {\n          from: `whatsapp:${fromNumber}`,\n          to: `whatsapp:${message.to}`,\n        };\n\n        if (message.body) {\n          messageData.body = message.body;\n        }\n\n        if (message.mediaUrl) {\n          messageData.mediaUrl = [message.mediaUrl];\n        }\n\n        twilioMessage = await this.twilioClient.messages.create(messageData);\n      }\n\n      // Log message in database\n      await this.logMessage(organizationId, {\n        twilioSid: twilioMessage.sid,\n        to: message.to,\n        body: message.body,\n        templateName: message.templateName,\n        status: 'sent',\n        direction: 'outbound',\n      });\n\n      this.logger.log(`WhatsApp message sent successfully: ${twilioMessage.sid}`);\n    } catch (error) {\n      this.logger.error('Error processing WhatsApp message:', error);\n      \n      // Log failed message\n      await this.logMessage(organizationId, {\n        to: message.to,\n        body: message.body,\n        templateName: message.templateName,\n        status: 'failed',\n        direction: 'outbound',\n        error: error.message,\n      });\n\n      throw error;\n    }\n  }\n\n  /**\n   * Send broadcast message to multiple recipients\n   */\n  async sendBroadcast(\n    organizationId: string,\n    recipients: string[],\n    message: Omit<WhatsAppMessage, 'to'>,\n  ): Promise<{ success: boolean; queued: number; errors: string[] }> {\n    const errors: string[] = [];\n    let queued = 0;\n\n    for (const recipient of recipients) {\n      try {\n        const result = await this.sendMessage(organizationId, {\n          ...message,\n          to: recipient,\n        });\n\n        if (result.success) {\n          queued++;\n        } else {\n          errors.push(`${recipient}: ${result.error}`);\n        }\n      } catch (error) {\n        errors.push(`${recipient}: ${error.message}`);\n      }\n    }\n\n    return {\n      success: errors.length === 0,\n      queued,\n      errors,\n    };\n  }\n\n  /**\n   * Get message templates\n   */\n  async getTemplates(organizationId: string): Promise<WhatsAppTemplate[]> {\n    try {\n      // Get templates from database\n      const templates = await this.prisma.whatsAppTemplate.findMany({\n        where: { organizationId },\n        orderBy: { createdAt: 'desc' },\n      });\n\n      return templates.map(template => ({\n        name: template.name,\n        category: template.category as any,\n        language: template.language,\n        components: JSON.parse(template.components),\n      }));\n    } catch (error) {\n      this.logger.error('Error fetching WhatsApp templates:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Create message template\n   */\n  async createTemplate(\n    organizationId: string,\n    template: WhatsAppTemplate,\n  ): Promise<{ success: boolean; error?: string }> {\n    try {\n      await this.prisma.whatsAppTemplate.create({\n        data: {\n          organizationId,\n          name: template.name,\n          category: template.category,\n          language: template.language,\n          components: JSON.stringify(template.components),\n        },\n      });\n\n      this.logger.log(`WhatsApp template created: ${template.name}`);\n      return { success: true };\n    } catch (error) {\n      this.logger.error('Error creating WhatsApp template:', error);\n      return { success: false, error: error.message };\n    }\n  }\n\n  /**\n   * Get conversations\n   */\n  async getConversations(\n    organizationId: string,\n    limit = 50,\n    offset = 0,\n  ): Promise<any[]> {\n    try {\n      const conversations = await this.prisma.whatsAppMessage.groupBy({\n        by: ['phoneNumber'],\n        where: { organizationId },\n        _count: { id: true },\n        _max: { createdAt: true },\n        orderBy: { _max: { createdAt: 'desc' } },\n        take: limit,\n        skip: offset,\n      });\n\n      // Get latest message for each conversation\n      const conversationsWithMessages = await Promise.all(\n        conversations.map(async (conv) => {\n          const latestMessage = await this.prisma.whatsAppMessage.findFirst({\n            where: {\n              organizationId,\n              phoneNumber: conv.phoneNumber,\n            },\n            orderBy: { createdAt: 'desc' },\n          });\n\n          return {\n            phoneNumber: conv.phoneNumber,\n            messageCount: conv._count.id,\n            lastMessageAt: conv._max.createdAt,\n            lastMessage: latestMessage?.body || latestMessage?.templateName,\n            lastMessageDirection: latestMessage?.direction,\n          };\n        }),\n      );\n\n      return conversationsWithMessages;\n    } catch (error) {\n      this.logger.error('Error fetching conversations:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get conversation messages\n   */\n  async getConversationMessages(\n    organizationId: string,\n    phoneNumber: string,\n    limit = 50,\n    offset = 0,\n  ): Promise<any[]> {\n    try {\n      const messages = await this.prisma.whatsAppMessage.findMany({\n        where: {\n          organizationId,\n          phoneNumber,\n        },\n        orderBy: { createdAt: 'desc' },\n        take: limit,\n        skip: offset,\n      });\n\n      return messages;\n    } catch (error) {\n      this.logger.error('Error fetching conversation messages:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Handle incoming webhook\n   */\n  async handleWebhook(webhookData: any): Promise<void> {\n    try {\n      const { From, To, Body, MessageSid, SmsStatus } = webhookData;\n      \n      if (!From || !MessageSid) {\n        this.logger.warn('Invalid webhook data received');\n        return;\n      }\n\n      // Extract phone number (remove whatsapp: prefix)\n      const phoneNumber = From.replace('whatsapp:', '');\n      const toNumber = To?.replace('whatsapp:', '');\n\n      // Find organization by WhatsApp number\n      const organization = await this.findOrganizationByWhatsAppNumber(toNumber);\n      if (!organization) {\n        this.logger.warn(`No organization found for WhatsApp number: ${toNumber}`);\n        return;\n      }\n\n      // Log incoming message\n      await this.logMessage(organization.id, {\n        twilioSid: MessageSid,\n        phoneNumber,\n        body: Body,\n        status: SmsStatus || 'received',\n        direction: 'inbound',\n      });\n\n      // Process automated responses\n      await this.processAutomatedResponse(organization.id, phoneNumber, Body);\n\n      this.logger.log(`Webhook processed for message: ${MessageSid}`);\n    } catch (error) {\n      this.logger.error('Error processing WhatsApp webhook:', error);\n    }\n  }\n\n  /**\n   * Get conversation metrics\n   */\n  async getMetrics(organizationId: string): Promise<ConversationMetrics> {\n    try {\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n      const tomorrow = new Date(today);\n      tomorrow.setDate(tomorrow.getDate() + 1);\n\n      const [totalMessages, sentToday, receivedToday, failedToday] = await Promise.all([\n        this.prisma.whatsAppMessage.count({\n          where: { organizationId },\n        }),\n        this.prisma.whatsAppMessage.count({\n          where: {\n            organizationId,\n            direction: 'outbound',\n            status: 'sent',\n            createdAt: {\n              gte: today,\n              lt: tomorrow,\n            },\n          },\n        }),\n        this.prisma.whatsAppMessage.count({\n          where: {\n            organizationId,\n            direction: 'inbound',\n            createdAt: {\n              gte: today,\n              lt: tomorrow,\n            },\n          },\n        }),\n        this.prisma.whatsAppMessage.count({\n          where: {\n            organizationId,\n            direction: 'outbound',\n            status: 'failed',\n            createdAt: {\n              gte: today,\n              lt: tomorrow,\n            },\n          },\n        }),\n      ]);\n\n      return {\n        totalMessages,\n        sentMessages: sentToday,\n        receivedMessages: receivedToday,\n        failedMessages: failedToday,\n        dailyLimit: this.dailyLimit,\n        remainingQuota: Math.max(0, this.dailyLimit - sentToday),\n      };\n    } catch (error) {\n      this.logger.error('Error fetching WhatsApp metrics:', error);\n      return {\n        totalMessages: 0,\n        sentMessages: 0,\n        receivedMessages: 0,\n        failedMessages: 0,\n        dailyLimit: this.dailyLimit,\n        remainingQuota: this.dailyLimit,\n      };\n    }\n  }\n\n  /**\n   * Check daily sending limit\n   */\n  private async checkDailyLimit(organizationId: string): Promise<boolean> {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    const sentToday = await this.prisma.whatsAppMessage.count({\n      where: {\n        organizationId,\n        direction: 'outbound',\n        status: 'sent',\n        createdAt: {\n          gte: today,\n          lt: tomorrow,\n        },\n      },\n    });\n\n    return sentToday < this.dailyLimit;\n  }\n\n  /**\n   * Log message in database\n   */\n  private async logMessage(\n    organizationId: string,\n    messageData: {\n      twilioSid?: string;\n      phoneNumber?: string;\n      to?: string;\n      body?: string;\n      templateName?: string;\n      status: string;\n      direction: 'inbound' | 'outbound';\n      error?: string;\n    },\n  ): Promise<void> {\n    try {\n      await this.prisma.whatsAppMessage.create({\n        data: {\n          organizationId,\n          twilioSid: messageData.twilioSid,\n          phoneNumber: messageData.phoneNumber || messageData.to,\n          body: messageData.body,\n          templateName: messageData.templateName,\n          status: messageData.status,\n          direction: messageData.direction,\n          error: messageData.error,\n        },\n      });\n    } catch (error) {\n      this.logger.error('Error logging WhatsApp message:', error);\n    }\n  }\n\n  /**\n   * Find organization by WhatsApp number\n   */\n  private async findOrganizationByWhatsAppNumber(phoneNumber: string) {\n    try {\n      const integration = await this.prisma.integration.findFirst({\n        where: {\n          platform: 'whatsapp',\n          isActive: true,\n          // Assuming phone number is stored in metadata\n          metadata: {\n            path: ['phoneNumber'],\n            equals: phoneNumber,\n          },\n        },\n        include: {\n          organization: true,\n        },\n      });\n\n      return integration?.organization || null;\n    } catch (error) {\n      this.logger.error('Error finding organization by WhatsApp number:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Process automated responses\n   */\n  private async processAutomatedResponse(\n    organizationId: string,\n    phoneNumber: string,\n    messageBody: string,\n  ): Promise<void> {\n    try {\n      const body = messageBody?.toLowerCase().trim();\n\n      if (body === '/relatorio' || body === '/report') {\n        await this.sendDailyReport(organizationId, phoneNumber);\n      } else if (body === '/ajuda' || body === '/help') {\n        await this.sendHelpMessage(organizationId, phoneNumber);\n      }\n    } catch (error) {\n      this.logger.error('Error processing automated response:', error);\n    }\n  }\n\n  /**\n   * Send daily report\n   */\n  private async sendDailyReport(\n    organizationId: string,\n    phoneNumber: string,\n  ): Promise<void> {\n    try {\n      // Get yesterday's metrics\n      const yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      yesterday.setHours(0, 0, 0, 0);\n      const today = new Date(yesterday);\n      today.setDate(today.getDate() + 1);\n\n      // This would integrate with your existing metrics service\n      const reportMessage = `\uD83D\uDCCA *Relat\xF3rio Di\xE1rio*\\n\\n` +\n        `\uD83D\uDCC5 Data: ${yesterday.toLocaleDateString('pt-BR')}\\n` +\n        `\uD83D\uDCB0 Vendas: R$ 0,00\\n` +\n        `\uD83D\uDCC8 Convers\xF5es: 0\\n` +\n        `\uD83D\uDCB8 Gastos: R$ 0,00\\n` +\n        `\uD83C\uDFAF ROI: 0%\\n\\n` +\n        `Digite /ajuda para mais op\xE7\xF5es.`;\n\n      await this.sendMessage(organizationId, {\n        to: phoneNumber,\n        body: reportMessage,\n      });\n    } catch (error) {\n      this.logger.error('Error sending daily report:', error);\n    }\n  }\n\n  /**\n   * Send help message\n   */\n  private async sendHelpMessage(\n    organizationId: string,\n    phoneNumber: string,\n  ): Promise<void> {\n    try {\n      const helpMessage = `\uD83E\uDD16 *Comandos Dispon\xEDveis*\\n\\n` +\n        `\uD83D\uDCCA /relatorio - Relat\xF3rio do dia anterior\\n` +\n        `\uD83D\uDCA1 /ajuda - Esta mensagem\\n\\n` +\n        `Voc\xEA tamb\xE9m receber\xE1:\\n` +\n        `\uD83D\uDD14 Notifica\xE7\xF5es de vendas\\n` +\n        `\u26A0\uFE0F Alertas de or\xE7amento\\n` +\n        `\uD83D\uDCC8 Relat\xF3rios di\xE1rios \xE0s 9h`;\n\n      await this.sendMessage(organizationId, {\n        to: phoneNumber,\n        body: helpMessage,\n      });\n    } catch (error) {\n      this.logger.error('Error sending help message:', error);\n    }\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7e1d61f9b51b27df2ebb36ea6e033c9a10174cc7"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2h48fpenaj = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2h48fpenaj();
var __decorate =
/* istanbul ignore next */
(cov_2h48fpenaj().s[0]++,
/* istanbul ignore next */
(cov_2h48fpenaj().b[0][0]++, this) &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[0][1]++, this.__decorate) ||
/* istanbul ignore next */
(cov_2h48fpenaj().b[0][2]++, function (decorators, target, key, desc) {
  /* istanbul ignore next */
  cov_2h48fpenaj().f[0]++;
  var c =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[1]++, arguments.length),
    r =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[2]++, c < 3 ?
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[1][0]++, target) :
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[1][1]++, desc === null ?
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[2][1]++, desc))),
    d;
  /* istanbul ignore next */
  cov_2h48fpenaj().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[4][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[4][1]++, typeof Reflect.decorate === "function")) {
    /* istanbul ignore next */
    cov_2h48fpenaj().b[3][0]++;
    cov_2h48fpenaj().s[4]++;
    r = Reflect.decorate(decorators, target, key, desc);
  } else {
    /* istanbul ignore next */
    cov_2h48fpenaj().b[3][1]++;
    cov_2h48fpenaj().s[5]++;
    for (var i =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[6]++, decorators.length - 1); i >= 0; i--) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[7]++;
      if (d = decorators[i]) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[5][0]++;
        cov_2h48fpenaj().s[8]++;
        r =
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[6][0]++, c < 3 ?
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[7][0]++, d(r)) :
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[7][1]++, c > 3 ?
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[8][0]++, d(target, key, r)) :
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[8][1]++, d(target, key)))) ||
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[6][1]++, r);
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[5][1]++;
      }
    }
  }
  /* istanbul ignore next */
  cov_2h48fpenaj().s[9]++;
  return /* istanbul ignore next */(cov_2h48fpenaj().b[9][0]++, c > 3) &&
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[9][1]++, r) &&
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[9][2]++, Object.defineProperty(target, key, r)), r;
}));
var __metadata =
/* istanbul ignore next */
(cov_2h48fpenaj().s[10]++,
/* istanbul ignore next */
(cov_2h48fpenaj().b[10][0]++, this) &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[10][1]++, this.__metadata) ||
/* istanbul ignore next */
(cov_2h48fpenaj().b[10][2]++, function (k, v) {
  /* istanbul ignore next */
  cov_2h48fpenaj().f[1]++;
  cov_2h48fpenaj().s[11]++;
  if (
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[12][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[12][1]++, typeof Reflect.metadata === "function")) {
    /* istanbul ignore next */
    cov_2h48fpenaj().b[11][0]++;
    cov_2h48fpenaj().s[12]++;
    return Reflect.metadata(k, v);
  } else
  /* istanbul ignore next */
  {
    cov_2h48fpenaj().b[11][1]++;
  }
}));
var __param =
/* istanbul ignore next */
(cov_2h48fpenaj().s[13]++,
/* istanbul ignore next */
(cov_2h48fpenaj().b[13][0]++, this) &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[13][1]++, this.__param) ||
/* istanbul ignore next */
(cov_2h48fpenaj().b[13][2]++, function (paramIndex, decorator) {
  /* istanbul ignore next */
  cov_2h48fpenaj().f[2]++;
  cov_2h48fpenaj().s[14]++;
  return function (target, key) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[3]++;
    cov_2h48fpenaj().s[15]++;
    decorator(target, key, paramIndex);
  };
}));
var WhatsAppService_1;
var _a, _b, _c, _d;
import { Injectable, Logger, BadRequestException } from '@nestjs/common';
import { ConfigService } from '@nestjs/config';
import { PrismaService } from '../database/prisma.service';
import { CryptoService } from './crypto.service';
import { Twilio } from 'twilio';
import { Queue } from 'bull';
import { InjectQueue } from '@nestjs/bull';
let WhatsAppService =
/* istanbul ignore next */
(cov_2h48fpenaj().s[16]++, WhatsAppService_1 = class WhatsAppService {
  configService;
  prisma;
  cryptoService;
  whatsappQueue;
  logger =
  /* istanbul ignore next */
  (cov_2h48fpenaj().s[17]++, new Logger(WhatsAppService_1.name));
  twilioClient;
  dailyLimit =
  /* istanbul ignore next */
  (cov_2h48fpenaj().s[18]++, 1000);
  constructor(configService, prisma, cryptoService, whatsappQueue) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[4]++;
    cov_2h48fpenaj().s[19]++;
    this.configService = configService;
    /* istanbul ignore next */
    cov_2h48fpenaj().s[20]++;
    this.prisma = prisma;
    /* istanbul ignore next */
    cov_2h48fpenaj().s[21]++;
    this.cryptoService = cryptoService;
    /* istanbul ignore next */
    cov_2h48fpenaj().s[22]++;
    this.whatsappQueue = whatsappQueue;
    /* istanbul ignore next */
    cov_2h48fpenaj().s[23]++;
    this.initializeTwilio();
  }
  initializeTwilio() {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[5]++;
    const accountSid =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[24]++, this.configService.get('TWILIO_ACCOUNT_SID'));
    const authToken =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[25]++, this.configService.get('TWILIO_AUTH_TOKEN'));
    /* istanbul ignore next */
    cov_2h48fpenaj().s[26]++;
    if (
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[15][0]++, !accountSid) ||
    /* istanbul ignore next */
    (cov_2h48fpenaj().b[15][1]++, !authToken)) {
      /* istanbul ignore next */
      cov_2h48fpenaj().b[14][0]++;
      cov_2h48fpenaj().s[27]++;
      this.logger.warn('Twilio credentials not configured');
      /* istanbul ignore next */
      cov_2h48fpenaj().s[28]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2h48fpenaj().b[14][1]++;
    }
    cov_2h48fpenaj().s[29]++;
    this.twilioClient = new Twilio(accountSid, authToken);
    /* istanbul ignore next */
    cov_2h48fpenaj().s[30]++;
    this.logger.log('Twilio WhatsApp client initialized');
  }
  /**
   * Send WhatsApp message
   */
  async sendMessage(organizationId, message) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[6]++;
    cov_2h48fpenaj().s[31]++;
    try {
      // Check daily limit
      const canSend =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[32]++, await this.checkDailyLimit(organizationId));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[33]++;
      if (!canSend) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[16][0]++;
        cov_2h48fpenaj().s[34]++;
        throw new BadRequestException('Daily message limit exceeded (1000 messages)');
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[16][1]++;
      }
      // Add to queue for rate limiting
      const job =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[35]++, await this.whatsappQueue.add('send-message', {
        organizationId,
        message
      }, {
        attempts: 3,
        backoff: {
          type: 'exponential',
          delay: 2000
        }
      }));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[36]++;
      this.logger.log(`Message queued for sending: ${job.id}`);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[37]++;
      return {
        success: true,
        messageId: job.id.toString()
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[38]++;
      this.logger.error('Error sending WhatsApp message:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[39]++;
      return {
        success: false,
        error: error.message
      };
    }
  }
  /**
   * Process message from queue
   */
  async processMessage(organizationId, message) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[7]++;
    cov_2h48fpenaj().s[40]++;
    try {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[41]++;
      if (!this.twilioClient) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[17][0]++;
        cov_2h48fpenaj().s[42]++;
        throw new Error('Twilio client not initialized');
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[17][1]++;
      }
      const fromNumber =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[43]++, this.configService.get('TWILIO_WHATSAPP_NUMBER'));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[44]++;
      if (!fromNumber) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[18][0]++;
        cov_2h48fpenaj().s[45]++;
        throw new Error('Twilio WhatsApp number not configured');
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[18][1]++;
      }
      let twilioMessage;
      /* istanbul ignore next */
      cov_2h48fpenaj().s[46]++;
      if (message.templateName) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[19][0]++;
        cov_2h48fpenaj().s[47]++;
        // Send template message
        twilioMessage = await this.twilioClient.messages.create({
          from: `whatsapp:${fromNumber}`,
          to: `whatsapp:${message.to}`,
          contentSid: message.templateName,
          contentVariables: JSON.stringify(
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[20][0]++, message.templateParams) ||
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[20][1]++, {}))
        });
      } else {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[19][1]++;
        // Send regular message
        const messageData =
        /* istanbul ignore next */
        (cov_2h48fpenaj().s[48]++, {
          from: `whatsapp:${fromNumber}`,
          to: `whatsapp:${message.to}`
        });
        /* istanbul ignore next */
        cov_2h48fpenaj().s[49]++;
        if (message.body) {
          /* istanbul ignore next */
          cov_2h48fpenaj().b[21][0]++;
          cov_2h48fpenaj().s[50]++;
          messageData.body = message.body;
        } else
        /* istanbul ignore next */
        {
          cov_2h48fpenaj().b[21][1]++;
        }
        cov_2h48fpenaj().s[51]++;
        if (message.mediaUrl) {
          /* istanbul ignore next */
          cov_2h48fpenaj().b[22][0]++;
          cov_2h48fpenaj().s[52]++;
          messageData.mediaUrl = [message.mediaUrl];
        } else
        /* istanbul ignore next */
        {
          cov_2h48fpenaj().b[22][1]++;
        }
        cov_2h48fpenaj().s[53]++;
        twilioMessage = await this.twilioClient.messages.create(messageData);
      }
      // Log message in database
      /* istanbul ignore next */
      cov_2h48fpenaj().s[54]++;
      await this.logMessage(organizationId, {
        twilioSid: twilioMessage.sid,
        to: message.to,
        body: message.body,
        templateName: message.templateName,
        status: 'sent',
        direction: 'outbound'
      });
      /* istanbul ignore next */
      cov_2h48fpenaj().s[55]++;
      this.logger.log(`WhatsApp message sent successfully: ${twilioMessage.sid}`);
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[56]++;
      this.logger.error('Error processing WhatsApp message:', error);
      // Log failed message
      /* istanbul ignore next */
      cov_2h48fpenaj().s[57]++;
      await this.logMessage(organizationId, {
        to: message.to,
        body: message.body,
        templateName: message.templateName,
        status: 'failed',
        direction: 'outbound',
        error: error.message
      });
      /* istanbul ignore next */
      cov_2h48fpenaj().s[58]++;
      throw error;
    }
  }
  /**
   * Send broadcast message to multiple recipients
   */
  async sendBroadcast(organizationId, recipients, message) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[8]++;
    const errors =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[59]++, []);
    let queued =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[60]++, 0);
    /* istanbul ignore next */
    cov_2h48fpenaj().s[61]++;
    for (const recipient of recipients) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[62]++;
      try {
        const result =
        /* istanbul ignore next */
        (cov_2h48fpenaj().s[63]++, await this.sendMessage(organizationId, {
          ...message,
          to: recipient
        }));
        /* istanbul ignore next */
        cov_2h48fpenaj().s[64]++;
        if (result.success) {
          /* istanbul ignore next */
          cov_2h48fpenaj().b[23][0]++;
          cov_2h48fpenaj().s[65]++;
          queued++;
        } else {
          /* istanbul ignore next */
          cov_2h48fpenaj().b[23][1]++;
          cov_2h48fpenaj().s[66]++;
          errors.push(`${recipient}: ${result.error}`);
        }
      } catch (error) {
        /* istanbul ignore next */
        cov_2h48fpenaj().s[67]++;
        errors.push(`${recipient}: ${error.message}`);
      }
    }
    /* istanbul ignore next */
    cov_2h48fpenaj().s[68]++;
    return {
      success: errors.length === 0,
      queued,
      errors
    };
  }
  /**
   * Get message templates
   */
  async getTemplates(organizationId) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[9]++;
    cov_2h48fpenaj().s[69]++;
    try {
      // Get templates from database
      const templates =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[70]++, await this.prisma.whatsAppTemplate.findMany({
        where: {
          organizationId
        },
        orderBy: {
          createdAt: 'desc'
        }
      }));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[71]++;
      return templates.map(template => {
        /* istanbul ignore next */
        cov_2h48fpenaj().f[10]++;
        cov_2h48fpenaj().s[72]++;
        return {
          name: template.name,
          category: template.category,
          language: template.language,
          components: JSON.parse(template.components)
        };
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[73]++;
      this.logger.error('Error fetching WhatsApp templates:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[74]++;
      return [];
    }
  }
  /**
   * Create message template
   */
  async createTemplate(organizationId, template) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[11]++;
    cov_2h48fpenaj().s[75]++;
    try {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[76]++;
      await this.prisma.whatsAppTemplate.create({
        data: {
          organizationId,
          name: template.name,
          category: template.category,
          language: template.language,
          components: JSON.stringify(template.components)
        }
      });
      /* istanbul ignore next */
      cov_2h48fpenaj().s[77]++;
      this.logger.log(`WhatsApp template created: ${template.name}`);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[78]++;
      return {
        success: true
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[79]++;
      this.logger.error('Error creating WhatsApp template:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[80]++;
      return {
        success: false,
        error: error.message
      };
    }
  }
  /**
   * Get conversations
   */
  async getConversations(organizationId, limit =
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[24][0]++, 50), offset =
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[25][0]++, 0)) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[12]++;
    cov_2h48fpenaj().s[81]++;
    try {
      const conversations =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[82]++, await this.prisma.whatsAppMessage.groupBy({
        by: ['phoneNumber'],
        where: {
          organizationId
        },
        _count: {
          id: true
        },
        _max: {
          createdAt: true
        },
        orderBy: {
          _max: {
            createdAt: 'desc'
          }
        },
        take: limit,
        skip: offset
      }));
      // Get latest message for each conversation
      const conversationsWithMessages =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[83]++, await Promise.all(conversations.map(async conv => {
        /* istanbul ignore next */
        cov_2h48fpenaj().f[13]++;
        const latestMessage =
        /* istanbul ignore next */
        (cov_2h48fpenaj().s[84]++, await this.prisma.whatsAppMessage.findFirst({
          where: {
            organizationId,
            phoneNumber: conv.phoneNumber
          },
          orderBy: {
            createdAt: 'desc'
          }
        }));
        /* istanbul ignore next */
        cov_2h48fpenaj().s[85]++;
        return {
          phoneNumber: conv.phoneNumber,
          messageCount: conv._count.id,
          lastMessageAt: conv._max.createdAt,
          lastMessage:
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[26][0]++, latestMessage?.body) ||
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[26][1]++, latestMessage?.templateName),
          lastMessageDirection: latestMessage?.direction
        };
      })));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[86]++;
      return conversationsWithMessages;
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[87]++;
      this.logger.error('Error fetching conversations:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[88]++;
      return [];
    }
  }
  /**
   * Get conversation messages
   */
  async getConversationMessages(organizationId, phoneNumber, limit =
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[27][0]++, 50), offset =
  /* istanbul ignore next */
  (cov_2h48fpenaj().b[28][0]++, 0)) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[14]++;
    cov_2h48fpenaj().s[89]++;
    try {
      const messages =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[90]++, await this.prisma.whatsAppMessage.findMany({
        where: {
          organizationId,
          phoneNumber
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: limit,
        skip: offset
      }));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[91]++;
      return messages;
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[92]++;
      this.logger.error('Error fetching conversation messages:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[93]++;
      return [];
    }
  }
  /**
   * Handle incoming webhook
   */
  async handleWebhook(webhookData) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[15]++;
    cov_2h48fpenaj().s[94]++;
    try {
      const {
        From,
        To,
        Body,
        MessageSid,
        SmsStatus
      } =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[95]++, webhookData);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[96]++;
      if (
      /* istanbul ignore next */
      (cov_2h48fpenaj().b[30][0]++, !From) ||
      /* istanbul ignore next */
      (cov_2h48fpenaj().b[30][1]++, !MessageSid)) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[29][0]++;
        cov_2h48fpenaj().s[97]++;
        this.logger.warn('Invalid webhook data received');
        /* istanbul ignore next */
        cov_2h48fpenaj().s[98]++;
        return;
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[29][1]++;
      }
      // Extract phone number (remove whatsapp: prefix)
      const phoneNumber =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[99]++, From.replace('whatsapp:', ''));
      const toNumber =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[100]++, To?.replace('whatsapp:', ''));
      // Find organization by WhatsApp number
      const organization =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[101]++, await this.findOrganizationByWhatsAppNumber(toNumber));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[102]++;
      if (!organization) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[31][0]++;
        cov_2h48fpenaj().s[103]++;
        this.logger.warn(`No organization found for WhatsApp number: ${toNumber}`);
        /* istanbul ignore next */
        cov_2h48fpenaj().s[104]++;
        return;
      } else
      /* istanbul ignore next */
      {
        cov_2h48fpenaj().b[31][1]++;
      }
      // Log incoming message
      cov_2h48fpenaj().s[105]++;
      await this.logMessage(organization.id, {
        twilioSid: MessageSid,
        phoneNumber,
        body: Body,
        status:
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[32][0]++, SmsStatus) ||
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[32][1]++, 'received'),
        direction: 'inbound'
      });
      // Process automated responses
      /* istanbul ignore next */
      cov_2h48fpenaj().s[106]++;
      await this.processAutomatedResponse(organization.id, phoneNumber, Body);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[107]++;
      this.logger.log(`Webhook processed for message: ${MessageSid}`);
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[108]++;
      this.logger.error('Error processing WhatsApp webhook:', error);
    }
  }
  /**
   * Get conversation metrics
   */
  async getMetrics(organizationId) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[16]++;
    cov_2h48fpenaj().s[109]++;
    try {
      const today =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[110]++, new Date());
      /* istanbul ignore next */
      cov_2h48fpenaj().s[111]++;
      today.setHours(0, 0, 0, 0);
      const tomorrow =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[112]++, new Date(today));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[113]++;
      tomorrow.setDate(tomorrow.getDate() + 1);
      const [totalMessages, sentToday, receivedToday, failedToday] =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[114]++, await Promise.all([this.prisma.whatsAppMessage.count({
        where: {
          organizationId
        }
      }), this.prisma.whatsAppMessage.count({
        where: {
          organizationId,
          direction: 'outbound',
          status: 'sent',
          createdAt: {
            gte: today,
            lt: tomorrow
          }
        }
      }), this.prisma.whatsAppMessage.count({
        where: {
          organizationId,
          direction: 'inbound',
          createdAt: {
            gte: today,
            lt: tomorrow
          }
        }
      }), this.prisma.whatsAppMessage.count({
        where: {
          organizationId,
          direction: 'outbound',
          status: 'failed',
          createdAt: {
            gte: today,
            lt: tomorrow
          }
        }
      })]));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[115]++;
      return {
        totalMessages,
        sentMessages: sentToday,
        receivedMessages: receivedToday,
        failedMessages: failedToday,
        dailyLimit: this.dailyLimit,
        remainingQuota: Math.max(0, this.dailyLimit - sentToday)
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[116]++;
      this.logger.error('Error fetching WhatsApp metrics:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[117]++;
      return {
        totalMessages: 0,
        sentMessages: 0,
        receivedMessages: 0,
        failedMessages: 0,
        dailyLimit: this.dailyLimit,
        remainingQuota: this.dailyLimit
      };
    }
  }
  /**
   * Check daily sending limit
   */
  async checkDailyLimit(organizationId) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[17]++;
    const today =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[118]++, new Date());
    /* istanbul ignore next */
    cov_2h48fpenaj().s[119]++;
    today.setHours(0, 0, 0, 0);
    const tomorrow =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[120]++, new Date(today));
    /* istanbul ignore next */
    cov_2h48fpenaj().s[121]++;
    tomorrow.setDate(tomorrow.getDate() + 1);
    const sentToday =
    /* istanbul ignore next */
    (cov_2h48fpenaj().s[122]++, await this.prisma.whatsAppMessage.count({
      where: {
        organizationId,
        direction: 'outbound',
        status: 'sent',
        createdAt: {
          gte: today,
          lt: tomorrow
        }
      }
    }));
    /* istanbul ignore next */
    cov_2h48fpenaj().s[123]++;
    return sentToday < this.dailyLimit;
  }
  /**
   * Log message in database
   */
  async logMessage(organizationId, messageData) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[18]++;
    cov_2h48fpenaj().s[124]++;
    try {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[125]++;
      await this.prisma.whatsAppMessage.create({
        data: {
          organizationId,
          twilioSid: messageData.twilioSid,
          phoneNumber:
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[33][0]++, messageData.phoneNumber) ||
          /* istanbul ignore next */
          (cov_2h48fpenaj().b[33][1]++, messageData.to),
          body: messageData.body,
          templateName: messageData.templateName,
          status: messageData.status,
          direction: messageData.direction,
          error: messageData.error
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[126]++;
      this.logger.error('Error logging WhatsApp message:', error);
    }
  }
  /**
   * Find organization by WhatsApp number
   */
  async findOrganizationByWhatsAppNumber(phoneNumber) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[19]++;
    cov_2h48fpenaj().s[127]++;
    try {
      const integration =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[128]++, await this.prisma.integration.findFirst({
        where: {
          platform: 'whatsapp',
          isActive: true,
          // Assuming phone number is stored in metadata
          metadata: {
            path: ['phoneNumber'],
            equals: phoneNumber
          }
        },
        include: {
          organization: true
        }
      }));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[129]++;
      return /* istanbul ignore next */(cov_2h48fpenaj().b[34][0]++, integration?.organization) ||
      /* istanbul ignore next */
      (cov_2h48fpenaj().b[34][1]++, null);
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[130]++;
      this.logger.error('Error finding organization by WhatsApp number:', error);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[131]++;
      return null;
    }
  }
  /**
   * Process automated responses
   */
  async processAutomatedResponse(organizationId, phoneNumber, messageBody) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[20]++;
    cov_2h48fpenaj().s[132]++;
    try {
      const body =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[133]++, messageBody?.toLowerCase().trim());
      /* istanbul ignore next */
      cov_2h48fpenaj().s[134]++;
      if (
      /* istanbul ignore next */
      (cov_2h48fpenaj().b[36][0]++, body === '/relatorio') ||
      /* istanbul ignore next */
      (cov_2h48fpenaj().b[36][1]++, body === '/report')) {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[35][0]++;
        cov_2h48fpenaj().s[135]++;
        await this.sendDailyReport(organizationId, phoneNumber);
      } else {
        /* istanbul ignore next */
        cov_2h48fpenaj().b[35][1]++;
        cov_2h48fpenaj().s[136]++;
        if (
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[38][0]++, body === '/ajuda') ||
        /* istanbul ignore next */
        (cov_2h48fpenaj().b[38][1]++, body === '/help')) {
          /* istanbul ignore next */
          cov_2h48fpenaj().b[37][0]++;
          cov_2h48fpenaj().s[137]++;
          await this.sendHelpMessage(organizationId, phoneNumber);
        } else
        /* istanbul ignore next */
        {
          cov_2h48fpenaj().b[37][1]++;
        }
      }
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[138]++;
      this.logger.error('Error processing automated response:', error);
    }
  }
  /**
   * Send daily report
   */
  async sendDailyReport(organizationId, phoneNumber) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[21]++;
    cov_2h48fpenaj().s[139]++;
    try {
      // Get yesterday's metrics
      const yesterday =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[140]++, new Date());
      /* istanbul ignore next */
      cov_2h48fpenaj().s[141]++;
      yesterday.setDate(yesterday.getDate() - 1);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[142]++;
      yesterday.setHours(0, 0, 0, 0);
      const today =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[143]++, new Date(yesterday));
      /* istanbul ignore next */
      cov_2h48fpenaj().s[144]++;
      today.setDate(today.getDate() + 1);
      // This would integrate with your existing metrics service
      const reportMessage =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[145]++, `📊 *Relatório Diário*\n\n` + `📅 Data: ${yesterday.toLocaleDateString('pt-BR')}\n` + `💰 Vendas: R$ 0,00\n` + `📈 Conversões: 0\n` + `💸 Gastos: R$ 0,00\n` + `🎯 ROI: 0%\n\n` + `Digite /ajuda para mais opções.`);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[146]++;
      await this.sendMessage(organizationId, {
        to: phoneNumber,
        body: reportMessage
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[147]++;
      this.logger.error('Error sending daily report:', error);
    }
  }
  /**
   * Send help message
   */
  async sendHelpMessage(organizationId, phoneNumber) {
    /* istanbul ignore next */
    cov_2h48fpenaj().f[22]++;
    cov_2h48fpenaj().s[148]++;
    try {
      const helpMessage =
      /* istanbul ignore next */
      (cov_2h48fpenaj().s[149]++, `🤖 *Comandos Disponíveis*\n\n` + `📊 /relatorio - Relatório do dia anterior\n` + `💡 /ajuda - Esta mensagem\n\n` + `Você também receberá:\n` + `🔔 Notificações de vendas\n` + `⚠️ Alertas de orçamento\n` + `📈 Relatórios diários às 9h`);
      /* istanbul ignore next */
      cov_2h48fpenaj().s[150]++;
      await this.sendMessage(organizationId, {
        to: phoneNumber,
        body: helpMessage
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_2h48fpenaj().s[151]++;
      this.logger.error('Error sending help message:', error);
    }
  }
});
/* istanbul ignore next */
cov_2h48fpenaj().s[152]++;
WhatsAppService = WhatsAppService_1 = __decorate([Injectable(), __param(3, InjectQueue('whatsapp')), __metadata("design:paramtypes", [typeof (_a =
/* istanbul ignore next */
(cov_2h48fpenaj().b[40][0]++, typeof ConfigService !== "undefined") &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[40][1]++, ConfigService)) === "function" ?
/* istanbul ignore next */
(cov_2h48fpenaj().b[39][0]++, _a) :
/* istanbul ignore next */
(cov_2h48fpenaj().b[39][1]++, Object), typeof (_b =
/* istanbul ignore next */
(cov_2h48fpenaj().b[42][0]++, typeof PrismaService !== "undefined") &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[42][1]++, PrismaService)) === "function" ?
/* istanbul ignore next */
(cov_2h48fpenaj().b[41][0]++, _b) :
/* istanbul ignore next */
(cov_2h48fpenaj().b[41][1]++, Object), typeof (_c =
/* istanbul ignore next */
(cov_2h48fpenaj().b[44][0]++, typeof CryptoService !== "undefined") &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[44][1]++, CryptoService)) === "function" ?
/* istanbul ignore next */
(cov_2h48fpenaj().b[43][0]++, _c) :
/* istanbul ignore next */
(cov_2h48fpenaj().b[43][1]++, Object), typeof (_d =
/* istanbul ignore next */
(cov_2h48fpenaj().b[46][0]++, typeof Queue !== "undefined") &&
/* istanbul ignore next */
(cov_2h48fpenaj().b[46][1]++, Queue)) === "function" ?
/* istanbul ignore next */
(cov_2h48fpenaj().b[45][0]++, _d) :
/* istanbul ignore next */
(cov_2h48fpenaj().b[45][1]++, Object)])], WhatsAppService);
export { WhatsAppService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmg0OGZwZW5haiIsImFjdHVhbENvdmVyYWdlIiwiSW5qZWN0YWJsZSIsIkxvZ2dlciIsIkJhZFJlcXVlc3RFeGNlcHRpb24iLCJDb25maWdTZXJ2aWNlIiwiUHJpc21hU2VydmljZSIsIkNyeXB0b1NlcnZpY2UiLCJUd2lsaW8iLCJRdWV1ZSIsIkluamVjdFF1ZXVlIiwiV2hhdHNBcHBTZXJ2aWNlIiwicyIsIldoYXRzQXBwU2VydmljZV8xIiwiY29uZmlnU2VydmljZSIsInByaXNtYSIsImNyeXB0b1NlcnZpY2UiLCJ3aGF0c2FwcFF1ZXVlIiwibG9nZ2VyIiwibmFtZSIsInR3aWxpb0NsaWVudCIsImRhaWx5TGltaXQiLCJjb25zdHJ1Y3RvciIsImYiLCJpbml0aWFsaXplVHdpbGlvIiwiYWNjb3VudFNpZCIsImdldCIsImF1dGhUb2tlbiIsImIiLCJ3YXJuIiwibG9nIiwic2VuZE1lc3NhZ2UiLCJvcmdhbml6YXRpb25JZCIsIm1lc3NhZ2UiLCJjYW5TZW5kIiwiY2hlY2tEYWlseUxpbWl0Iiwiam9iIiwiYWRkIiwiYXR0ZW1wdHMiLCJiYWNrb2ZmIiwidHlwZSIsImRlbGF5IiwiaWQiLCJzdWNjZXNzIiwibWVzc2FnZUlkIiwidG9TdHJpbmciLCJlcnJvciIsInByb2Nlc3NNZXNzYWdlIiwiRXJyb3IiLCJmcm9tTnVtYmVyIiwidHdpbGlvTWVzc2FnZSIsInRlbXBsYXRlTmFtZSIsIm1lc3NhZ2VzIiwiY3JlYXRlIiwiZnJvbSIsInRvIiwiY29udGVudFNpZCIsImNvbnRlbnRWYXJpYWJsZXMiLCJKU09OIiwic3RyaW5naWZ5IiwidGVtcGxhdGVQYXJhbXMiLCJtZXNzYWdlRGF0YSIsImJvZHkiLCJtZWRpYVVybCIsImxvZ01lc3NhZ2UiLCJ0d2lsaW9TaWQiLCJzaWQiLCJzdGF0dXMiLCJkaXJlY3Rpb24iLCJzZW5kQnJvYWRjYXN0IiwicmVjaXBpZW50cyIsImVycm9ycyIsInF1ZXVlZCIsInJlY2lwaWVudCIsInJlc3VsdCIsInB1c2giLCJsZW5ndGgiLCJnZXRUZW1wbGF0ZXMiLCJ0ZW1wbGF0ZXMiLCJ3aGF0c0FwcFRlbXBsYXRlIiwiZmluZE1hbnkiLCJ3aGVyZSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJtYXAiLCJ0ZW1wbGF0ZSIsImNhdGVnb3J5IiwibGFuZ3VhZ2UiLCJjb21wb25lbnRzIiwicGFyc2UiLCJjcmVhdGVUZW1wbGF0ZSIsImRhdGEiLCJnZXRDb252ZXJzYXRpb25zIiwibGltaXQiLCJvZmZzZXQiLCJjb252ZXJzYXRpb25zIiwid2hhdHNBcHBNZXNzYWdlIiwiZ3JvdXBCeSIsImJ5IiwiX2NvdW50IiwiX21heCIsInRha2UiLCJza2lwIiwiY29udmVyc2F0aW9uc1dpdGhNZXNzYWdlcyIsIlByb21pc2UiLCJhbGwiLCJjb252IiwibGF0ZXN0TWVzc2FnZSIsImZpbmRGaXJzdCIsInBob25lTnVtYmVyIiwibWVzc2FnZUNvdW50IiwibGFzdE1lc3NhZ2VBdCIsImxhc3RNZXNzYWdlIiwibGFzdE1lc3NhZ2VEaXJlY3Rpb24iLCJnZXRDb252ZXJzYXRpb25NZXNzYWdlcyIsImhhbmRsZVdlYmhvb2siLCJ3ZWJob29rRGF0YSIsIkZyb20iLCJUbyIsIkJvZHkiLCJNZXNzYWdlU2lkIiwiU21zU3RhdHVzIiwicmVwbGFjZSIsInRvTnVtYmVyIiwib3JnYW5pemF0aW9uIiwiZmluZE9yZ2FuaXphdGlvbkJ5V2hhdHNBcHBOdW1iZXIiLCJwcm9jZXNzQXV0b21hdGVkUmVzcG9uc2UiLCJnZXRNZXRyaWNzIiwidG9kYXkiLCJEYXRlIiwic2V0SG91cnMiLCJ0b21vcnJvdyIsInNldERhdGUiLCJnZXREYXRlIiwidG90YWxNZXNzYWdlcyIsInNlbnRUb2RheSIsInJlY2VpdmVkVG9kYXkiLCJmYWlsZWRUb2RheSIsImNvdW50IiwiZ3RlIiwibHQiLCJzZW50TWVzc2FnZXMiLCJyZWNlaXZlZE1lc3NhZ2VzIiwiZmFpbGVkTWVzc2FnZXMiLCJyZW1haW5pbmdRdW90YSIsIk1hdGgiLCJtYXgiLCJpbnRlZ3JhdGlvbiIsInBsYXRmb3JtIiwiaXNBY3RpdmUiLCJtZXRhZGF0YSIsInBhdGgiLCJlcXVhbHMiLCJpbmNsdWRlIiwibWVzc2FnZUJvZHkiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJzZW5kRGFpbHlSZXBvcnQiLCJzZW5kSGVscE1lc3NhZ2UiLCJ5ZXN0ZXJkYXkiLCJyZXBvcnRNZXNzYWdlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiaGVscE1lc3NhZ2UiLCJfX2RlY29yYXRlIiwiX19wYXJhbSIsIl9hIiwiT2JqZWN0IiwiX2IiLCJfYyIsIl9kIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxFbnpvIE1hcmNlbG9cXERlc2t0b3BcXFByb2pldG9zIEVtcHJlc2FcXFNhYXMgVXRtaWZ5XFx1dG1pZnktY2xvbmVcXGFwcHNcXGFwaVxcc3JjXFxzZXJ2aWNlc1xcd2hhdHNhcHAuc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBMb2dnZXIsIEJhZFJlcXVlc3RFeGNlcHRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDb25maWdTZXJ2aWNlIH0gZnJvbSAnQG5lc3Rqcy9jb25maWcnO1xuaW1wb3J0IHsgUHJpc21hU2VydmljZSB9IGZyb20gJy4uL2RhdGFiYXNlL3ByaXNtYS5zZXJ2aWNlJztcbmltcG9ydCB7IENyeXB0b1NlcnZpY2UgfSBmcm9tICcuL2NyeXB0by5zZXJ2aWNlJztcbmltcG9ydCB7IFR3aWxpbyB9IGZyb20gJ3R3aWxpbyc7XG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gJ2J1bGwnO1xuaW1wb3J0IHsgSW5qZWN0UXVldWUgfSBmcm9tICdAbmVzdGpzL2J1bGwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdoYXRzQXBwTWVzc2FnZSB7XG4gIHRvOiBzdHJpbmc7XG4gIGJvZHk/OiBzdHJpbmc7XG4gIG1lZGlhVXJsPzogc3RyaW5nO1xuICB0ZW1wbGF0ZU5hbWU/OiBzdHJpbmc7XG4gIHRlbXBsYXRlUGFyYW1zPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaGF0c0FwcFRlbXBsYXRlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBjYXRlZ29yeTogJ01BUktFVElORycgfCAnVVRJTElUWScgfCAnQVVUSEVOVElDQVRJT04nO1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICBjb21wb25lbnRzOiB7XG4gICAgdHlwZTogJ0hFQURFUicgfCAnQk9EWScgfCAnRk9PVEVSJyB8ICdCVVRUT05TJztcbiAgICB0ZXh0Pzogc3RyaW5nO1xuICAgIHBhcmFtZXRlcnM/OiBBcnJheTx7IHR5cGU6IHN0cmluZzsgdGV4dDogc3RyaW5nIH0+O1xuICB9W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2F0aW9uTWV0cmljcyB7XG4gIHRvdGFsTWVzc2FnZXM6IG51bWJlcjtcbiAgc2VudE1lc3NhZ2VzOiBudW1iZXI7XG4gIHJlY2VpdmVkTWVzc2FnZXM6IG51bWJlcjtcbiAgZmFpbGVkTWVzc2FnZXM6IG51bWJlcjtcbiAgZGFpbHlMaW1pdDogbnVtYmVyO1xuICByZW1haW5pbmdRdW90YTogbnVtYmVyO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgV2hhdHNBcHBTZXJ2aWNlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXIgPSBuZXcgTG9nZ2VyKFdoYXRzQXBwU2VydmljZS5uYW1lKTtcbiAgcHJpdmF0ZSB0d2lsaW9DbGllbnQ6IFR3aWxpbztcbiAgcHJpdmF0ZSByZWFkb25seSBkYWlseUxpbWl0ID0gMTAwMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbmZpZ1NlcnZpY2U6IENvbmZpZ1NlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcmlzbWE6IFByaXNtYVNlcnZpY2UsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjcnlwdG9TZXJ2aWNlOiBDcnlwdG9TZXJ2aWNlLFxuICAgIEBJbmplY3RRdWV1ZSgnd2hhdHNhcHAnKSBwcml2YXRlIHdoYXRzYXBwUXVldWU6IFF1ZXVlLFxuICApIHtcbiAgICB0aGlzLmluaXRpYWxpemVUd2lsaW8oKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZVR3aWxpbygpIHtcbiAgICBjb25zdCBhY2NvdW50U2lkID0gdGhpcy5jb25maWdTZXJ2aWNlLmdldDxzdHJpbmc+KCdUV0lMSU9fQUNDT1VOVF9TSUQnKTtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSB0aGlzLmNvbmZpZ1NlcnZpY2UuZ2V0PHN0cmluZz4oJ1RXSUxJT19BVVRIX1RPS0VOJyk7XG5cbiAgICBpZiAoIWFjY291bnRTaWQgfHwgIWF1dGhUb2tlbikge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignVHdpbGlvIGNyZWRlbnRpYWxzIG5vdCBjb25maWd1cmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy50d2lsaW9DbGllbnQgPSBuZXcgVHdpbGlvKGFjY291bnRTaWQsIGF1dGhUb2tlbik7XG4gICAgdGhpcy5sb2dnZXIubG9nKCdUd2lsaW8gV2hhdHNBcHAgY2xpZW50IGluaXRpYWxpemVkJyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBXaGF0c0FwcCBtZXNzYWdlXG4gICAqL1xuICBhc3luYyBzZW5kTWVzc2FnZShcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIG1lc3NhZ2U6IFdoYXRzQXBwTWVzc2FnZSxcbiAgKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IG1lc3NhZ2VJZD86IHN0cmluZzsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBkYWlseSBsaW1pdFxuICAgICAgY29uc3QgY2FuU2VuZCA9IGF3YWl0IHRoaXMuY2hlY2tEYWlseUxpbWl0KG9yZ2FuaXphdGlvbklkKTtcbiAgICAgIGlmICghY2FuU2VuZCkge1xuICAgICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbignRGFpbHkgbWVzc2FnZSBsaW1pdCBleGNlZWRlZCAoMTAwMCBtZXNzYWdlcyknKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRvIHF1ZXVlIGZvciByYXRlIGxpbWl0aW5nXG4gICAgICBjb25zdCBqb2IgPSBhd2FpdCB0aGlzLndoYXRzYXBwUXVldWUuYWRkKCdzZW5kLW1lc3NhZ2UnLCB7XG4gICAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgfSwge1xuICAgICAgICBhdHRlbXB0czogMyxcbiAgICAgICAgYmFja29mZjoge1xuICAgICAgICAgIHR5cGU6ICdleHBvbmVudGlhbCcsXG4gICAgICAgICAgZGVsYXk6IDIwMDAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sb2dnZXIubG9nKGBNZXNzYWdlIHF1ZXVlZCBmb3Igc2VuZGluZzogJHtqb2IuaWR9YCk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlSWQ6IGpvYi5pZC50b1N0cmluZygpIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBzZW5kaW5nIFdoYXRzQXBwIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgbWVzc2FnZSBmcm9tIHF1ZXVlXG4gICAqL1xuICBhc3luYyBwcm9jZXNzTWVzc2FnZShcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIG1lc3NhZ2U6IFdoYXRzQXBwTWVzc2FnZSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy50d2lsaW9DbGllbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUd2lsaW8gY2xpZW50IG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmcm9tTnVtYmVyID0gdGhpcy5jb25maWdTZXJ2aWNlLmdldDxzdHJpbmc+KCdUV0lMSU9fV0hBVFNBUFBfTlVNQkVSJyk7XG4gICAgICBpZiAoIWZyb21OdW1iZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUd2lsaW8gV2hhdHNBcHAgbnVtYmVyIG5vdCBjb25maWd1cmVkJyk7XG4gICAgICB9XG5cbiAgICAgIGxldCB0d2lsaW9NZXNzYWdlO1xuXG4gICAgICBpZiAobWVzc2FnZS50ZW1wbGF0ZU5hbWUpIHtcbiAgICAgICAgLy8gU2VuZCB0ZW1wbGF0ZSBtZXNzYWdlXG4gICAgICAgIHR3aWxpb01lc3NhZ2UgPSBhd2FpdCB0aGlzLnR3aWxpb0NsaWVudC5tZXNzYWdlcy5jcmVhdGUoe1xuICAgICAgICAgIGZyb206IGB3aGF0c2FwcDoke2Zyb21OdW1iZXJ9YCxcbiAgICAgICAgICB0bzogYHdoYXRzYXBwOiR7bWVzc2FnZS50b31gLFxuICAgICAgICAgIGNvbnRlbnRTaWQ6IG1lc3NhZ2UudGVtcGxhdGVOYW1lLFxuICAgICAgICAgIGNvbnRlbnRWYXJpYWJsZXM6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UudGVtcGxhdGVQYXJhbXMgfHwge30pLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNlbmQgcmVndWxhciBtZXNzYWdlXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VEYXRhOiBhbnkgPSB7XG4gICAgICAgICAgZnJvbTogYHdoYXRzYXBwOiR7ZnJvbU51bWJlcn1gLFxuICAgICAgICAgIHRvOiBgd2hhdHNhcHA6JHttZXNzYWdlLnRvfWAsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keSkge1xuICAgICAgICAgIG1lc3NhZ2VEYXRhLmJvZHkgPSBtZXNzYWdlLmJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVzc2FnZS5tZWRpYVVybCkge1xuICAgICAgICAgIG1lc3NhZ2VEYXRhLm1lZGlhVXJsID0gW21lc3NhZ2UubWVkaWFVcmxdO1xuICAgICAgICB9XG5cbiAgICAgICAgdHdpbGlvTWVzc2FnZSA9IGF3YWl0IHRoaXMudHdpbGlvQ2xpZW50Lm1lc3NhZ2VzLmNyZWF0ZShtZXNzYWdlRGF0YSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExvZyBtZXNzYWdlIGluIGRhdGFiYXNlXG4gICAgICBhd2FpdCB0aGlzLmxvZ01lc3NhZ2Uob3JnYW5pemF0aW9uSWQsIHtcbiAgICAgICAgdHdpbGlvU2lkOiB0d2lsaW9NZXNzYWdlLnNpZCxcbiAgICAgICAgdG86IG1lc3NhZ2UudG8sXG4gICAgICAgIGJvZHk6IG1lc3NhZ2UuYm9keSxcbiAgICAgICAgdGVtcGxhdGVOYW1lOiBtZXNzYWdlLnRlbXBsYXRlTmFtZSxcbiAgICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgICAgIGRpcmVjdGlvbjogJ291dGJvdW5kJyxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxvZ2dlci5sb2coYFdoYXRzQXBwIG1lc3NhZ2Ugc2VudCBzdWNjZXNzZnVsbHk6ICR7dHdpbGlvTWVzc2FnZS5zaWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIFdoYXRzQXBwIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBMb2cgZmFpbGVkIG1lc3NhZ2VcbiAgICAgIGF3YWl0IHRoaXMubG9nTWVzc2FnZShvcmdhbml6YXRpb25JZCwge1xuICAgICAgICB0bzogbWVzc2FnZS50byxcbiAgICAgICAgYm9keTogbWVzc2FnZS5ib2R5LFxuICAgICAgICB0ZW1wbGF0ZU5hbWU6IG1lc3NhZ2UudGVtcGxhdGVOYW1lLFxuICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICBkaXJlY3Rpb246ICdvdXRib3VuZCcsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgfSk7XG5cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGJyb2FkY2FzdCBtZXNzYWdlIHRvIG11bHRpcGxlIHJlY2lwaWVudHNcbiAgICovXG4gIGFzeW5jIHNlbmRCcm9hZGNhc3QoXG4gICAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZyxcbiAgICByZWNpcGllbnRzOiBzdHJpbmdbXSxcbiAgICBtZXNzYWdlOiBPbWl0PFdoYXRzQXBwTWVzc2FnZSwgJ3RvJz4sXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBxdWV1ZWQ6IG51bWJlcjsgZXJyb3JzOiBzdHJpbmdbXSB9PiB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBxdWV1ZWQgPSAwO1xuXG4gICAgZm9yIChjb25zdCByZWNpcGllbnQgb2YgcmVjaXBpZW50cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5zZW5kTWVzc2FnZShvcmdhbml6YXRpb25JZCwge1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgdG86IHJlY2lwaWVudCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgcXVldWVkKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goYCR7cmVjaXBpZW50fTogJHtyZXN1bHQuZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGAke3JlY2lwaWVudH06ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICAgIHF1ZXVlZCxcbiAgICAgIGVycm9ycyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBtZXNzYWdlIHRlbXBsYXRlc1xuICAgKi9cbiAgYXN5bmMgZ2V0VGVtcGxhdGVzKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPFdoYXRzQXBwVGVtcGxhdGVbXT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgdGVtcGxhdGVzIGZyb20gZGF0YWJhc2VcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IGF3YWl0IHRoaXMucHJpc21hLndoYXRzQXBwVGVtcGxhdGUuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBvcmdhbml6YXRpb25JZCB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRlbXBsYXRlcy5tYXAodGVtcGxhdGUgPT4gKHtcbiAgICAgICAgbmFtZTogdGVtcGxhdGUubmFtZSxcbiAgICAgICAgY2F0ZWdvcnk6IHRlbXBsYXRlLmNhdGVnb3J5IGFzIGFueSxcbiAgICAgICAgbGFuZ3VhZ2U6IHRlbXBsYXRlLmxhbmd1YWdlLFxuICAgICAgICBjb21wb25lbnRzOiBKU09OLnBhcnNlKHRlbXBsYXRlLmNvbXBvbmVudHMpLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgV2hhdHNBcHAgdGVtcGxhdGVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVRlbXBsYXRlKFxuICAgIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4gICAgdGVtcGxhdGU6IFdoYXRzQXBwVGVtcGxhdGUsXG4gICk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucHJpc21hLndoYXRzQXBwVGVtcGxhdGUuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgICAgIG5hbWU6IHRlbXBsYXRlLm5hbWUsXG4gICAgICAgICAgY2F0ZWdvcnk6IHRlbXBsYXRlLmNhdGVnb3J5LFxuICAgICAgICAgIGxhbmd1YWdlOiB0ZW1wbGF0ZS5sYW5ndWFnZSxcbiAgICAgICAgICBjb21wb25lbnRzOiBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZS5jb21wb25lbnRzKSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxvZ2dlci5sb2coYFdoYXRzQXBwIHRlbXBsYXRlIGNyZWF0ZWQ6ICR7dGVtcGxhdGUubmFtZX1gKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIFdoYXRzQXBwIHRlbXBsYXRlOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29udmVyc2F0aW9uc1xuICAgKi9cbiAgYXN5bmMgZ2V0Q29udmVyc2F0aW9ucyhcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIGxpbWl0ID0gNTAsXG4gICAgb2Zmc2V0ID0gMCxcbiAgKTogUHJvbWlzZTxhbnlbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb252ZXJzYXRpb25zID0gYXdhaXQgdGhpcy5wcmlzbWEud2hhdHNBcHBNZXNzYWdlLmdyb3VwQnkoe1xuICAgICAgICBieTogWydwaG9uZU51bWJlciddLFxuICAgICAgICB3aGVyZTogeyBvcmdhbml6YXRpb25JZCB9LFxuICAgICAgICBfY291bnQ6IHsgaWQ6IHRydWUgfSxcbiAgICAgICAgX21heDogeyBjcmVhdGVkQXQ6IHRydWUgfSxcbiAgICAgICAgb3JkZXJCeTogeyBfbWF4OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0gfSxcbiAgICAgICAgdGFrZTogbGltaXQsXG4gICAgICAgIHNraXA6IG9mZnNldCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZXQgbGF0ZXN0IG1lc3NhZ2UgZm9yIGVhY2ggY29udmVyc2F0aW9uXG4gICAgICBjb25zdCBjb252ZXJzYXRpb25zV2l0aE1lc3NhZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGNvbnZlcnNhdGlvbnMubWFwKGFzeW5jIChjb252KSA9PiB7XG4gICAgICAgICAgY29uc3QgbGF0ZXN0TWVzc2FnZSA9IGF3YWl0IHRoaXMucHJpc21hLndoYXRzQXBwTWVzc2FnZS5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgICAgIHBob25lTnVtYmVyOiBjb252LnBob25lTnVtYmVyLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaG9uZU51bWJlcjogY29udi5waG9uZU51bWJlcixcbiAgICAgICAgICAgIG1lc3NhZ2VDb3VudDogY29udi5fY291bnQuaWQsXG4gICAgICAgICAgICBsYXN0TWVzc2FnZUF0OiBjb252Ll9tYXguY3JlYXRlZEF0LFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2U6IGxhdGVzdE1lc3NhZ2U/LmJvZHkgfHwgbGF0ZXN0TWVzc2FnZT8udGVtcGxhdGVOYW1lLFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VEaXJlY3Rpb246IGxhdGVzdE1lc3NhZ2U/LmRpcmVjdGlvbixcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBjb252ZXJzYXRpb25zV2l0aE1lc3NhZ2VzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29udmVyc2F0aW9uczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb252ZXJzYXRpb24gbWVzc2FnZXNcbiAgICovXG4gIGFzeW5jIGdldENvbnZlcnNhdGlvbk1lc3NhZ2VzKFxuICAgIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgICBsaW1pdCA9IDUwLFxuICAgIG9mZnNldCA9IDAsXG4gICk6IFByb21pc2U8YW55W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCB0aGlzLnByaXNtYS53aGF0c0FwcE1lc3NhZ2UuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgICAgIHBob25lTnVtYmVyLFxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIHRha2U6IGxpbWl0LFxuICAgICAgICBza2lwOiBvZmZzZXQsXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29udmVyc2F0aW9uIG1lc3NhZ2VzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGluY29taW5nIHdlYmhvb2tcbiAgICovXG4gIGFzeW5jIGhhbmRsZVdlYmhvb2sod2ViaG9va0RhdGE6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IEZyb20sIFRvLCBCb2R5LCBNZXNzYWdlU2lkLCBTbXNTdGF0dXMgfSA9IHdlYmhvb2tEYXRhO1xuICAgICAgXG4gICAgICBpZiAoIUZyb20gfHwgIU1lc3NhZ2VTaWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybignSW52YWxpZCB3ZWJob29rIGRhdGEgcmVjZWl2ZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBFeHRyYWN0IHBob25lIG51bWJlciAocmVtb3ZlIHdoYXRzYXBwOiBwcmVmaXgpXG4gICAgICBjb25zdCBwaG9uZU51bWJlciA9IEZyb20ucmVwbGFjZSgnd2hhdHNhcHA6JywgJycpO1xuICAgICAgY29uc3QgdG9OdW1iZXIgPSBUbz8ucmVwbGFjZSgnd2hhdHNhcHA6JywgJycpO1xuXG4gICAgICAvLyBGaW5kIG9yZ2FuaXphdGlvbiBieSBXaGF0c0FwcCBudW1iZXJcbiAgICAgIGNvbnN0IG9yZ2FuaXphdGlvbiA9IGF3YWl0IHRoaXMuZmluZE9yZ2FuaXphdGlvbkJ5V2hhdHNBcHBOdW1iZXIodG9OdW1iZXIpO1xuICAgICAgaWYgKCFvcmdhbml6YXRpb24pIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgTm8gb3JnYW5pemF0aW9uIGZvdW5kIGZvciBXaGF0c0FwcCBudW1iZXI6ICR7dG9OdW1iZXJ9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTG9nIGluY29taW5nIG1lc3NhZ2VcbiAgICAgIGF3YWl0IHRoaXMubG9nTWVzc2FnZShvcmdhbml6YXRpb24uaWQsIHtcbiAgICAgICAgdHdpbGlvU2lkOiBNZXNzYWdlU2lkLFxuICAgICAgICBwaG9uZU51bWJlcixcbiAgICAgICAgYm9keTogQm9keSxcbiAgICAgICAgc3RhdHVzOiBTbXNTdGF0dXMgfHwgJ3JlY2VpdmVkJyxcbiAgICAgICAgZGlyZWN0aW9uOiAnaW5ib3VuZCcsXG4gICAgICB9KTtcblxuICAgICAgLy8gUHJvY2VzcyBhdXRvbWF0ZWQgcmVzcG9uc2VzXG4gICAgICBhd2FpdCB0aGlzLnByb2Nlc3NBdXRvbWF0ZWRSZXNwb25zZShvcmdhbml6YXRpb24uaWQsIHBob25lTnVtYmVyLCBCb2R5KTtcblxuICAgICAgdGhpcy5sb2dnZXIubG9nKGBXZWJob29rIHByb2Nlc3NlZCBmb3IgbWVzc2FnZTogJHtNZXNzYWdlU2lkfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBXaGF0c0FwcCB3ZWJob29rOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNvbnZlcnNhdGlvbiBtZXRyaWNzXG4gICAqL1xuICBhc3luYyBnZXRNZXRyaWNzKG9yZ2FuaXphdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPENvbnZlcnNhdGlvbk1ldHJpY3M+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKHRvZGF5KTtcbiAgICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG5cbiAgICAgIGNvbnN0IFt0b3RhbE1lc3NhZ2VzLCBzZW50VG9kYXksIHJlY2VpdmVkVG9kYXksIGZhaWxlZFRvZGF5XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgdGhpcy5wcmlzbWEud2hhdHNBcHBNZXNzYWdlLmNvdW50KHtcbiAgICAgICAgICB3aGVyZTogeyBvcmdhbml6YXRpb25JZCB9LFxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5wcmlzbWEud2hhdHNBcHBNZXNzYWdlLmNvdW50KHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdvdXRib3VuZCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdzZW50JyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgICBndGU6IHRvZGF5LFxuICAgICAgICAgICAgICBsdDogdG9tb3Jyb3csXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICB0aGlzLnByaXNtYS53aGF0c0FwcE1lc3NhZ2UuY291bnQoe1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBvcmdhbml6YXRpb25JZCxcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2luYm91bmQnLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgIGd0ZTogdG9kYXksXG4gICAgICAgICAgICAgIGx0OiB0b21vcnJvdyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMucHJpc21hLndoYXRzQXBwTWVzc2FnZS5jb3VudCh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbklkLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnb3V0Ym91bmQnLFxuICAgICAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgICBndGU6IHRvZGF5LFxuICAgICAgICAgICAgICBsdDogdG9tb3Jyb3csXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgXSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsTWVzc2FnZXMsXG4gICAgICAgIHNlbnRNZXNzYWdlczogc2VudFRvZGF5LFxuICAgICAgICByZWNlaXZlZE1lc3NhZ2VzOiByZWNlaXZlZFRvZGF5LFxuICAgICAgICBmYWlsZWRNZXNzYWdlczogZmFpbGVkVG9kYXksXG4gICAgICAgIGRhaWx5TGltaXQ6IHRoaXMuZGFpbHlMaW1pdCxcbiAgICAgICAgcmVtYWluaW5nUXVvdGE6IE1hdGgubWF4KDAsIHRoaXMuZGFpbHlMaW1pdCAtIHNlbnRUb2RheSksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgV2hhdHNBcHAgbWV0cmljczonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbE1lc3NhZ2VzOiAwLFxuICAgICAgICBzZW50TWVzc2FnZXM6IDAsXG4gICAgICAgIHJlY2VpdmVkTWVzc2FnZXM6IDAsXG4gICAgICAgIGZhaWxlZE1lc3NhZ2VzOiAwLFxuICAgICAgICBkYWlseUxpbWl0OiB0aGlzLmRhaWx5TGltaXQsXG4gICAgICAgIHJlbWFpbmluZ1F1b3RhOiB0aGlzLmRhaWx5TGltaXQsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBkYWlseSBzZW5kaW5nIGxpbWl0XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNoZWNrRGFpbHlMaW1pdChvcmdhbml6YXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIHRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkpO1xuICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XG5cbiAgICBjb25zdCBzZW50VG9kYXkgPSBhd2FpdCB0aGlzLnByaXNtYS53aGF0c0FwcE1lc3NhZ2UuY291bnQoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgIGRpcmVjdGlvbjogJ291dGJvdW5kJyxcbiAgICAgICAgc3RhdHVzOiAnc2VudCcsXG4gICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgIGd0ZTogdG9kYXksXG4gICAgICAgICAgbHQ6IHRvbW9ycm93LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBzZW50VG9kYXkgPCB0aGlzLmRhaWx5TGltaXQ7XG4gIH1cblxuICAvKipcbiAgICogTG9nIG1lc3NhZ2UgaW4gZGF0YWJhc2VcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgbG9nTWVzc2FnZShcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIG1lc3NhZ2VEYXRhOiB7XG4gICAgICB0d2lsaW9TaWQ/OiBzdHJpbmc7XG4gICAgICBwaG9uZU51bWJlcj86IHN0cmluZztcbiAgICAgIHRvPzogc3RyaW5nO1xuICAgICAgYm9keT86IHN0cmluZztcbiAgICAgIHRlbXBsYXRlTmFtZT86IHN0cmluZztcbiAgICAgIHN0YXR1czogc3RyaW5nO1xuICAgICAgZGlyZWN0aW9uOiAnaW5ib3VuZCcgfCAnb3V0Ym91bmQnO1xuICAgICAgZXJyb3I/OiBzdHJpbmc7XG4gICAgfSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucHJpc21hLndoYXRzQXBwTWVzc2FnZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgdHdpbGlvU2lkOiBtZXNzYWdlRGF0YS50d2lsaW9TaWQsXG4gICAgICAgICAgcGhvbmVOdW1iZXI6IG1lc3NhZ2VEYXRhLnBob25lTnVtYmVyIHx8IG1lc3NhZ2VEYXRhLnRvLFxuICAgICAgICAgIGJvZHk6IG1lc3NhZ2VEYXRhLmJvZHksXG4gICAgICAgICAgdGVtcGxhdGVOYW1lOiBtZXNzYWdlRGF0YS50ZW1wbGF0ZU5hbWUsXG4gICAgICAgICAgc3RhdHVzOiBtZXNzYWdlRGF0YS5zdGF0dXMsXG4gICAgICAgICAgZGlyZWN0aW9uOiBtZXNzYWdlRGF0YS5kaXJlY3Rpb24sXG4gICAgICAgICAgZXJyb3I6IG1lc3NhZ2VEYXRhLmVycm9yLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdFcnJvciBsb2dnaW5nIFdoYXRzQXBwIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIG9yZ2FuaXphdGlvbiBieSBXaGF0c0FwcCBudW1iZXJcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmluZE9yZ2FuaXphdGlvbkJ5V2hhdHNBcHBOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbnRlZ3JhdGlvbiA9IGF3YWl0IHRoaXMucHJpc21hLmludGVncmF0aW9uLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgcGxhdGZvcm06ICd3aGF0c2FwcCcsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgLy8gQXNzdW1pbmcgcGhvbmUgbnVtYmVyIGlzIHN0b3JlZCBpbiBtZXRhZGF0YVxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBwYXRoOiBbJ3Bob25lTnVtYmVyJ10sXG4gICAgICAgICAgICBlcXVhbHM6IHBob25lTnVtYmVyLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBvcmdhbml6YXRpb246IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGludGVncmF0aW9uPy5vcmdhbml6YXRpb24gfHwgbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGZpbmRpbmcgb3JnYW5pemF0aW9uIGJ5IFdoYXRzQXBwIG51bWJlcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBhdXRvbWF0ZWQgcmVzcG9uc2VzXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHByb2Nlc3NBdXRvbWF0ZWRSZXNwb25zZShcbiAgICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgbWVzc2FnZUJvZHk6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJvZHkgPSBtZXNzYWdlQm9keT8udG9Mb3dlckNhc2UoKS50cmltKCk7XG5cbiAgICAgIGlmIChib2R5ID09PSAnL3JlbGF0b3JpbycgfHwgYm9keSA9PT0gJy9yZXBvcnQnKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZERhaWx5UmVwb3J0KG9yZ2FuaXphdGlvbklkLCBwaG9uZU51bWJlcik7XG4gICAgICB9IGVsc2UgaWYgKGJvZHkgPT09ICcvYWp1ZGEnIHx8IGJvZHkgPT09ICcvaGVscCcpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kSGVscE1lc3NhZ2Uob3JnYW5pemF0aW9uSWQsIHBob25lTnVtYmVyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgYXV0b21hdGVkIHJlc3BvbnNlOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBkYWlseSByZXBvcnRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2VuZERhaWx5UmVwb3J0KFxuICAgIG9yZ2FuaXphdGlvbklkOiBzdHJpbmcsXG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB5ZXN0ZXJkYXkncyBtZXRyaWNzXG4gICAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpO1xuICAgICAgeWVzdGVyZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSh5ZXN0ZXJkYXkpO1xuICAgICAgdG9kYXkuc2V0RGF0ZSh0b2RheS5nZXREYXRlKCkgKyAxKTtcblxuICAgICAgLy8gVGhpcyB3b3VsZCBpbnRlZ3JhdGUgd2l0aCB5b3VyIGV4aXN0aW5nIG1ldHJpY3Mgc2VydmljZVxuICAgICAgY29uc3QgcmVwb3J0TWVzc2FnZSA9IGDwn5OKICpSZWxhdMOzcmlvIERpw6FyaW8qXFxuXFxuYCArXG4gICAgICAgIGDwn5OFIERhdGE6ICR7eWVzdGVyZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygncHQtQlInKX1cXG5gICtcbiAgICAgICAgYPCfkrAgVmVuZGFzOiBSJCAwLDAwXFxuYCArXG4gICAgICAgIGDwn5OIIENvbnZlcnPDtWVzOiAwXFxuYCArXG4gICAgICAgIGDwn5K4IEdhc3RvczogUiQgMCwwMFxcbmAgK1xuICAgICAgICBg8J+OryBST0k6IDAlXFxuXFxuYCArXG4gICAgICAgIGBEaWdpdGUgL2FqdWRhIHBhcmEgbWFpcyBvcMOnw7Vlcy5gO1xuXG4gICAgICBhd2FpdCB0aGlzLnNlbmRNZXNzYWdlKG9yZ2FuaXphdGlvbklkLCB7XG4gICAgICAgIHRvOiBwaG9uZU51bWJlcixcbiAgICAgICAgYm9keTogcmVwb3J0TWVzc2FnZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRXJyb3Igc2VuZGluZyBkYWlseSByZXBvcnQ6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGhlbHAgbWVzc2FnZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzZW5kSGVscE1lc3NhZ2UoXG4gICAgb3JnYW5pemF0aW9uSWQ6IHN0cmluZyxcbiAgICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVscE1lc3NhZ2UgPSBg8J+kliAqQ29tYW5kb3MgRGlzcG9uw612ZWlzKlxcblxcbmAgK1xuICAgICAgICBg8J+TiiAvcmVsYXRvcmlvIC0gUmVsYXTDs3JpbyBkbyBkaWEgYW50ZXJpb3JcXG5gICtcbiAgICAgICAgYPCfkqEgL2FqdWRhIC0gRXN0YSBtZW5zYWdlbVxcblxcbmAgK1xuICAgICAgICBgVm9jw6ogdGFtYsOpbSByZWNlYmVyw6E6XFxuYCArXG4gICAgICAgIGDwn5SUIE5vdGlmaWNhw6fDtWVzIGRlIHZlbmRhc1xcbmAgK1xuICAgICAgICBg4pqg77iPIEFsZXJ0YXMgZGUgb3LDp2FtZW50b1xcbmAgK1xuICAgICAgICBg8J+TiCBSZWxhdMOzcmlvcyBkacOhcmlvcyDDoHMgOWhgO1xuXG4gICAgICBhd2FpdCB0aGlzLnNlbmRNZXNzYWdlKG9yZ2FuaXphdGlvbklkLCB7XG4gICAgICAgIHRvOiBwaG9uZU51bWJlcixcbiAgICAgICAgYm9keTogaGVscE1lc3NhZ2UsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgaGVscCBtZXNzYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQ1M7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQURULFNBQVNFLFVBQVUsRUFBRUMsTUFBTSxFQUFF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Y0FBYyxFQUFFO1FBQ3JDdUIsRUFBRSxFQUFFc0QsV0FBVztRQUNmL0MsSUFBSSxFQUFFb0c7T0FDUCxDQUFDO0lBQ0osQ0FBQyxDQUFDLE9BQU9wSCxLQUFLLEVBQUU7TUFBQTtNQUFBOUMsY0FBQSxHQUFBWSxDQUFBO01BQ2QsSUFBSSxDQUFDTSxNQUFNLENBQUM0QixLQUFLLENBQUMsNkJBQTZCLEVBQUVBLEtBQUssQ0FBQztJQUN6RDtFQUNGO0NBQ0Q7QUFBQTtBQUFBOUMsY0FBQSxHQUFBWSxDQUFBO0FBcmpCWUQsZUFBZSxHQUFBRSxpQkFBQSxHQUFBc0osVUFBQSxFQUQzQmpLLFVBQVUsRUFBRSxFQVVSa0ssT0FBQSxJQUFBMUosV0FBVyxDQUFDLFVBQVUsQ0FBQyxHOztxQ0FIUUwsYUFBYTtBQUFBO0FBQUEsQ0FBQUwsY0FBQSxHQUFBNEIsQ0FBQSxXQUFidkIsYUFBYTtBQUFBO0FBQUEsQ0FBQUwsY0FBQSxHQUFBNEIsQ0FBQSxXQUFBeUksRUFBQTtBQUFBO0FBQUEsQ0FBQXJLLGNBQUEsR0FBQTRCLENBQUEsV0FBQTBJLE1BQUEsV0FBQUMsRUFBQTtBQUFBO0FBQUEsQ0FBQXZLLGNBQUEsR0FBQTRCLENBQUEsa0JBQ3BCdEIsYUFBYTtBQUFBO0FBQUEsQ0FBQU4sY0FBQSxHQUFBNEIsQ0FBQSxXQUFidEIsYUFBYTtBQUFBO0FBQUEsQ0FBQU4sY0FBQSxHQUFBNEIsQ0FBQSxXQUFBMkksRUFBQTtBQUFBO0FBQUEsQ0FBQXZLLGNBQUEsR0FBQTRCLENBQUEsV0FBQTBJLE1BQUEsV0FBQUUsRUFBQTtBQUFBO0FBQUEsQ0FBQXhLLGNBQUEsR0FBQTRCLENBQUEsa0JBQ05yQixhQUFhO0FBQUE7QUFBQSxDQUFBUCxjQUFBLEdBQUE0QixDQUFBLFdBQWJyQixhQUFhO0FBQUE7QUFBQSxDQUFBUCxjQUFBLEdBQUE0QixDQUFBLFdBQUE0SSxFQUFBO0FBQUE7QUFBQSxDQUFBeEssY0FBQSxHQUFBNEIsQ0FBQSxXQUFBMEksTUFBQSxXQUFBRyxFQUFBO0FBQUE7QUFBQSxDQUFBekssY0FBQSxHQUFBNEIsQ0FBQSxrQkFDR25CLEtBQUs7QUFBQTtBQUFBLENBQUFULGNBQUEsR0FBQTRCLENBQUEsV0FBTG5CLEtBQUs7QUFBQTtBQUFBLENBQUFULGNBQUEsR0FBQTRCLENBQUEsV0FBQTZJLEVBQUE7QUFBQTtBQUFBLENBQUF6SyxjQUFBLEdBQUE0QixDQUFBLFdBQUEwSSxNQUFBLEksRUFUNUMzSixlQUFlLENBcWpCM0IiLCJpZ25vcmVMaXN0IjpbXX0=