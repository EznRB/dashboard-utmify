7c9a01e7aa0dae406ad4095667466fcc
/* istanbul ignore next */
function cov_r9zfrkqas() {
  var path = "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\auth.service.ts";
  var hash = "087b14ed1e91ee3135159ac5c6487864680aa96c";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\auth.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 23
        }
      },
      "1": {
        start: {
          line: 14,
          column: 24
        },
        end: {
          line: 20,
          column: 9
        }
      },
      "2": {
        start: {
          line: 21,
          column: 31
        },
        end: {
          line: 21,
          column: 39
        }
      },
      "3": {
        start: {
          line: 22,
          column: 31
        },
        end: {
          line: 26,
          column: 9
        }
      },
      "4": {
        start: {
          line: 28,
          column: 28
        },
        end: {
          line: 30,
          column: 10
        }
      },
      "5": {
        start: {
          line: 32,
          column: 29
        },
        end: {
          line: 35,
          column: 10
        }
      },
      "6": {
        start: {
          line: 49,
          column: 26
        },
        end: {
          line: 49,
          column: 33
        }
      },
      "7": {
        start: {
          line: 50,
          column: 8
        },
        end: {
          line: 54,
          column: 10
        }
      },
      "8": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 100,
          column: 9
        }
      },
      "9": {
        start: {
          line: 60,
          column: 28
        },
        end: {
          line: 62,
          column: 14
        }
      },
      "10": {
        start: {
          line: 74,
          column: 25
        },
        end: {
          line: 77,
          column: 14
        }
      },
      "11": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 80,
          column: 13
        }
      },
      "12": {
        start: {
          line: 79,
          column: 16
        },
        end: {
          line: 79,
          column: 88
        }
      },
      "13": {
        start: {
          line: 82,
          column: 28
        },
        end: {
          line: 84,
          column: 14
        }
      },
      "14": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 87,
          column: 13
        }
      },
      "15": {
        start: {
          line: 86,
          column: 16
        },
        end: {
          line: 86,
          column: 78
        }
      },
      "16": {
        start: {
          line: 89,
          column: 30
        },
        end: {
          line: 89,
          column: 80
        }
      },
      "17": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 91,
          column: 54
        }
      },
      "18": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 92,
          column: 60
        }
      },
      "19": {
        start: {
          line: 93,
          column: 12
        },
        end: {
          line: 93,
          column: 29
        }
      },
      "20": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 98,
          column: 13
        }
      },
      "21": {
        start: {
          line: 97,
          column: 16
        },
        end: {
          line: 97,
          column: 28
        }
      },
      "22": {
        start: {
          line: 99,
          column: 12
        },
        end: {
          line: 99,
          column: 86
        }
      },
      "23": {
        start: {
          line: 105,
          column: 21
        },
        end: {
          line: 108,
          column: 10
        }
      },
      "24": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 112,
          column: 9
        }
      },
      "25": {
        start: {
          line: 110,
          column: 12
        },
        end: {
          line: 110,
          column: 65
        }
      },
      "26": {
        start: {
          line: 111,
          column: 12
        },
        end: {
          line: 111,
          column: 82
        }
      },
      "27": {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 117,
          column: 9
        }
      },
      "28": {
        start: {
          line: 115,
          column: 12
        },
        end: {
          line: 115,
          column: 72
        }
      },
      "29": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 116,
          column: 79
        }
      },
      "30": {
        start: {
          line: 119,
          column: 32
        },
        end: {
          line: 119,
          column: 77
        }
      },
      "31": {
        start: {
          line: 120,
          column: 8
        },
        end: {
          line: 123,
          column: 9
        }
      },
      "32": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 121,
          column: 63
        }
      },
      "33": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 122,
          column: 82
        }
      },
      "34": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "35": {
        start: {
          line: 126,
          column: 12
        },
        end: {
          line: 126,
          column: 76
        }
      },
      "36": {
        start: {
          line: 127,
          column: 12
        },
        end: {
          line: 127,
          column: 89
        }
      },
      "37": {
        start: {
          line: 130,
          column: 26
        },
        end: {
          line: 130,
          column: 34
        }
      },
      "38": {
        start: {
          line: 131,
          column: 26
        },
        end: {
          line: 131,
          column: 36
        }
      },
      "39": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 51
        }
      },
      "40": {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 140,
          column: 11
        }
      },
      "41": {
        start: {
          line: 142,
          column: 8
        },
        end: {
          line: 145,
          column: 11
        }
      },
      "42": {
        start: {
          line: 147,
          column: 23
        },
        end: {
          line: 147,
          column: 65
        }
      },
      "43": {
        start: {
          line: 148,
          column: 8
        },
        end: {
          line: 148,
          column: 53
        }
      },
      "44": {
        start: {
          line: 150,
          column: 45
        },
        end: {
          line: 150,
          column: 49
        }
      },
      "45": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 155,
          column: 10
        }
      },
      "46": {
        start: {
          line: 159,
          column: 60
        },
        end: {
          line: 159,
          column: 64
        }
      },
      "47": {
        start: {
          line: 161,
          column: 29
        },
        end: {
          line: 163,
          column: 10
        }
      },
      "48": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 166,
          column: 9
        }
      },
      "49": {
        start: {
          line: 165,
          column: 12
        },
        end: {
          line: 165,
          column: 84
        }
      },
      "50": {
        start: {
          line: 168,
          column: 25
        },
        end: {
          line: 172,
          column: 29
        }
      },
      "51": {
        start: {
          line: 173,
          column: 19
        },
        end: {
          line: 173,
          column: 27
        }
      },
      "52": {
        start: {
          line: 174,
          column: 22
        },
        end: {
          line: 174,
          column: 23
        }
      },
      "53": {
        start: {
          line: 176,
          column: 8
        },
        end: {
          line: 179,
          column: 9
        }
      },
      "54": {
        start: {
          line: 177,
          column: 12
        },
        end: {
          line: 177,
          column: 44
        }
      },
      "55": {
        start: {
          line: 178,
          column: 12
        },
        end: {
          line: 178,
          column: 22
        }
      },
      "56": {
        start: {
          line: 181,
          column: 31
        },
        end: {
          line: 181,
          column: 62
        }
      },
      "57": {
        start: {
          line: 183,
          column: 23
        },
        end: {
          line: 212,
          column: 10
        }
      },
      "58": {
        start: {
          line: 185,
          column: 33
        },
        end: {
          line: 199,
          column: 14
        }
      },
      "59": {
        start: {
          line: 201,
          column: 25
        },
        end: {
          line: 210,
          column: 14
        }
      },
      "60": {
        start: {
          line: 211,
          column: 12
        },
        end: {
          line: 211,
          column: 42
        }
      },
      "61": {
        start: {
          line: 214,
          column: 26
        },
        end: {
          line: 214,
          column: 34
        }
      },
      "62": {
        start: {
          line: 215,
          column: 26
        },
        end: {
          line: 215,
          column: 36
        }
      },
      "63": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 216,
          column: 51
        }
      },
      "64": {
        start: {
          line: 217,
          column: 8
        },
        end: {
          line: 224,
          column: 11
        }
      },
      "65": {
        start: {
          line: 226,
          column: 23
        },
        end: {
          line: 226,
          column: 72
        }
      },
      "66": {
        start: {
          line: 227,
          column: 8
        },
        end: {
          line: 227,
          column: 63
        }
      },
      "67": {
        start: {
          line: 229,
          column: 45
        },
        end: {
          line: 229,
          column: 56
        }
      },
      "68": {
        start: {
          line: 230,
          column: 8
        },
        end: {
          line: 234,
          column: 10
        }
      },
      "69": {
        start: {
          line: 238,
          column: 8
        },
        end: {
          line: 261,
          column: 9
        }
      },
      "70": {
        start: {
          line: 240,
          column: 12
        },
        end: {
          line: 243,
          column: 15
        }
      },
      "71": {
        start: {
          line: 256,
          column: 12
        },
        end: {
          line: 256,
          column: 38
        }
      },
      "72": {
        start: {
          line: 259,
          column: 12
        },
        end: {
          line: 259,
          column: 55
        }
      },
      "73": {
        start: {
          line: 260,
          column: 12
        },
        end: {
          line: 260,
          column: 70
        }
      },
      "74": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 299,
          column: 9
        }
      },
      "75": {
        start: {
          line: 267,
          column: 28
        },
        end: {
          line: 267,
          column: 54
        }
      },
      "76": {
        start: {
          line: 269,
          column: 28
        },
        end: {
          line: 271,
          column: 14
        }
      },
      "77": {
        start: {
          line: 272,
          column: 12
        },
        end: {
          line: 274,
          column: 13
        }
      },
      "78": {
        start: {
          line: 273,
          column: 16
        },
        end: {
          line: 273,
          column: 78
        }
      },
      "79": {
        start: {
          line: 276,
          column: 25
        },
        end: {
          line: 279,
          column: 14
        }
      },
      "80": {
        start: {
          line: 280,
          column: 12
        },
        end: {
          line: 282,
          column: 13
        }
      },
      "81": {
        start: {
          line: 281,
          column: 16
        },
        end: {
          line: 281,
          column: 88
        }
      },
      "82": {
        start: {
          line: 283,
          column: 12
        },
        end: {
          line: 285,
          column: 13
        }
      },
      "83": {
        start: {
          line: 284,
          column: 16
        },
        end: {
          line: 284,
          column: 93
        }
      },
      "84": {
        start: {
          line: 287,
          column: 49
        },
        end: {
          line: 287,
          column: 53
        }
      },
      "85": {
        start: {
          line: 288,
          column: 12
        },
        end: {
          line: 292,
          column: 14
        }
      },
      "86": {
        start: {
          line: 295,
          column: 12
        },
        end: {
          line: 297,
          column: 13
        }
      },
      "87": {
        start: {
          line: 296,
          column: 16
        },
        end: {
          line: 296,
          column: 28
        }
      },
      "88": {
        start: {
          line: 298,
          column: 12
        },
        end: {
          line: 298,
          column: 70
        }
      },
      "89": {
        start: {
          line: 303,
          column: 8
        },
        end: {
          line: 316,
          column: 11
        }
      },
      "90": {
        start: {
          line: 320,
          column: 8
        },
        end: {
          line: 328,
          column: 11
        }
      },
      "91": {
        start: {
          line: 329,
          column: 8
        },
        end: {
          line: 329,
          column: 43
        }
      },
      "92": {
        start: {
          line: 333,
          column: 8
        },
        end: {
          line: 336,
          column: 11
        }
      },
      "93": {
        start: {
          line: 337,
          column: 8
        },
        end: {
          line: 337,
          column: 48
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        },
        loc: {
          start: {
            line: 9,
            column: 21
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 42
          },
          end: {
            line: 55,
            column: 5
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 57,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        },
        loc: {
          start: {
            line: 57,
            column: 37
          },
          end: {
            line: 101,
            column: 5
          }
        },
        line: 57
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 103,
            column: 5
          }
        },
        loc: {
          start: {
            line: 103,
            column: 48
          },
          end: {
            line: 156,
            column: 5
          }
        },
        line: 103
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 158,
            column: 4
          },
          end: {
            line: 158,
            column: 5
          }
        },
        loc: {
          start: {
            line: 158,
            column: 29
          },
          end: {
            line: 235,
            column: 5
          }
        },
        line: 158
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 183,
            column: 45
          },
          end: {
            line: 183,
            column: 46
          }
        },
        loc: {
          start: {
            line: 183,
            column: 59
          },
          end: {
            line: 212,
            column: 9
          }
        },
        line: 183
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 237,
            column: 4
          },
          end: {
            line: 237,
            column: 5
          }
        },
        loc: {
          start: {
            line: 237,
            column: 42
          },
          end: {
            line: 262,
            column: 5
          }
        },
        line: 237
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 264,
            column: 4
          },
          end: {
            line: 264,
            column: 5
          }
        },
        loc: {
          start: {
            line: 264,
            column: 29
          },
          end: {
            line: 300,
            column: 5
          }
        },
        line: 264
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 302,
            column: 4
          },
          end: {
            line: 302,
            column: 5
          }
        },
        loc: {
          start: {
            line: 302,
            column: 34
          },
          end: {
            line: 317,
            column: 5
          }
        },
        line: 302
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 319,
            column: 4
          },
          end: {
            line: 319,
            column: 5
          }
        },
        loc: {
          start: {
            line: 319,
            column: 43
          },
          end: {
            line: 330,
            column: 5
          }
        },
        line: 319
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 332,
            column: 4
          },
          end: {
            line: 332,
            column: 5
          }
        },
        loc: {
          start: {
            line: 332,
            column: 36
          },
          end: {
            line: 338,
            column: 5
          }
        },
        line: 332
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 78,
            column: 12
          },
          end: {
            line: 80,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 78,
            column: 12
          },
          end: {
            line: 80,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 78
      },
      "1": {
        loc: {
          start: {
            line: 78,
            column: 16
          },
          end: {
            line: 78,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 78,
            column: 16
          },
          end: {
            line: 78,
            column: 21
          }
        }, {
          start: {
            line: 78,
            column: 25
          },
          end: {
            line: 78,
            column: 39
          }
        }],
        line: 78
      },
      "2": {
        loc: {
          start: {
            line: 85,
            column: 12
          },
          end: {
            line: 87,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 12
          },
          end: {
            line: 87,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "3": {
        loc: {
          start: {
            line: 85,
            column: 16
          },
          end: {
            line: 85,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 85,
            column: 16
          },
          end: {
            line: 85,
            column: 24
          }
        }, {
          start: {
            line: 85,
            column: 28
          },
          end: {
            line: 85,
            column: 58
          }
        }],
        line: 85
      },
      "4": {
        loc: {
          start: {
            line: 96,
            column: 12
          },
          end: {
            line: 98,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 96,
            column: 12
          },
          end: {
            line: 98,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 96
      },
      "5": {
        loc: {
          start: {
            line: 109,
            column: 8
          },
          end: {
            line: 112,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 109,
            column: 8
          },
          end: {
            line: 112,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 109
      },
      "6": {
        loc: {
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 117,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 117,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 114
      },
      "7": {
        loc: {
          start: {
            line: 120,
            column: 8
          },
          end: {
            line: 123,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 120,
            column: 8
          },
          end: {
            line: 123,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 120
      },
      "8": {
        loc: {
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 125
      },
      "9": {
        loc: {
          start: {
            line: 164,
            column: 8
          },
          end: {
            line: 166,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 164,
            column: 8
          },
          end: {
            line: 166,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 164
      },
      "10": {
        loc: {
          start: {
            line: 272,
            column: 12
          },
          end: {
            line: 274,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 272,
            column: 12
          },
          end: {
            line: 274,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 272
      },
      "11": {
        loc: {
          start: {
            line: 272,
            column: 16
          },
          end: {
            line: 272,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 272,
            column: 16
          },
          end: {
            line: 272,
            column: 24
          }
        }, {
          start: {
            line: 272,
            column: 28
          },
          end: {
            line: 272,
            column: 58
          }
        }],
        line: 272
      },
      "12": {
        loc: {
          start: {
            line: 280,
            column: 12
          },
          end: {
            line: 282,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 280,
            column: 12
          },
          end: {
            line: 282,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 280
      },
      "13": {
        loc: {
          start: {
            line: 280,
            column: 16
          },
          end: {
            line: 280,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 280,
            column: 16
          },
          end: {
            line: 280,
            column: 21
          }
        }, {
          start: {
            line: 280,
            column: 25
          },
          end: {
            line: 280,
            column: 39
          }
        }],
        line: 280
      },
      "14": {
        loc: {
          start: {
            line: 283,
            column: 12
          },
          end: {
            line: 285,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 283,
            column: 12
          },
          end: {
            line: 285,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 283
      },
      "15": {
        loc: {
          start: {
            line: 295,
            column: 12
          },
          end: {
            line: 297,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 295,
            column: 12
          },
          end: {
            line: 297,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 295
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    inputSourceMap: {
      file: "C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\auth.service.ts",
      mappings: "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",
      names: [],
      sources: ["C:\\Users\\Enzo Marcelo\\Desktop\\Projetos Empresa\\Saas Utmify\\utmify-clone\\apps\\api\\src\\services\\auth.service.ts"],
      sourcesContent: ["import { nanoid } from 'nanoid'\nimport bcrypt from 'bcryptjs'\nimport type { FastifyInstance } from 'fastify'\nimport { db } from '@utmify/database'\nimport type { User, Organization, UserRole } from '@utmify/shared'\nimport { jwtConfig } from '@/config/env'\nimport { logger, logAuth } from '@/utils/logger'\nimport { ApiError } from '@/utils/errors'\n\nexport interface AuthTokens {\n  accessToken: string\n  refreshToken: string\n  expiresIn: number\n}\n\nexport interface JWTPayload {\n  userId: string\n  organizationId: string\n  role: UserRole\n  email: string\n  sessionId: string\n}\n\nexport interface RefreshTokenPayload {\n  userId: string\n  sessionId: string\n  tokenId: string\n}\n\nexport class AuthService {\n  constructor(private app: FastifyInstance) {}\n\n  // Generate JWT tokens\n  async generateTokens(user: User, sessionId: string): Promise<AuthTokens> {\n    const payload: JWTPayload = {\n      userId: user.id,\n      organizationId: user.organizationId,\n      role: user.role,\n      email: user.email,\n      sessionId,\n    }\n\n    const refreshTokenId = nanoid()\n    const refreshPayload: RefreshTokenPayload = {\n      userId: user.id,\n      sessionId,\n      tokenId: refreshTokenId,\n    }\n\n    // Generate access token\n    const accessToken = this.app.jwt.sign(payload, {\n      expiresIn: jwtConfig.accessExpiresIn,\n    })\n\n    // Generate refresh token with different secret\n    const refreshToken = this.app.jwt.sign(refreshPayload, {\n      secret: jwtConfig.refreshSecret,\n      expiresIn: jwtConfig.refreshExpiresIn,\n    })\n\n    // Store refresh token in Redis (temporarily disabled)\n    // const refreshTokenKey = `refresh_token:${refreshTokenId}`\n    // const refreshTokenData = {\n    //   userId: user.id,\n    //   sessionId,\n    //   createdAt: new Date().toISOString(),\n    // }\n\n    // await this.app.redis.setex(\n    //   refreshTokenKey,\n    //   7 * 24 * 60 * 60, // 7 days in seconds\n    //   JSON.stringify(refreshTokenData)\n    // )\n\n    // Calculate expiration time\n    const expiresIn = 15 * 60 // 15 minutes in seconds\n\n    return {\n      accessToken,\n      refreshToken,\n      expiresIn,\n    }\n  }\n\n  // Verify and refresh access token\n  async refreshToken(refreshToken: string): Promise<AuthTokens> {\n    try {\n      // Verify refresh token\n      const payload = this.app.jwt.verify(refreshToken, {\n        secret: jwtConfig.refreshSecret,\n      }) as RefreshTokenPayload\n\n      // Check if refresh token exists in Redis (temporarily disabled)\n      // const refreshTokenKey = `refresh_token:${payload.tokenId}`\n      // const tokenData = await this.app.redis.get(refreshTokenKey)\n\n      // if (!tokenData) {\n      //   throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401)\n      // }\n\n      // const parsedTokenData = JSON.parse(tokenData)\n      // if (parsedTokenData.userId !== payload.userId || parsedTokenData.sessionId !== payload.sessionId) {\n      //   throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401)\n      // }\n\n      // Get user from database\n      const user = await db.user.findUnique({\n        where: { id: payload.userId },\n        include: { organization: true },\n      })\n\n      if (!user || !user.isActive) {\n        throw new ApiError('User not found or inactive', 'USER_NOT_FOUND', 401)\n      }\n\n      // Check if session is still valid\n      const session = await db.userSession.findUnique({\n        where: { id: payload.sessionId },\n      })\n\n      if (!session || session.expiresAt < new Date()) {\n        throw new ApiError('Session expired', 'SESSION_EXPIRED', 401)\n      }\n\n      // Generate new tokens\n      const newTokens = await this.generateTokens(user, payload.sessionId)\n\n      // Remove old refresh token\n      await this.app.redis.del(refreshTokenKey)\n\n      logAuth('token_refreshed', user.id, user.email)\n\n      return newTokens\n    } catch (error) {\n      if (error instanceof ApiError) {\n        throw error\n      }\n      throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401)\n    }\n  }\n\n  // Login user\n  async login(email: string, password: string, ip?: string, userAgent?: string): Promise<{\n    user: Omit<User, 'password'>\n    organization: Organization\n    tokens: AuthTokens\n  }> {\n    // Find user with organization\n    const user = await db.user.findUnique({\n      where: { email: email.toLowerCase() },\n      include: { organization: true },\n    })\n\n    if (!user) {\n      logAuth('login_failed', undefined, email, ip, false)\n      throw new ApiError('Invalid credentials', 'INVALID_CREDENTIALS', 401)\n    }\n\n    // Check if user is active\n    if (!user.isActive) {\n      logAuth('login_failed_inactive', user.id, email, ip, false)\n      throw new ApiError('Account is disabled', 'ACCOUNT_DISABLED', 401)\n    }\n\n    // Verify password\n    const isValidPassword = await bcrypt.compare(password, user.password)\n    if (!isValidPassword) {\n      logAuth('login_failed', user.id, email, ip, false)\n      throw new ApiError('Invalid credentials', 'INVALID_CREDENTIALS', 401)\n    }\n\n    // Check if organization is active\n    if (!user.organization.isActive) {\n      logAuth('login_failed_org_inactive', user.id, email, ip, false)\n      throw new ApiError('Organization is disabled', 'ORGANIZATION_DISABLED', 401)\n    }\n\n    // Create user session\n    const sessionId = nanoid()\n    const expiresAt = new Date()\n    expiresAt.setDate(expiresAt.getDate() + 7) // 7 days\n\n    await db.userSession.create({\n      data: {\n        id: sessionId,\n        token: sessionId,\n        userId: user.id,\n        expiresAt,\n      },\n    })\n\n    // Update last login\n    await db.user.update({\n      where: { id: user.id },\n      data: { lastLoginAt: new Date() },\n    })\n\n    // Generate tokens\n    const tokens = await this.generateTokens(user, sessionId)\n\n    logAuth('login_success', user.id, email, ip)\n\n    // Remove password from response\n    const { password: _, ...safeUser } = user\n\n    return {\n      user: safeUser,\n      organization: user.organization,\n      tokens,\n    }\n  }\n\n  // Register new user and organization\n  async register(data: {\n    name: string\n    email: string\n    password: string\n    organizationName: string\n  }, ip?: string): Promise<{\n    user: Omit<User, 'password'>\n    organization: Organization\n    tokens: AuthTokens\n  }> {\n    const { name, email, password, organizationName } = data\n\n    // Check if user already exists\n    const existingUser = await db.user.findUnique({\n      where: { email: email.toLowerCase() },\n    })\n\n    if (existingUser) {\n      throw new ApiError('Email already exists', 'EMAIL_ALREADY_EXISTS', 409)\n    }\n\n    // Generate organization slug\n    const baseSlug = organizationName\n      .toLowerCase()\n      .replace(/[^a-z0-9]+/g, '-')\n      .replace(/(^-|-$)/g, '')\n      .substring(0, 50)\n\n    let slug = baseSlug\n    let counter = 1\n\n    // Ensure unique slug\n    while (await db.organization.findUnique({ where: { slug } })) {\n      slug = `${baseSlug}-${counter}`\n      counter++\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 12)\n\n    // Create organization and user in transaction\n    const result = await db.$transaction(async (tx) => {\n      // Create organization\n      const organization = await tx.organization.create({\n        data: {\n          name: organizationName,\n          slug,\n          settings: JSON.stringify({\n            timezone: 'UTC',\n            currency: 'USD',\n            dateFormat: 'MM/DD/YYYY',\n            allowPublicDashboard: false,\n            requireTwoFactor: false,\n            maxUsers: 2,\n            customBranding: false,\n          }),\n        },\n      })\n\n      // Create user as organization owner\n      const user = await tx.user.create({\n        data: {\n          name,\n          email: email.toLowerCase(),\n          password: hashedPassword,\n          role: 'OWNER',\n          isActive: true,\n          organizationId: organization.id,\n        },\n      })\n\n      return { user, organization }\n    })\n\n    // Create user session\n    const sessionId = nanoid()\n    const expiresAt = new Date()\n    expiresAt.setDate(expiresAt.getDate() + 7) // 7 days\n\n    await db.userSession.create({\n      data: {\n        id: sessionId,\n        token: sessionId,\n        userId: result.user.id,\n        expiresAt,\n      },\n    })\n\n    // Generate tokens\n    const tokens = await this.generateTokens(result.user, sessionId)\n\n    logAuth('register_success', result.user.id, email, ip)\n\n    // Remove password from response\n    const { password: _, ...safeUser } = result.user\n\n    return {\n      user: safeUser,\n      organization: result.organization,\n      tokens,\n    }\n  }\n\n  // Logout user\n  async logout(sessionId: string, refreshToken?: string): Promise<void> {\n    try {\n      // Invalidate session\n      await db.userSession.update({\n        where: { id: sessionId },\n        data: { expiresAt: new Date() },\n      })\n\n      // Remove refresh token from Redis if provided (temporarily disabled)\n      // if (refreshToken) {\n      //   try {\n      //     const payload = this.app.jwt.verify(refreshToken, {\n      //       secret: jwtConfig.refreshSecret,\n      //     }) as RefreshTokenPayload\n\n      //     const refreshTokenKey = `refresh_token:${payload.tokenId}`\n      //     await this.app.redis.del(refreshTokenKey)\n      //   } catch {\n      //     // Ignore errors when removing refresh token\n      //   }\n      // }\n\n      logAuth('logout_success')\n    } catch (error) {\n      logger.error(error, 'Error during logout')\n      throw new ApiError('Logout failed', 'LOGOUT_FAILED', 500)\n    }\n  }\n\n  // Verify JWT token and get user\n  async verifyToken(token: string): Promise<{\n    user: Omit<User, 'password'>\n    organization: Organization\n    sessionId: string\n  }> {\n    try {\n      // Verify token\n      const payload = this.app.jwt.verify(token) as JWTPayload\n\n      // Check if session is still valid\n      const session = await db.userSession.findUnique({\n        where: { id: payload.sessionId },\n      })\n\n      if (!session || session.expiresAt < new Date()) {\n        throw new ApiError('Session expired', 'SESSION_EXPIRED', 401)\n      }\n\n      // Get user with organization\n      const user = await db.user.findUnique({\n        where: { id: payload.userId },\n        include: { organization: true },\n      })\n\n      if (!user || !user.isActive) {\n        throw new ApiError('User not found or inactive', 'USER_NOT_FOUND', 401)\n      }\n\n      if (!user.organization.isActive) {\n        throw new ApiError('Organization is disabled', 'ORGANIZATION_DISABLED', 401)\n      }\n\n      // Remove password from response\n      const { password: _, ...safeUser } = user\n\n      return {\n        user: safeUser,\n        organization: user.organization,\n        sessionId: payload.sessionId,\n      }\n    } catch (error) {\n      if (error instanceof ApiError) {\n        throw error\n      }\n      throw new ApiError('Invalid token', 'INVALID_TOKEN', 401)\n    }\n  }\n\n  // Get all active sessions for a user\n  async getUserSessions(userId: string): Promise<any[]> {\n    return db.userSession.findMany({\n      where: {\n        userId,\n        expiresAt: { gt: new Date() },\n      },\n      orderBy: { createdAt: 'desc' },\n      select: {\n        id: true,\n        ipAddress: true,\n        userAgent: true,\n        createdAt: true,\n        expiresAt: true,\n      },\n    })\n  }\n\n  // Revoke a specific session\n  async revokeSession(sessionId: string, userId: string): Promise<void> {\n    await db.userSession.updateMany({\n      where: {\n        id: sessionId,\n        userId,\n      },\n      data: {\n        expiresAt: new Date(),\n      },\n    })\n\n    logAuth('session_revoked', userId)\n  }\n\n  // Revoke all sessions for a user\n  async revokeAllSessions(userId: string): Promise<void> {\n    await db.userSession.updateMany({\n      where: { userId },\n      data: { expiresAt: new Date() },\n    })\n\n    logAuth('all_sessions_revoked', userId)\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "087b14ed1e91ee3135159ac5c6487864680aa96c"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_r9zfrkqas = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_r9zfrkqas();
import { nanoid } from 'nanoid';
import bcrypt from 'bcryptjs';
import { db } from '@utmify/database';
import { jwtConfig } from '@/config/env';
import { logger, logAuth } from '@/utils/logger';
import { ApiError } from '@/utils/errors';
export class AuthService {
  app;
  constructor(app) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[0]++;
    cov_r9zfrkqas().s[0]++;
    this.app = app;
  }
  // Generate JWT tokens
  async generateTokens(user, sessionId) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[1]++;
    const payload =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[1]++, {
      userId: user.id,
      organizationId: user.organizationId,
      role: user.role,
      email: user.email,
      sessionId
    });
    const refreshTokenId =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[2]++, nanoid());
    const refreshPayload =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[3]++, {
      userId: user.id,
      sessionId,
      tokenId: refreshTokenId
    });
    // Generate access token
    const accessToken =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[4]++, this.app.jwt.sign(payload, {
      expiresIn: jwtConfig.accessExpiresIn
    }));
    // Generate refresh token with different secret
    const refreshToken =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[5]++, this.app.jwt.sign(refreshPayload, {
      secret: jwtConfig.refreshSecret,
      expiresIn: jwtConfig.refreshExpiresIn
    }));
    // Store refresh token in Redis (temporarily disabled)
    // const refreshTokenKey = `refresh_token:${refreshTokenId}`
    // const refreshTokenData = {
    //   userId: user.id,
    //   sessionId,
    //   createdAt: new Date().toISOString(),
    // }
    // await this.app.redis.setex(
    //   refreshTokenKey,
    //   7 * 24 * 60 * 60, // 7 days in seconds
    //   JSON.stringify(refreshTokenData)
    // )
    // Calculate expiration time
    const expiresIn =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[6]++, 15 * 60); // 15 minutes in seconds
    /* istanbul ignore next */
    cov_r9zfrkqas().s[7]++;
    return {
      accessToken,
      refreshToken,
      expiresIn
    };
  }
  // Verify and refresh access token
  async refreshToken(refreshToken) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[2]++;
    cov_r9zfrkqas().s[8]++;
    try {
      // Verify refresh token
      const payload =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[9]++, this.app.jwt.verify(refreshToken, {
        secret: jwtConfig.refreshSecret
      }));
      // Check if refresh token exists in Redis (temporarily disabled)
      // const refreshTokenKey = `refresh_token:${payload.tokenId}`
      // const tokenData = await this.app.redis.get(refreshTokenKey)
      // if (!tokenData) {
      //   throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401)
      // }
      // const parsedTokenData = JSON.parse(tokenData)
      // if (parsedTokenData.userId !== payload.userId || parsedTokenData.sessionId !== payload.sessionId) {
      //   throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401)
      // }
      // Get user from database
      const user =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[10]++, await db.user.findUnique({
        where: {
          id: payload.userId
        },
        include: {
          organization: true
        }
      }));
      /* istanbul ignore next */
      cov_r9zfrkqas().s[11]++;
      if (
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[1][0]++, !user) ||
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[1][1]++, !user.isActive)) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[0][0]++;
        cov_r9zfrkqas().s[12]++;
        throw new ApiError('User not found or inactive', 'USER_NOT_FOUND', 401);
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[0][1]++;
      }
      // Check if session is still valid
      const session =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[13]++, await db.userSession.findUnique({
        where: {
          id: payload.sessionId
        }
      }));
      /* istanbul ignore next */
      cov_r9zfrkqas().s[14]++;
      if (
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[3][0]++, !session) ||
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[3][1]++, session.expiresAt < new Date())) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[2][0]++;
        cov_r9zfrkqas().s[15]++;
        throw new ApiError('Session expired', 'SESSION_EXPIRED', 401);
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[2][1]++;
      }
      // Generate new tokens
      const newTokens =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[16]++, await this.generateTokens(user, payload.sessionId));
      // Remove old refresh token
      /* istanbul ignore next */
      cov_r9zfrkqas().s[17]++;
      await this.app.redis.del(refreshTokenKey);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[18]++;
      logAuth('token_refreshed', user.id, user.email);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[19]++;
      return newTokens;
    } catch (error) {
      /* istanbul ignore next */
      cov_r9zfrkqas().s[20]++;
      if (error instanceof ApiError) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[4][0]++;
        cov_r9zfrkqas().s[21]++;
        throw error;
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[4][1]++;
      }
      cov_r9zfrkqas().s[22]++;
      throw new ApiError('Invalid refresh token', 'INVALID_REFRESH_TOKEN', 401);
    }
  }
  // Login user
  async login(email, password, ip, userAgent) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[3]++;
    // Find user with organization
    const user =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[23]++, await db.user.findUnique({
      where: {
        email: email.toLowerCase()
      },
      include: {
        organization: true
      }
    }));
    /* istanbul ignore next */
    cov_r9zfrkqas().s[24]++;
    if (!user) {
      /* istanbul ignore next */
      cov_r9zfrkqas().b[5][0]++;
      cov_r9zfrkqas().s[25]++;
      logAuth('login_failed', undefined, email, ip, false);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[26]++;
      throw new ApiError('Invalid credentials', 'INVALID_CREDENTIALS', 401);
    } else
    /* istanbul ignore next */
    {
      cov_r9zfrkqas().b[5][1]++;
    }
    // Check if user is active
    cov_r9zfrkqas().s[27]++;
    if (!user.isActive) {
      /* istanbul ignore next */
      cov_r9zfrkqas().b[6][0]++;
      cov_r9zfrkqas().s[28]++;
      logAuth('login_failed_inactive', user.id, email, ip, false);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[29]++;
      throw new ApiError('Account is disabled', 'ACCOUNT_DISABLED', 401);
    } else
    /* istanbul ignore next */
    {
      cov_r9zfrkqas().b[6][1]++;
    }
    // Verify password
    const isValidPassword =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[30]++, await bcrypt.compare(password, user.password));
    /* istanbul ignore next */
    cov_r9zfrkqas().s[31]++;
    if (!isValidPassword) {
      /* istanbul ignore next */
      cov_r9zfrkqas().b[7][0]++;
      cov_r9zfrkqas().s[32]++;
      logAuth('login_failed', user.id, email, ip, false);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[33]++;
      throw new ApiError('Invalid credentials', 'INVALID_CREDENTIALS', 401);
    } else
    /* istanbul ignore next */
    {
      cov_r9zfrkqas().b[7][1]++;
    }
    // Check if organization is active
    cov_r9zfrkqas().s[34]++;
    if (!user.organization.isActive) {
      /* istanbul ignore next */
      cov_r9zfrkqas().b[8][0]++;
      cov_r9zfrkqas().s[35]++;
      logAuth('login_failed_org_inactive', user.id, email, ip, false);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[36]++;
      throw new ApiError('Organization is disabled', 'ORGANIZATION_DISABLED', 401);
    } else
    /* istanbul ignore next */
    {
      cov_r9zfrkqas().b[8][1]++;
    }
    // Create user session
    const sessionId =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[37]++, nanoid());
    const expiresAt =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[38]++, new Date());
    /* istanbul ignore next */
    cov_r9zfrkqas().s[39]++;
    expiresAt.setDate(expiresAt.getDate() + 7); // 7 days
    /* istanbul ignore next */
    cov_r9zfrkqas().s[40]++;
    await db.userSession.create({
      data: {
        id: sessionId,
        token: sessionId,
        userId: user.id,
        expiresAt
      }
    });
    // Update last login
    /* istanbul ignore next */
    cov_r9zfrkqas().s[41]++;
    await db.user.update({
      where: {
        id: user.id
      },
      data: {
        lastLoginAt: new Date()
      }
    });
    // Generate tokens
    const tokens =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[42]++, await this.generateTokens(user, sessionId));
    /* istanbul ignore next */
    cov_r9zfrkqas().s[43]++;
    logAuth('login_success', user.id, email, ip);
    // Remove password from response
    const {
      password: _,
      ...safeUser
    } =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[44]++, user);
    /* istanbul ignore next */
    cov_r9zfrkqas().s[45]++;
    return {
      user: safeUser,
      organization: user.organization,
      tokens
    };
  }
  // Register new user and organization
  async register(data, ip) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[4]++;
    const {
      name,
      email,
      password,
      organizationName
    } =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[46]++, data);
    // Check if user already exists
    const existingUser =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[47]++, await db.user.findUnique({
      where: {
        email: email.toLowerCase()
      }
    }));
    /* istanbul ignore next */
    cov_r9zfrkqas().s[48]++;
    if (existingUser) {
      /* istanbul ignore next */
      cov_r9zfrkqas().b[9][0]++;
      cov_r9zfrkqas().s[49]++;
      throw new ApiError('Email already exists', 'EMAIL_ALREADY_EXISTS', 409);
    } else
    /* istanbul ignore next */
    {
      cov_r9zfrkqas().b[9][1]++;
    }
    // Generate organization slug
    const baseSlug =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[50]++, organizationName.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '').substring(0, 50));
    let slug =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[51]++, baseSlug);
    let counter =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[52]++, 1);
    // Ensure unique slug
    /* istanbul ignore next */
    cov_r9zfrkqas().s[53]++;
    while (await db.organization.findUnique({
      where: {
        slug
      }
    })) {
      /* istanbul ignore next */
      cov_r9zfrkqas().s[54]++;
      slug = `${baseSlug}-${counter}`;
      /* istanbul ignore next */
      cov_r9zfrkqas().s[55]++;
      counter++;
    }
    // Hash password
    const hashedPassword =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[56]++, await bcrypt.hash(password, 12));
    // Create organization and user in transaction
    const result =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[57]++, await db.$transaction(async tx => {
      /* istanbul ignore next */
      cov_r9zfrkqas().f[5]++;
      // Create organization
      const organization =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[58]++, await tx.organization.create({
        data: {
          name: organizationName,
          slug,
          settings: JSON.stringify({
            timezone: 'UTC',
            currency: 'USD',
            dateFormat: 'MM/DD/YYYY',
            allowPublicDashboard: false,
            requireTwoFactor: false,
            maxUsers: 2,
            customBranding: false
          })
        }
      }));
      // Create user as organization owner
      const user =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[59]++, await tx.user.create({
        data: {
          name,
          email: email.toLowerCase(),
          password: hashedPassword,
          role: 'OWNER',
          isActive: true,
          organizationId: organization.id
        }
      }));
      /* istanbul ignore next */
      cov_r9zfrkqas().s[60]++;
      return {
        user,
        organization
      };
    }));
    // Create user session
    const sessionId =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[61]++, nanoid());
    const expiresAt =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[62]++, new Date());
    /* istanbul ignore next */
    cov_r9zfrkqas().s[63]++;
    expiresAt.setDate(expiresAt.getDate() + 7); // 7 days
    /* istanbul ignore next */
    cov_r9zfrkqas().s[64]++;
    await db.userSession.create({
      data: {
        id: sessionId,
        token: sessionId,
        userId: result.user.id,
        expiresAt
      }
    });
    // Generate tokens
    const tokens =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[65]++, await this.generateTokens(result.user, sessionId));
    /* istanbul ignore next */
    cov_r9zfrkqas().s[66]++;
    logAuth('register_success', result.user.id, email, ip);
    // Remove password from response
    const {
      password: _,
      ...safeUser
    } =
    /* istanbul ignore next */
    (cov_r9zfrkqas().s[67]++, result.user);
    /* istanbul ignore next */
    cov_r9zfrkqas().s[68]++;
    return {
      user: safeUser,
      organization: result.organization,
      tokens
    };
  }
  // Logout user
  async logout(sessionId, refreshToken) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[6]++;
    cov_r9zfrkqas().s[69]++;
    try {
      /* istanbul ignore next */
      cov_r9zfrkqas().s[70]++;
      // Invalidate session
      await db.userSession.update({
        where: {
          id: sessionId
        },
        data: {
          expiresAt: new Date()
        }
      });
      // Remove refresh token from Redis if provided (temporarily disabled)
      // if (refreshToken) {
      //   try {
      //     const payload = this.app.jwt.verify(refreshToken, {
      //       secret: jwtConfig.refreshSecret,
      //     }) as RefreshTokenPayload
      //     const refreshTokenKey = `refresh_token:${payload.tokenId}`
      //     await this.app.redis.del(refreshTokenKey)
      //   } catch {
      //     // Ignore errors when removing refresh token
      //   }
      // }
      /* istanbul ignore next */
      cov_r9zfrkqas().s[71]++;
      logAuth('logout_success');
    } catch (error) {
      /* istanbul ignore next */
      cov_r9zfrkqas().s[72]++;
      logger.error(error, 'Error during logout');
      /* istanbul ignore next */
      cov_r9zfrkqas().s[73]++;
      throw new ApiError('Logout failed', 'LOGOUT_FAILED', 500);
    }
  }
  // Verify JWT token and get user
  async verifyToken(token) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[7]++;
    cov_r9zfrkqas().s[74]++;
    try {
      // Verify token
      const payload =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[75]++, this.app.jwt.verify(token));
      // Check if session is still valid
      const session =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[76]++, await db.userSession.findUnique({
        where: {
          id: payload.sessionId
        }
      }));
      /* istanbul ignore next */
      cov_r9zfrkqas().s[77]++;
      if (
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[11][0]++, !session) ||
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[11][1]++, session.expiresAt < new Date())) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[10][0]++;
        cov_r9zfrkqas().s[78]++;
        throw new ApiError('Session expired', 'SESSION_EXPIRED', 401);
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[10][1]++;
      }
      // Get user with organization
      const user =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[79]++, await db.user.findUnique({
        where: {
          id: payload.userId
        },
        include: {
          organization: true
        }
      }));
      /* istanbul ignore next */
      cov_r9zfrkqas().s[80]++;
      if (
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[13][0]++, !user) ||
      /* istanbul ignore next */
      (cov_r9zfrkqas().b[13][1]++, !user.isActive)) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[12][0]++;
        cov_r9zfrkqas().s[81]++;
        throw new ApiError('User not found or inactive', 'USER_NOT_FOUND', 401);
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[12][1]++;
      }
      cov_r9zfrkqas().s[82]++;
      if (!user.organization.isActive) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[14][0]++;
        cov_r9zfrkqas().s[83]++;
        throw new ApiError('Organization is disabled', 'ORGANIZATION_DISABLED', 401);
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[14][1]++;
      }
      // Remove password from response
      const {
        password: _,
        ...safeUser
      } =
      /* istanbul ignore next */
      (cov_r9zfrkqas().s[84]++, user);
      /* istanbul ignore next */
      cov_r9zfrkqas().s[85]++;
      return {
        user: safeUser,
        organization: user.organization,
        sessionId: payload.sessionId
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_r9zfrkqas().s[86]++;
      if (error instanceof ApiError) {
        /* istanbul ignore next */
        cov_r9zfrkqas().b[15][0]++;
        cov_r9zfrkqas().s[87]++;
        throw error;
      } else
      /* istanbul ignore next */
      {
        cov_r9zfrkqas().b[15][1]++;
      }
      cov_r9zfrkqas().s[88]++;
      throw new ApiError('Invalid token', 'INVALID_TOKEN', 401);
    }
  }
  // Get all active sessions for a user
  async getUserSessions(userId) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[8]++;
    cov_r9zfrkqas().s[89]++;
    return db.userSession.findMany({
      where: {
        userId,
        expiresAt: {
          gt: new Date()
        }
      },
      orderBy: {
        createdAt: 'desc'
      },
      select: {
        id: true,
        ipAddress: true,
        userAgent: true,
        createdAt: true,
        expiresAt: true
      }
    });
  }
  // Revoke a specific session
  async revokeSession(sessionId, userId) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[9]++;
    cov_r9zfrkqas().s[90]++;
    await db.userSession.updateMany({
      where: {
        id: sessionId,
        userId
      },
      data: {
        expiresAt: new Date()
      }
    });
    /* istanbul ignore next */
    cov_r9zfrkqas().s[91]++;
    logAuth('session_revoked', userId);
  }
  // Revoke all sessions for a user
  async revokeAllSessions(userId) {
    /* istanbul ignore next */
    cov_r9zfrkqas().f[10]++;
    cov_r9zfrkqas().s[92]++;
    await db.userSession.updateMany({
      where: {
        userId
      },
      data: {
        expiresAt: new Date()
      }
    });
    /* istanbul ignore next */
    cov_r9zfrkqas().s[93]++;
    logAuth('all_sessions_revoked', userId);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfcjl6ZnJrcWFzIiwiYWN0dWFsQ292ZXJhZ2UiLCJuYW5vaWQiLCJiY3J5cHQiLCJkYiIsImp3dENvbmZpZyIsImxvZ2dlciIsImxvZ0F1dGgiLCJBcGlFcnJvciIsIkF1dGhTZXJ2aWNlIiwiYXBwIiwiY29uc3RydWN0b3IiLCJmIiwicyIsImdlbmVyYXRlVG9rZW5zIiwidXNlciIsInNlc3Npb25JZCIsInBheWxvYWQiLCJ1c2VySWQiLCJpZCIsIm9yZ2FuaXphdGlvbklkIiwicm9sZSIsImVtYWlsIiwicmVmcmVzaFRva2VuSWQiLCJyZWZyZXNoUGF5bG9hZCIsInRva2VuSWQiLCJhY2Nlc3NUb2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJhY2Nlc3NFeHBpcmVzSW4iLCJyZWZyZXNoVG9rZW4iLCJzZWNyZXQiLCJyZWZyZXNoU2VjcmV0IiwicmVmcmVzaEV4cGlyZXNJbiIsInZlcmlmeSIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImluY2x1ZGUiLCJvcmdhbml6YXRpb24iLCJiIiwiaXNBY3RpdmUiLCJzZXNzaW9uIiwidXNlclNlc3Npb24iLCJleHBpcmVzQXQiLCJEYXRlIiwibmV3VG9rZW5zIiwicmVkaXMiLCJkZWwiLCJyZWZyZXNoVG9rZW5LZXkiLCJlcnJvciIsImxvZ2luIiwicGFzc3dvcmQiLCJpcCIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwidW5kZWZpbmVkIiwiaXNWYWxpZFBhc3N3b3JkIiwiY29tcGFyZSIsInNldERhdGUiLCJnZXREYXRlIiwiY3JlYXRlIiwiZGF0YSIsInRva2VuIiwidXBkYXRlIiwibGFzdExvZ2luQXQiLCJ0b2tlbnMiLCJfIiwic2FmZVVzZXIiLCJyZWdpc3RlciIsIm5hbWUiLCJvcmdhbml6YXRpb25OYW1lIiwiZXhpc3RpbmdVc2VyIiwiYmFzZVNsdWciLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwic2x1ZyIsImNvdW50ZXIiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJyZXN1bHQiLCIkdHJhbnNhY3Rpb24iLCJ0eCIsInNldHRpbmdzIiwiSlNPTiIsInN0cmluZ2lmeSIsInRpbWV6b25lIiwiY3VycmVuY3kiLCJkYXRlRm9ybWF0IiwiYWxsb3dQdWJsaWNEYXNoYm9hcmQiLCJyZXF1aXJlVHdvRmFjdG9yIiwibWF4VXNlcnMiLCJjdXN0b21CcmFuZGluZyIsImxvZ291dCIsInZlcmlmeVRva2VuIiwiZ2V0VXNlclNlc3Npb25zIiwiZmluZE1hbnkiLCJndCIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJzZWxlY3QiLCJpcEFkZHJlc3MiLCJyZXZva2VTZXNzaW9uIiwidXBkYXRlTWFueSIsInJldm9rZUFsbFNlc3Npb25zIl0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxFbnpvIE1hcmNlbG9cXERlc2t0b3BcXFByb2pldG9zIEVtcHJlc2FcXFNhYXMgVXRtaWZ5XFx1dG1pZnktY2xvbmVcXGFwcHNcXGFwaVxcc3JjXFxzZXJ2aWNlc1xcYXV0aC5zZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5hbm9pZCB9IGZyb20gJ25hbm9pZCdcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgdHlwZSB7IEZhc3RpZnlJbnN0YW5jZSB9IGZyb20gJ2Zhc3RpZnknXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0B1dG1pZnkvZGF0YWJhc2UnXG5pbXBvcnQgdHlwZSB7IFVzZXIsIE9yZ2FuaXphdGlvbiwgVXNlclJvbGUgfSBmcm9tICdAdXRtaWZ5L3NoYXJlZCdcbmltcG9ydCB7IGp3dENvbmZpZyB9IGZyb20gJ0AvY29uZmlnL2VudidcbmltcG9ydCB7IGxvZ2dlciwgbG9nQXV0aCB9IGZyb20gJ0AvdXRpbHMvbG9nZ2VyJ1xuaW1wb3J0IHsgQXBpRXJyb3IgfSBmcm9tICdAL3V0aWxzL2Vycm9ycydcblxuZXhwb3J0IGludGVyZmFjZSBBdXRoVG9rZW5zIHtcbiAgYWNjZXNzVG9rZW46IHN0cmluZ1xuICByZWZyZXNoVG9rZW46IHN0cmluZ1xuICBleHBpcmVzSW46IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpXVFBheWxvYWQge1xuICB1c2VySWQ6IHN0cmluZ1xuICBvcmdhbml6YXRpb25JZDogc3RyaW5nXG4gIHJvbGU6IFVzZXJSb2xlXG4gIGVtYWlsOiBzdHJpbmdcbiAgc2Vzc2lvbklkOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZWZyZXNoVG9rZW5QYXlsb2FkIHtcbiAgdXNlcklkOiBzdHJpbmdcbiAgc2Vzc2lvbklkOiBzdHJpbmdcbiAgdG9rZW5JZDogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBGYXN0aWZ5SW5zdGFuY2UpIHt9XG5cbiAgLy8gR2VuZXJhdGUgSldUIHRva2Vuc1xuICBhc3luYyBnZW5lcmF0ZVRva2Vucyh1c2VyOiBVc2VyLCBzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8QXV0aFRva2Vucz4ge1xuICAgIGNvbnN0IHBheWxvYWQ6IEpXVFBheWxvYWQgPSB7XG4gICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICBvcmdhbml6YXRpb25JZDogdXNlci5vcmdhbml6YXRpb25JZCxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgc2Vzc2lvbklkLFxuICAgIH1cblxuICAgIGNvbnN0IHJlZnJlc2hUb2tlbklkID0gbmFub2lkKClcbiAgICBjb25zdCByZWZyZXNoUGF5bG9hZDogUmVmcmVzaFRva2VuUGF5bG9hZCA9IHtcbiAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRva2VuSWQ6IHJlZnJlc2hUb2tlbklkLFxuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIGFjY2VzcyB0b2tlblxuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gdGhpcy5hcHAuand0LnNpZ24ocGF5bG9hZCwge1xuICAgICAgZXhwaXJlc0luOiBqd3RDb25maWcuYWNjZXNzRXhwaXJlc0luLFxuICAgIH0pXG5cbiAgICAvLyBHZW5lcmF0ZSByZWZyZXNoIHRva2VuIHdpdGggZGlmZmVyZW50IHNlY3JldFxuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHRoaXMuYXBwLmp3dC5zaWduKHJlZnJlc2hQYXlsb2FkLCB7XG4gICAgICBzZWNyZXQ6IGp3dENvbmZpZy5yZWZyZXNoU2VjcmV0LFxuICAgICAgZXhwaXJlc0luOiBqd3RDb25maWcucmVmcmVzaEV4cGlyZXNJbixcbiAgICB9KVxuXG4gICAgLy8gU3RvcmUgcmVmcmVzaCB0b2tlbiBpbiBSZWRpcyAodGVtcG9yYXJpbHkgZGlzYWJsZWQpXG4gICAgLy8gY29uc3QgcmVmcmVzaFRva2VuS2V5ID0gYHJlZnJlc2hfdG9rZW46JHtyZWZyZXNoVG9rZW5JZH1gXG4gICAgLy8gY29uc3QgcmVmcmVzaFRva2VuRGF0YSA9IHtcbiAgICAvLyAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAvLyAgIHNlc3Npb25JZCxcbiAgICAvLyAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIC8vIH1cblxuICAgIC8vIGF3YWl0IHRoaXMuYXBwLnJlZGlzLnNldGV4KFxuICAgIC8vICAgcmVmcmVzaFRva2VuS2V5LFxuICAgIC8vICAgNyAqIDI0ICogNjAgKiA2MCwgLy8gNyBkYXlzIGluIHNlY29uZHNcbiAgICAvLyAgIEpTT04uc3RyaW5naWZ5KHJlZnJlc2hUb2tlbkRhdGEpXG4gICAgLy8gKVxuXG4gICAgLy8gQ2FsY3VsYXRlIGV4cGlyYXRpb24gdGltZVxuICAgIGNvbnN0IGV4cGlyZXNJbiA9IDE1ICogNjAgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG5cbiAgICByZXR1cm4ge1xuICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICByZWZyZXNoVG9rZW4sXG4gICAgICBleHBpcmVzSW4sXG4gICAgfVxuICB9XG5cbiAgLy8gVmVyaWZ5IGFuZCByZWZyZXNoIGFjY2VzcyB0b2tlblxuICBhc3luYyByZWZyZXNoVG9rZW4ocmVmcmVzaFRva2VuOiBzdHJpbmcpOiBQcm9taXNlPEF1dGhUb2tlbnM+IHtcbiAgICB0cnkge1xuICAgICAgLy8gVmVyaWZ5IHJlZnJlc2ggdG9rZW5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmFwcC5qd3QudmVyaWZ5KHJlZnJlc2hUb2tlbiwge1xuICAgICAgICBzZWNyZXQ6IGp3dENvbmZpZy5yZWZyZXNoU2VjcmV0LFxuICAgICAgfSkgYXMgUmVmcmVzaFRva2VuUGF5bG9hZFxuXG4gICAgICAvLyBDaGVjayBpZiByZWZyZXNoIHRva2VuIGV4aXN0cyBpbiBSZWRpcyAodGVtcG9yYXJpbHkgZGlzYWJsZWQpXG4gICAgICAvLyBjb25zdCByZWZyZXNoVG9rZW5LZXkgPSBgcmVmcmVzaF90b2tlbjoke3BheWxvYWQudG9rZW5JZH1gXG4gICAgICAvLyBjb25zdCB0b2tlbkRhdGEgPSBhd2FpdCB0aGlzLmFwcC5yZWRpcy5nZXQocmVmcmVzaFRva2VuS2V5KVxuXG4gICAgICAvLyBpZiAoIXRva2VuRGF0YSkge1xuICAgICAgLy8gICB0aHJvdyBuZXcgQXBpRXJyb3IoJ0ludmFsaWQgcmVmcmVzaCB0b2tlbicsICdJTlZBTElEX1JFRlJFU0hfVE9LRU4nLCA0MDEpXG4gICAgICAvLyB9XG5cbiAgICAgIC8vIGNvbnN0IHBhcnNlZFRva2VuRGF0YSA9IEpTT04ucGFyc2UodG9rZW5EYXRhKVxuICAgICAgLy8gaWYgKHBhcnNlZFRva2VuRGF0YS51c2VySWQgIT09IHBheWxvYWQudXNlcklkIHx8IHBhcnNlZFRva2VuRGF0YS5zZXNzaW9uSWQgIT09IHBheWxvYWQuc2Vzc2lvbklkKSB7XG4gICAgICAvLyAgIHRocm93IG5ldyBBcGlFcnJvcignSW52YWxpZCByZWZyZXNoIHRva2VuJywgJ0lOVkFMSURfUkVGUkVTSF9UT0tFTicsIDQwMSlcbiAgICAgIC8vIH1cblxuICAgICAgLy8gR2V0IHVzZXIgZnJvbSBkYXRhYmFzZVxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBwYXlsb2FkLnVzZXJJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7IG9yZ2FuaXphdGlvbjogdHJ1ZSB9LFxuICAgICAgfSlcblxuICAgICAgaWYgKCF1c2VyIHx8ICF1c2VyLmlzQWN0aXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcignVXNlciBub3QgZm91bmQgb3IgaW5hY3RpdmUnLCAnVVNFUl9OT1RfRk9VTkQnLCA0MDEpXG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHNlc3Npb24gaXMgc3RpbGwgdmFsaWRcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkYi51c2VyU2Vzc2lvbi5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuc2Vzc2lvbklkIH0sXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi5leHBpcmVzQXQgPCBuZXcgRGF0ZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcignU2Vzc2lvbiBleHBpcmVkJywgJ1NFU1NJT05fRVhQSVJFRCcsIDQwMSlcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgbmV3IHRva2Vuc1xuICAgICAgY29uc3QgbmV3VG9rZW5zID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVRva2Vucyh1c2VyLCBwYXlsb2FkLnNlc3Npb25JZClcblxuICAgICAgLy8gUmVtb3ZlIG9sZCByZWZyZXNoIHRva2VuXG4gICAgICBhd2FpdCB0aGlzLmFwcC5yZWRpcy5kZWwocmVmcmVzaFRva2VuS2V5KVxuXG4gICAgICBsb2dBdXRoKCd0b2tlbl9yZWZyZXNoZWQnLCB1c2VyLmlkLCB1c2VyLmVtYWlsKVxuXG4gICAgICByZXR1cm4gbmV3VG9rZW5zXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFwaUVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ0ludmFsaWQgcmVmcmVzaCB0b2tlbicsICdJTlZBTElEX1JFRlJFU0hfVE9LRU4nLCA0MDEpXG4gICAgfVxuICB9XG5cbiAgLy8gTG9naW4gdXNlclxuICBhc3luYyBsb2dpbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBpcD86IHN0cmluZywgdXNlckFnZW50Pzogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdXNlcjogT21pdDxVc2VyLCAncGFzc3dvcmQnPlxuICAgIG9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uXG4gICAgdG9rZW5zOiBBdXRoVG9rZW5zXG4gIH0+IHtcbiAgICAvLyBGaW5kIHVzZXIgd2l0aCBvcmdhbml6YXRpb25cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0sXG4gICAgICBpbmNsdWRlOiB7IG9yZ2FuaXphdGlvbjogdHJ1ZSB9LFxuICAgIH0pXG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGxvZ0F1dGgoJ2xvZ2luX2ZhaWxlZCcsIHVuZGVmaW5lZCwgZW1haWwsIGlwLCBmYWxzZSlcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcignSW52YWxpZCBjcmVkZW50aWFscycsICdJTlZBTElEX0NSRURFTlRJQUxTJywgNDAxKVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWN0aXZlXG4gICAgaWYgKCF1c2VyLmlzQWN0aXZlKSB7XG4gICAgICBsb2dBdXRoKCdsb2dpbl9mYWlsZWRfaW5hY3RpdmUnLCB1c2VyLmlkLCBlbWFpbCwgaXAsIGZhbHNlKVxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKCdBY2NvdW50IGlzIGRpc2FibGVkJywgJ0FDQ09VTlRfRElTQUJMRUQnLCA0MDEpXG4gICAgfVxuXG4gICAgLy8gVmVyaWZ5IHBhc3N3b3JkXG4gICAgY29uc3QgaXNWYWxpZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpXG4gICAgaWYgKCFpc1ZhbGlkUGFzc3dvcmQpIHtcbiAgICAgIGxvZ0F1dGgoJ2xvZ2luX2ZhaWxlZCcsIHVzZXIuaWQsIGVtYWlsLCBpcCwgZmFsc2UpXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbHMnLCAnSU5WQUxJRF9DUkVERU5USUFMUycsIDQwMSlcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBvcmdhbml6YXRpb24gaXMgYWN0aXZlXG4gICAgaWYgKCF1c2VyLm9yZ2FuaXphdGlvbi5pc0FjdGl2ZSkge1xuICAgICAgbG9nQXV0aCgnbG9naW5fZmFpbGVkX29yZ19pbmFjdGl2ZScsIHVzZXIuaWQsIGVtYWlsLCBpcCwgZmFsc2UpXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ09yZ2FuaXphdGlvbiBpcyBkaXNhYmxlZCcsICdPUkdBTklaQVRJT05fRElTQUJMRUQnLCA0MDEpXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHVzZXIgc2Vzc2lvblxuICAgIGNvbnN0IHNlc3Npb25JZCA9IG5hbm9pZCgpXG4gICAgY29uc3QgZXhwaXJlc0F0ID0gbmV3IERhdGUoKVxuICAgIGV4cGlyZXNBdC5zZXREYXRlKGV4cGlyZXNBdC5nZXREYXRlKCkgKyA3KSAvLyA3IGRheXNcblxuICAgIGF3YWl0IGRiLnVzZXJTZXNzaW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlkOiBzZXNzaW9uSWQsXG4gICAgICAgIHRva2VuOiBzZXNzaW9uSWQsXG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgZXhwaXJlc0F0LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gVXBkYXRlIGxhc3QgbG9naW5cbiAgICBhd2FpdCBkYi51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogdXNlci5pZCB9LFxuICAgICAgZGF0YTogeyBsYXN0TG9naW5BdDogbmV3IERhdGUoKSB9LFxuICAgIH0pXG5cbiAgICAvLyBHZW5lcmF0ZSB0b2tlbnNcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCB0aGlzLmdlbmVyYXRlVG9rZW5zKHVzZXIsIHNlc3Npb25JZClcblxuICAgIGxvZ0F1dGgoJ2xvZ2luX3N1Y2Nlc3MnLCB1c2VyLmlkLCBlbWFpbCwgaXApXG5cbiAgICAvLyBSZW1vdmUgcGFzc3dvcmQgZnJvbSByZXNwb25zZVxuICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnNhZmVVc2VyIH0gPSB1c2VyXG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogc2FmZVVzZXIsXG4gICAgICBvcmdhbml6YXRpb246IHVzZXIub3JnYW5pemF0aW9uLFxuICAgICAgdG9rZW5zLFxuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIG5ldyB1c2VyIGFuZCBvcmdhbml6YXRpb25cbiAgYXN5bmMgcmVnaXN0ZXIoZGF0YToge1xuICAgIG5hbWU6IHN0cmluZ1xuICAgIGVtYWlsOiBzdHJpbmdcbiAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgb3JnYW5pemF0aW9uTmFtZTogc3RyaW5nXG4gIH0sIGlwPzogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdXNlcjogT21pdDxVc2VyLCAncGFzc3dvcmQnPlxuICAgIG9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uXG4gICAgdG9rZW5zOiBBdXRoVG9rZW5zXG4gIH0+IHtcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgb3JnYW5pemF0aW9uTmFtZSB9ID0gZGF0YVxuXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSB9LFxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ0VtYWlsIGFscmVhZHkgZXhpc3RzJywgJ0VNQUlMX0FMUkVBRFlfRVhJU1RTJywgNDA5KVxuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIG9yZ2FuaXphdGlvbiBzbHVnXG4gICAgY29uc3QgYmFzZVNsdWcgPSBvcmdhbml6YXRpb25OYW1lXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKVxuICAgICAgLnJlcGxhY2UoLyheLXwtJCkvZywgJycpXG4gICAgICAuc3Vic3RyaW5nKDAsIDUwKVxuXG4gICAgbGV0IHNsdWcgPSBiYXNlU2x1Z1xuICAgIGxldCBjb3VudGVyID0gMVxuXG4gICAgLy8gRW5zdXJlIHVuaXF1ZSBzbHVnXG4gICAgd2hpbGUgKGF3YWl0IGRiLm9yZ2FuaXphdGlvbi5maW5kVW5pcXVlKHsgd2hlcmU6IHsgc2x1ZyB9IH0pKSB7XG4gICAgICBzbHVnID0gYCR7YmFzZVNsdWd9LSR7Y291bnRlcn1gXG4gICAgICBjb3VudGVyKytcbiAgICB9XG5cbiAgICAvLyBIYXNoIHBhc3N3b3JkXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTIpXG5cbiAgICAvLyBDcmVhdGUgb3JnYW5pemF0aW9uIGFuZCB1c2VyIGluIHRyYW5zYWN0aW9uXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIG9yZ2FuaXphdGlvblxuICAgICAgY29uc3Qgb3JnYW5pemF0aW9uID0gYXdhaXQgdHgub3JnYW5pemF0aW9uLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiBvcmdhbml6YXRpb25OYW1lLFxuICAgICAgICAgIHNsdWcsXG4gICAgICAgICAgc2V0dGluZ3M6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHRpbWV6b25lOiAnVVRDJyxcbiAgICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdNTS9ERC9ZWVlZJyxcbiAgICAgICAgICAgIGFsbG93UHVibGljRGFzaGJvYXJkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVpcmVUd29GYWN0b3I6IGZhbHNlLFxuICAgICAgICAgICAgbWF4VXNlcnM6IDIsXG4gICAgICAgICAgICBjdXN0b21CcmFuZGluZzogZmFsc2UsXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgICAvLyBDcmVhdGUgdXNlciBhcyBvcmdhbml6YXRpb24gb3duZXJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0eC51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcbiAgICAgICAgICByb2xlOiAnT1dORVInLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbklkOiBvcmdhbml6YXRpb24uaWQsXG4gICAgICAgIH0sXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4geyB1c2VyLCBvcmdhbml6YXRpb24gfVxuICAgIH0pXG5cbiAgICAvLyBDcmVhdGUgdXNlciBzZXNzaW9uXG4gICAgY29uc3Qgc2Vzc2lvbklkID0gbmFub2lkKClcbiAgICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpXG4gICAgZXhwaXJlc0F0LnNldERhdGUoZXhwaXJlc0F0LmdldERhdGUoKSArIDcpIC8vIDcgZGF5c1xuXG4gICAgYXdhaXQgZGIudXNlclNlc3Npb24uY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaWQ6IHNlc3Npb25JZCxcbiAgICAgICAgdG9rZW46IHNlc3Npb25JZCxcbiAgICAgICAgdXNlcklkOiByZXN1bHQudXNlci5pZCxcbiAgICAgICAgZXhwaXJlc0F0LFxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgLy8gR2VuZXJhdGUgdG9rZW5zXG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdGhpcy5nZW5lcmF0ZVRva2VucyhyZXN1bHQudXNlciwgc2Vzc2lvbklkKVxuXG4gICAgbG9nQXV0aCgncmVnaXN0ZXJfc3VjY2VzcycsIHJlc3VsdC51c2VyLmlkLCBlbWFpbCwgaXApXG5cbiAgICAvLyBSZW1vdmUgcGFzc3dvcmQgZnJvbSByZXNwb25zZVxuICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnNhZmVVc2VyIH0gPSByZXN1bHQudXNlclxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IHNhZmVVc2VyLFxuICAgICAgb3JnYW5pemF0aW9uOiByZXN1bHQub3JnYW5pemF0aW9uLFxuICAgICAgdG9rZW5zLFxuICAgIH1cbiAgfVxuXG4gIC8vIExvZ291dCB1c2VyXG4gIGFzeW5jIGxvZ291dChzZXNzaW9uSWQ6IHN0cmluZywgcmVmcmVzaFRva2VuPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEludmFsaWRhdGUgc2Vzc2lvblxuICAgICAgYXdhaXQgZGIudXNlclNlc3Npb24udXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHNlc3Npb25JZCB9LFxuICAgICAgICBkYXRhOiB7IGV4cGlyZXNBdDogbmV3IERhdGUoKSB9LFxuICAgICAgfSlcblxuICAgICAgLy8gUmVtb3ZlIHJlZnJlc2ggdG9rZW4gZnJvbSBSZWRpcyBpZiBwcm92aWRlZCAodGVtcG9yYXJpbHkgZGlzYWJsZWQpXG4gICAgICAvLyBpZiAocmVmcmVzaFRva2VuKSB7XG4gICAgICAvLyAgIHRyeSB7XG4gICAgICAvLyAgICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuYXBwLmp3dC52ZXJpZnkocmVmcmVzaFRva2VuLCB7XG4gICAgICAvLyAgICAgICBzZWNyZXQ6IGp3dENvbmZpZy5yZWZyZXNoU2VjcmV0LFxuICAgICAgLy8gICAgIH0pIGFzIFJlZnJlc2hUb2tlblBheWxvYWRcblxuICAgICAgLy8gICAgIGNvbnN0IHJlZnJlc2hUb2tlbktleSA9IGByZWZyZXNoX3Rva2VuOiR7cGF5bG9hZC50b2tlbklkfWBcbiAgICAgIC8vICAgICBhd2FpdCB0aGlzLmFwcC5yZWRpcy5kZWwocmVmcmVzaFRva2VuS2V5KVxuICAgICAgLy8gICB9IGNhdGNoIHtcbiAgICAgIC8vICAgICAvLyBJZ25vcmUgZXJyb3JzIHdoZW4gcmVtb3ZpbmcgcmVmcmVzaCB0b2tlblxuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG5cbiAgICAgIGxvZ0F1dGgoJ2xvZ291dF9zdWNjZXNzJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKGVycm9yLCAnRXJyb3IgZHVyaW5nIGxvZ291dCcpXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ0xvZ291dCBmYWlsZWQnLCAnTE9HT1VUX0ZBSUxFRCcsIDUwMClcbiAgICB9XG4gIH1cblxuICAvLyBWZXJpZnkgSldUIHRva2VuIGFuZCBnZXQgdXNlclxuICBhc3luYyB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgdXNlcjogT21pdDxVc2VyLCAncGFzc3dvcmQnPlxuICAgIG9yZ2FuaXphdGlvbjogT3JnYW5pemF0aW9uXG4gICAgc2Vzc2lvbklkOiBzdHJpbmdcbiAgfT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBWZXJpZnkgdG9rZW5cbiAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmFwcC5qd3QudmVyaWZ5KHRva2VuKSBhcyBKV1RQYXlsb2FkXG5cbiAgICAgIC8vIENoZWNrIGlmIHNlc3Npb24gaXMgc3RpbGwgdmFsaWRcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkYi51c2VyU2Vzc2lvbi5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBheWxvYWQuc2Vzc2lvbklkIH0sXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi5leHBpcmVzQXQgPCBuZXcgRGF0ZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcignU2Vzc2lvbiBleHBpcmVkJywgJ1NFU1NJT05fRVhQSVJFRCcsIDQwMSlcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHVzZXIgd2l0aCBvcmdhbml6YXRpb25cbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogcGF5bG9hZC51c2VySWQgfSxcbiAgICAgICAgaW5jbHVkZTogeyBvcmdhbml6YXRpb246IHRydWUgfSxcbiAgICAgIH0pXG5cbiAgICAgIGlmICghdXNlciB8fCAhdXNlci5pc0FjdGl2ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoJ1VzZXIgbm90IGZvdW5kIG9yIGluYWN0aXZlJywgJ1VTRVJfTk9UX0ZPVU5EJywgNDAxKVxuICAgICAgfVxuXG4gICAgICBpZiAoIXVzZXIub3JnYW5pemF0aW9uLmlzQWN0aXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcignT3JnYW5pemF0aW9uIGlzIGRpc2FibGVkJywgJ09SR0FOSVpBVElPTl9ESVNBQkxFRCcsIDQwMSlcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHBhc3N3b3JkIGZyb20gcmVzcG9uc2VcbiAgICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnNhZmVVc2VyIH0gPSB1c2VyXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXI6IHNhZmVVc2VyLFxuICAgICAgICBvcmdhbml6YXRpb246IHVzZXIub3JnYW5pemF0aW9uLFxuICAgICAgICBzZXNzaW9uSWQ6IHBheWxvYWQuc2Vzc2lvbklkLFxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBBcGlFcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKCdJbnZhbGlkIHRva2VuJywgJ0lOVkFMSURfVE9LRU4nLCA0MDEpXG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IGFsbCBhY3RpdmUgc2Vzc2lvbnMgZm9yIGEgdXNlclxuICBhc3luYyBnZXRVc2VyU2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuIGRiLnVzZXJTZXNzaW9uLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgZXhwaXJlc0F0OiB7IGd0OiBuZXcgRGF0ZSgpIH0sXG4gICAgICB9LFxuICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgc2VsZWN0OiB7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICBpcEFkZHJlc3M6IHRydWUsXG4gICAgICAgIHVzZXJBZ2VudDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZEF0OiB0cnVlLFxuICAgICAgICBleHBpcmVzQXQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICAvLyBSZXZva2UgYSBzcGVjaWZpYyBzZXNzaW9uXG4gIGFzeW5jIHJldm9rZVNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgZGIudXNlclNlc3Npb24udXBkYXRlTWFueSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBpZDogc2Vzc2lvbklkLFxuICAgICAgICB1c2VySWQsXG4gICAgICB9LFxuICAgICAgZGF0YToge1xuICAgICAgICBleHBpcmVzQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBsb2dBdXRoKCdzZXNzaW9uX3Jldm9rZWQnLCB1c2VySWQpXG4gIH1cblxuICAvLyBSZXZva2UgYWxsIHNlc3Npb25zIGZvciBhIHVzZXJcbiAgYXN5bmMgcmV2b2tlQWxsU2Vzc2lvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCBkYi51c2VyU2Vzc2lvbi51cGRhdGVNYW55KHtcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxuICAgICAgZGF0YTogeyBleHBpcmVzQXQ6IG5ldyBEYXRlKCkgfSxcbiAgICB9KVxuXG4gICAgbG9nQXV0aCgnYWxsX3Nlc3Npb25zX3Jldm9rZWQnLCB1c2VySWQpXG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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